(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[13],{117:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return N}));var a=t(15),s=t.n(a),r=t(33),c=t(21),i=t(16),o=t(17),d=t(9),u=t(2),j=t(0),p=t(81),l=t(105),b=t(99),x=t(100),h=t(79),m=t(103),O=t(104),f=t(87),g=t(98),w=t(13),y=t(22),M=t(19),v=t(11),D=[{title:"Panel de Administraci\xf3n",linkTo:"/admin-panel"},{title:"Configuraci\xf3n de la App"}],A="M\xe1ximo de intentos para no en casa",P="M\xe1ximo de intentos para el contestador",k="D\xedas que se pospone un n\xfamero al dejar un mensaje en el contestador",S='D\xedas que se pospone un n\xfamero al tocar el bot\xf3n "Aplazar"',B="D\xedas que queda congelado un n\xfamero inexistente",V=Object.values(y.b).filter((function(e){return"number"===typeof e})),N=function(){var e=Object(w.b)(),n=e.configurations,t=e.updateConfigs,a=Object(j.useState)(!1),y=Object(d.a)(a,2),N=y[0],E=y[1],R=Object(w.c)(),q=Object(M.k)().AlertManager,I=Object(g.a)({mode:"all",reValidateMode:"onChange",defaultValues:Object(o.a)({unansweredMaxAttemps:n.unansweredMaxAttemps.toString(),answeringMachineMaxAttemps:n.answeringMachineMaxAttemps.toString(),answeringMachinePostponedDays:n.answeringMachinePostponedDays.toString(),postponedButtonDays:n.postponedButtonDays.toString(),nonExistentPostponedDays:n.nonExistentPostponedDays.toString()},V.reduce((function(e,t){return Object(o.a)(Object(o.a)({},e),{},Object(i.a)({},"button".concat(t,"shown"),!n.hiddenButtons.split(",").includes(t.toString())))}),{}))}),C=I.register,z=I.handleSubmit,J=I.errors,F=I.formState,G=F.isDirty,T=F.isValid,H=function(){var e=Object(c.a)(s.a.mark((function e(n){var a,c,i,o,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,E(!0),(a={}).unansweredMaxAttemps=parseInt(n.unansweredMaxAttemps),a.answeringMachineMaxAttemps=parseInt(n.answeringMachineMaxAttemps),a.answeringMachinePostponedDays=parseInt(n.answeringMachinePostponedDays),a.postponedButtonDays=parseInt(n.postponedButtonDays),a.nonExistentPostponedDays=parseInt(n.nonExistentPostponedDays),a.hiddenButtons=Object.entries(n).filter((function(e){var n=Object(d.a)(e,1)[0];return/button\dshown/.test(n)})).reduce((function(e,n){var t=Object(d.a)(n,2),a=t[0];if(!0===t[1])return e;var s=a.match(/button(\d)shown/)[1];return[].concat(Object(r.a)(e),[s])}),[]).join(","),e.next=11,R().put("/configurations",a);case 11:if(c=e.sent,i=Object(d.a)(c,2),o=i[0],u=i[1],!o){e.next=17;break}throw o;case 17:t(u.configurations),q.show("update-success"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),q.show("update-error");case 24:return e.prev=24,E(!1),e.finish(24);case 27:case"end":return e.stop()}}),e,null,[[0,21,24,27]])})));return function(n){return e.apply(this,arguments)}}();return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(M.a,{name:"update-success",position:"top",variant:"success",children:"\xa1Configuraciones actualizadas con \xe9xito! \u2728"}),Object(u.jsx)(M.a,{name:"update-error",position:"bottom",variant:"failure",children:"No se pudo actualizar las configuraciones. Por favor, intente de nuevo."}),Object(u.jsxs)(p.a,{className:"pt-3 mb-5",children:[Object(u.jsx)(M.b,{items:D}),Object(u.jsx)("hr",{}),Object(u.jsxs)(l.a,{onSubmit:z(H),children:[Object(u.jsxs)(b.a,{children:[Object(u.jsx)(x.a,{children:A}),Object(u.jsx)(h.a,{type:"number",name:"unansweredMaxAttemps",innerRef:C({validate:function(e){return e>=1}})}),J.unansweredMaxAttemps&&Object(u.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(x.a,{children:P}),Object(u.jsx)(h.a,{type:"number",name:"answeringMachineMaxAttemps",innerRef:C({validate:function(e){return e>=1}})}),J.answeringMachineMaxAttemps&&Object(u.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(x.a,{children:k}),Object(u.jsx)(h.a,{type:"number",name:"answeringMachinePostponedDays",innerRef:C({validate:function(e){return e>=1}})}),J.answeringMachinePostponedDays&&Object(u.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(x.a,{children:S}),Object(u.jsx)(h.a,{type:"number",name:"postponedButtonDays",innerRef:C({validate:function(e){return e>=1}})}),J.postponedButtonDays&&Object(u.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(u.jsxs)(b.a,{children:[Object(u.jsx)(x.a,{children:B}),Object(u.jsx)(h.a,{type:"number",name:"nonExistentPostponedDays",innerRef:C({validate:function(e){return e>=1}})}),J.nonExistentPostponedDays&&Object(u.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(u.jsx)("hr",{}),Object(u.jsx)("p",{children:"Botones que los publicadores pueden usar:"}),Object(u.jsx)(m.a,{children:V.map((function(e){return Object(u.jsx)(O.a,{md:"6",children:Object(u.jsx)(b.a,{check:!0,children:Object(u.jsxs)(x.a,{check:!0,children:[Object(u.jsx)(h.a,{type:"checkbox",name:"button".concat(e,"shown"),innerRef:C}),v.d[e]]})})},e)}))}),Object(u.jsx)("hr",{}),Object(u.jsx)(f.a,{type:"submit",block:!0,color:"primary",disabled:!G||!T||N,children:N?Object(u.jsx)(M.g,{fulfill:!0}):"Guardar configuraciones"})]})]})]})}}}]);
//# sourceMappingURL=13.aea3c0ec.chunk.js.map