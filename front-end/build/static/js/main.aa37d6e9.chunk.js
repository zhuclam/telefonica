(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{69:function(e,n,t){},70:function(e,n,t){"use strict";t.r(n);var r,c,a,o=t(0),i=t(1),s=t(21),l=t.n(s),d=(t(55),t(17)),u=t(49),j=t(12),b=t(33),h=t(5),O=t(8),x=t.n(O),p=t(11),m=t(4),f=Object(i.createContext)({}),v=function(e){var n=e.children,t=g();return Object(o.jsx)(f.Provider,{value:t,children:n})},g=function(){var e=Object(i.useState)(!!localStorage.getItem("dark-mode")),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(!!localStorage.getItem("advanced-mode")),a=Object(m.a)(c,2),o=a[0],s=a[1],l=Object(i.useState)(!!localStorage.getItem("test-mode")),d=Object(m.a)(l,2),u=d[0],j=d[1],b=Object(i.useState)(),h=Object(m.a)(b,2),O=h[0],f=h[1],v=Object(i.useState)(!0),g=Object(m.a)(v,2),k=g[0],N=g[1],y=Object(i.useState)(!1),w=Object(m.a)(y,2),S=w[0],E=w[1];return{darkModeEnabled:t,advancedModeEnabled:o,testModeEnabled:u,configurations:O,configsLoading:k,configsError:S,toggleDarkMode:function(e){e?localStorage.setItem("dark-mode","1"):localStorage.removeItem("dark-mode"),r(e)},toggleAdvancedMode:function(e){e?localStorage.setItem("advanced-mode","1"):localStorage.removeItem("advanced-mode"),s(e)},toggleTestMode:function(e){e?localStorage.setItem("test-mode","1"):localStorage.removeItem("test-mode"),j(e)},getConfigs:Object(i.useCallback)(function(){var e=Object(p.a)(x.a.mark((function e(n){var t,r,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,N(!0),e.next=4,n().get("/configurations");case 4:if(t=e.sent,r=Object(m.a)(t,2),c=r[0],a=r[1],!c){e.next=10;break}throw c;case 10:f(a.configs),E(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),E(!0);case 17:return e.prev=17,N(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(n){return e.apply(this,arguments)}}(),[]),updateConfigs:function(e){return f(e)}}},k=t(13);!function(e){e[e.UNANSWERED=0]="UNANSWERED",e[e.ANSWERED=1]="ANSWERED",e[e.NON_EXISTENT=2]="NON_EXISTENT",e[e.NO_CALL=3]="NO_CALL",e[e.ANSWERING_MACHINE=4]="ANSWERING_MACHINE",e[e.POSTPONE=5]="POSTPONE",e[e.IGNORE=6]="IGNORE"}(r||(r={})),function(e){e[e.RUSHED=7]="RUSHED"}(c||(c={}));var N="token",y="is_admin",w={0:"danger",1:"success",2:"dark",3:"warning",4:"primary",5:"info",6:"secondary"},S=(a={},Object(k.a)(a,r.UNANSWERED,"No en casa"),Object(k.a)(a,r.ANSWERED,"Atendi\xf3"),Object(k.a)(a,r.NON_EXISTENT,"No existe"),Object(k.a)(a,r.NO_CALL,"No visitar"),Object(k.a)(a,r.ANSWERING_MACHINE,"Contestador"),Object(k.a)(a,r.POSTPONE,"Aplazar"),Object(k.a)(a,r.IGNORE,"Ignorar"),a),E=function(){return Object(i.useContext)(f)},C=function(){return Object(i.useContext)(kn)},A=t(15),M=t(31),D=t(32),I=t(35),R=function(){function e(n,t){var r;Object(M.a)(this,e),this.token=void 0,this.useToken=void 0,this.isTest=void 0;var c=null!==(r=localStorage.getItem(N))&&void 0!==r?r:"";t&&!c&&console.warn("Warning, trying to use token when there is none in storage."),this.token=c,this.useToken=t,this.isTest=n}return Object(D.a)(e,[{key:"generateFetchParams",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GET",t=arguments.length>2?arguments[2]:void 0,r="string"===typeof e?e:e.path,c="".concat(this.composeQueryParams(Object(d.a)(Object(d.a)({},"string"!==typeof e?e.params:{}),this.isTest?{test:"1"}:{}))),a="".concat("/").concat(r).concat(c),o={method:n,body:t?JSON.stringify(Object(I.decamelizeKeys)(t)):void 0,headers:{Authorization:this.useToken?"Bearer ".concat(this.token):void 0,"content-type":"application/json"}};return[a,o]}},{key:"doRequest",value:function(){var e=Object(p.a)(x.a.mark((function e(n){var t,r,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n;case 3:if((t=e.sent).ok){e.next=6;break}throw t;case 6:if(!(null===(r=t.headers.get("content-type"))||void 0===r?void 0:r.includes("application/json"))){e.next=13;break}return e.next=10,t.json();case 10:e.t0=e.sent,e.next=16;break;case 13:return e.next=15,t.text();case 15:e.t0=e.sent;case 16:return c=e.t0,a=c&&Object(I.camelizeKeys)(c),e.abrupt("return",[null,a]);case 22:return e.prev=22,e.t1=e.catch(0),console.warn("Fetching error:",e.t1),e.abrupt("return",[e.t1,null]);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})));return function(n){return e.apply(this,arguments)}}()},{key:"composeQueryParams",value:function(e){var n=Object.keys(e).map((function(n){return encodeURIComponent(n)+"="+encodeURIComponent(e[n])})).join("&");return n&&"?"+n}},{key:"get",value:function(){var e=Object(p.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doRequest(fetch.apply(void 0,Object(A.a)(this.generateFetchParams(n)))));case 1:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(p.a)(x.a.mark((function e(n,t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doRequest(fetch.apply(void 0,Object(A.a)(this.generateFetchParams(n,"POST",t)))));case 1:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(p.a)(x.a.mark((function e(n,t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doRequest(fetch.apply(void 0,Object(A.a)(this.generateFetchParams(n,"PUT",t)))));case 1:case"end":return e.stop()}}),e,this)})));return function(n,t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(p.a)(x.a.mark((function e(n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.doRequest(fetch.apply(void 0,Object(A.a)(this.generateFetchParams(n,"DELETE")))));case 1:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()}]),e}(),T=function(){function e(n){Object(M.a)(this,e),this.phonesStorageKey=void 0,this.phonesStorageKey="phones"+(n?"_test":"")}return Object(D.a)(e,[{key:"getAll",value:function(){var e=localStorage.getItem(this.phonesStorageKey);return e?JSON.parse(e):[]}},{key:"add",value:function(e){var n=this.getAll();if(n.find((function(n){return n.id===e.id})))return null;if(n.length>=6){var t=n.shift();return n.push(e),localStorage.setItem(this.phonesStorageKey,JSON.stringify(n)),null!==t&&void 0!==t?t:null}return n.push(e),localStorage.setItem(this.phonesStorageKey,JSON.stringify(n)),null}},{key:"update",value:function(e,n){var t=this.getAll(),r=t.find((function(n){return n.id===e}));r&&(r.status=n,r.restore.lastStatus=n,localStorage.setItem(this.phonesStorageKey,JSON.stringify(t)))}}]),e}(),P=function(){var e=Object(i.useState)(),n=Object(m.a)(e,2)[1];return{forceUpdate:Object(i.useCallback)((function(){n({})}),[])}},W=t(6),L=t(71),F=t(72),z=t(73),q=t(74),_=t(75),B=t(76),G=t(77),U=t(78);function H(){var e=Object(W.a)(["\n  border-top: 1px solid gray;\n"]);return H=function(){return e},e}function V(){var e=Object(W.a)(["\n  color: ",";\n  display: inline-block;\n  padding: ","rem 0rem;\n"]);return V=function(){return e},e}function X(){var e=Object(W.a)(["\n  cursor: pointer;\n  display: inline-block;\n"]);return X=function(){return e},e}function Y(){var e=Object(W.a)(["\n  border-top: 1px solid gray;\n"]);return Y=function(){return e},e}function Q(){var e=Object(W.a)(["\n  justify-content: right;\n  text-align: right;\n  padding-top: 1rem;\n"]);return Q=function(){return e},e}function K(){var e=Object(W.a)(["\n  color: ",";\n"]);return K=function(){return e},e}var J=function(){var e,n,t=Object(i.useState)(!0),r=Object(m.a)(t,2),c=r[0],a=r[1],s=Object(i.useRef)(null);e=s,n=function(){return!c&&a(!0)},Object(i.useEffect)((function(){var t=function(t){var r=null===e||void 0===e?void 0:e.current;r&&!r.contains((null===t||void 0===t?void 0:t.target)||null)&&n(t)};return document.addEventListener("mousedown",t),document.addEventListener("touchstart",t),function(){document.removeEventListener("mousedown",t),document.removeEventListener("touchstart",t)}}),[e,n]);var l=function(){return a(!c)},d=cn().AlertManager,u=E(),j=u.darkModeEnabled,b=u.advancedModeEnabled,h=u.testModeEnabled,O=u.toggleAdvancedMode,x=u.toggleDarkMode,p=u.toggleTestMode,f=C(),v=f.isAuth,g=f.isAdmin,k=f.doLogout,N=function(){return l()};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(en,{name:"test-mode-alert",position:"bottom",children:"En el modo de prueba, todo funciona con un duplicado de la app real."}),Object(o.jsx)("div",{ref:s,children:Object(o.jsx)(L.a,{color:"dark",dark:!0,children:Object(o.jsxs)(F.a,{children:[Object(o.jsxs)(z.a,{className:"mr-auto",children:["TT"," Telef\xf3nica"," ",Object(o.jsxs)($,{children:["v","4.0.0"]})]}),Object(o.jsx)(q.a,{onClick:l,className:"mr-2"}),Object(o.jsx)(_.a,{isOpen:!c,navbar:!0,children:Object(o.jsxs)(Z,{navbar:!0,children:[Object(o.jsx)(B.a,{children:Object(o.jsx)(dn,{label:"Modo oscuro",checked:j,onChange:x})}),v&&Object(o.jsx)(B.a,{children:Object(o.jsx)(dn,{label:"Modo avanzado",checked:b,onChange:O})}),g&&Object(o.jsx)(B.a,{children:Object(o.jsx)(dn,{label:"Modo de prueba",checked:h,onChange:function(e){e?d.show("test-mode-alert"):d.hide("test-mode-alert"),p(e)}})}),g&&Object(o.jsxs)(re,{children:[Object(o.jsx)(B.a,{onClick:N,children:Object(o.jsx)(te,{to:"/admin-panel",background:"dark",children:"Ir al Panel de administraci\xf3n"})}),Object(o.jsx)(B.a,{onClick:N,children:Object(o.jsx)(te,{to:"/telefonica",background:"dark",children:"Ir a Telef\xf3nica"})})]}),v&&Object(o.jsx)(B.a,{children:Object(o.jsx)(ee,{children:Object(o.jsx)(ne,{onClick:function(){k(),N()},children:"Cerrar sesi\xf3n"})})})]})})]})})})]})},$=h.c.small(K(),(function(e){return e.theme.text.colors.secondary})),Z=Object(h.c)(G.a)(Q()),ee=h.c.div(Y()),ne=Object(h.c)(U.a)(X()),te=Object(h.c)(b.b)(V(),(function(e){var n=e.theme;return"dark"===e.background||n.darkMode?n.text.colors.lightgreen:n.text.colors.info}),(function(e){return e.noPadding?0:.5})),re=h.c.div(H());function ce(){var e=Object(W.a)(["\n  position: fixed;\n  top: 0;\n  left: 0;\n  z-index: 9999;\n  background: darkred;\n  color: white;\n  padding: 5px 10px;\n  border-top: 2px solid orange;\n  border-bottom: 2px solid orange;\n  width: 400px;\n  text-align: center;\n  transform: rotate(-45deg) translateX(-185px) translateY(73px);\n  transform-origin: left;\n"]);return ce=function(){return e},e}var ae=function(){return Object(o.jsx)(oe,{children:Object(o.jsx)("span",{children:"Modo de Prueba"})})},oe=h.c.div(ce()),ie=t(23),se=function(e){var n=e.children,t=E(),r=t.testModeEnabled,c=t.darkModeEnabled;return Object(o.jsxs)(o.Fragment,{children:[c&&Object(o.jsx)(ie.a,{children:le}),r&&Object(o.jsx)(ae,{}),Object(o.jsx)(J,{}),n,Object(o.jsx)(en,{name:"not-so-fast",position:"bottom",variant:"failure",children:"\xa1No tan r\xe1pido! No es recomendable tocar un bot\xf3n tan seguido."})]})},le=Object(o.jsx)("style",{children:"\n    body {\n      background: #222 !important;\n      color: white !important;\n    }\n\n    table {\n      color: white !important;\n    }\n\n    .table-striped thead tr {\n      background-color: rgba(0,0,0,.95)\n    }\n\n    .table-striped tbody tr:nth-of-type(even) {\n      background-color: rgba(0,0,0,.5)\n    }\n\n    .text-secondary {\n      color: #999 !important;\n    }\n\n    .modal-content {\n      background-color: #222 !important;\n    }\n\n    .close {\n      color: white !important;\n    }\n\n    .jumbotron {\n      background: #454b4f !important;\n    }\n\n    input {\n      border-top-style: hidden;\n      border-right-style: hidden;\n      border-left-style: hidden;\n      border-bottom-style: groove;\n      background-color: white;\n    }\n\n    input::placeholder {\n      color: #777 !important;\n    }\n\n    .breadcrumb {\n      background-color: #333;\n    }\n\n    .breadcrumb-item.active {\n      color: #ddd;\n    }\n"}),de=t(79);function ue(){var e=Object(W.a)(["\n      width: 100%;\n      height: ",";\n    "]);return ue=function(){return e},e}function je(){var e=Object(W.a)(["\n  ","\n"]);return je=function(){return e},e}var be=["success","danger","warning","info"],he=function(e){var n=e.fulfill,t=void 0!==n&&n,r=e.container,c=void 0!==r&&r;return Object(o.jsx)(F.a,{className:"h-100",children:Object(o.jsx)(Oe,{fulfill:t,container:c,className:"d-flex justify-content-center align-items-center",children:Object(o.jsx)(de.a,{color:be[Math.floor(Math.random()*be.length)],style:{width:"3rem",height:"3rem"}})})})},Oe=h.c.div(je(),(function(e){var n=e.fulfill,t=e.container,r=e.theme;return n&&Object(h.b)(ue(),t?"calc(100vh - ".concat(r.navbarHeight,"px)"):"100%")}));function xe(){var e=Object(W.a)(["\n  color: ",";\n"]);return xe=function(){return e},e}var pe=function(){return Object(o.jsx)(me,{className:"d-flex justify-content-center align-items-center h-100 text-center",children:Object(o.jsxs)("h4",{children:["Hubo un problema :( ",Object(o.jsx)("br",{})," ",Object(o.jsx)("br",{})," Intent\xe1 recargando la p\xe1gina."]})})},me=Object(h.c)(F.a)(xe(),(function(e){return e.theme.text.colors.error})),fe={timeout:0,data:null,show:!1,permanent:!1},ve=Object(i.createContext)({}),ge=function(e){var n=e.children,t=function(){var e=Object(i.useState)({}),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(i.useCallback)((function(e,n){var t=n||{},c=t.timeout,a=void 0===c?4e3:c,o=t.data,i=t.permanent,s=void 0!==i&&i;r((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(k.a)({},e,{timeout:a||0,data:o||null,permanent:s}))}))}),[]),a=Object(i.useCallback)((function(e){r((function(n){return Object(d.a)(Object(d.a)({},n),{},Object(k.a)({},e,void 0))}))}),[]),o=Object(i.useCallback)((function(){r({})}),[]),s=Object(i.useCallback)((function(e){return Object(d.a)({show:!0},t[e]||fe)}),[t]);return{AlertManager:Object(i.useMemo)((function(){return{show:c,hide:a,hideAll:o}}),[c,a,o]),getByName:s}}();return Object(o.jsx)(ve.Provider,{value:t,children:n})};function ke(){var e=Object(W.a)(["\n  0% { transform: translateY(calc(-300%)) translateX(-50%); }\n  30% { transform: translateY(calc(-500%)) translateX(-50%); }\n  100% { transform: translateY(calc(-100% + 40px)) translateX(-50%); }\n"]);return ke=function(){return e},e}function Ne(){var e=Object(W.a)(["\n  0% { transform: translateY(calc(-100% + 40px)) translateX(-50%) }\n  70% { transform: translateY(calc(-500%)) translateX(-50%) }\n  100% { transform: translateY(calc(-300%)) translateX(-50%) }\n"]);return Ne=function(){return e},e}function ye(){var e=Object(W.a)(["\n  from { opacity: 1; transform: translate(-50%, calc(",")) }\n  to { opacity: 1; transform: translate(-50%, 0) }\n"]);return ye=function(){return e},e}function we(){var e=Object(W.a)(["\n  from { opacity: 1; transform: translate(-50%, 0) }\n  to { opacity: 1; transform: translate(-50%, calc(",")) }\n"]);return we=function(){return e},e}function Se(){var e=Object(W.a)(["\n  from { opacity: 1; transform: translateY(calc(",")) }\n  to { opacity: 1; transform: translateY(0) }\n"]);return Se=function(){return e},e}function Ee(){var e=Object(W.a)(["\n  from { opacity: 1; transform: translateY(0) }\n  to { opacity: 1; transform: translateY(calc(",")) }\n"]);return Ee=function(){return e},e}function Ce(){var e=Object(W.a)(["\n  from { opacity: 1 }\n  to { opacity: 0 }\n"]);return Ce=function(){return e},e}function Ae(){var e=Object(W.a)(["\n  from { opacity: 0 }\n  to { opacity: 1 }\n"]);return Ae=function(){return e},e}var Me=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(h.d)(Ee(),e?"-100% - 10px":"-100%")},De=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(h.d)(Se(),e?"-100% - 10px":"-100%")},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(h.d)(we(),e?"-100% - 10px":"-100%")},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return Object(h.d)(ye(),e?"-100% - 10px":"-100%")};Object(h.d)(Ne()),Object(h.d)(ke());function Te(){var e=Object(W.a)(["\n    "," {\n      width: 100vw;\n      border-radius: 0;\n      left: 0;\n      right: 0;\n      ","\n      transform: ",";\n      animation: "," ","s\n        ",";\n    }\n  "]);return Te=function(){return e},e}function Pe(){var e=Object(W.a)(["\n    animation: "," ","s\n      ",";\n  "]);return Pe=function(){return e},e}function We(){var e=Object(W.a)(["\n        ","\n        ","\n        top: 100vh;\n        right: 10px;\n        transform: translateY(calc(-100% - 10px));\n        ","\n      "]);return We=function(){return e},e}function Le(){var e=Object(W.a)(["\n        ","\n        ","\n        top: 100vh;\n        left: 10px;\n        transform: translateY(calc(-100% - 10px));\n        ","\n      "]);return Le=function(){return e},e}function Fe(){var e=Object(W.a)(["\n        ","\n        ","\n        top: 100vh;\n        left: 50%;\n        transform: translate(-50%, calc(-100% - 10px));\n        ","\n      "]);return Fe=function(){return e},e}function ze(){var e=Object(W.a)(["\n        ","\n        ","\n        top: 10px;\n        right: 10px;\n        ","\n      "]);return ze=function(){return e},e}function qe(){var e=Object(W.a)(["\n        ","\n        ","\n        top: 10px;\n        left: 10px;\n        ","\n      "]);return qe=function(){return e},e}function _e(){var e=Object(W.a)(["\n        ","\n        ","\n        top: 10px;\n        left: 50%;\n        transform: translateX(-50%);\n        ","\n      "]);return _e=function(){return e},e}var Be=function(e,n,t){if(!e)return"";switch(e){case"top":return Object(h.b)(_e(),Ge,Ue("top-centered",n,t),He("top",n,t));case"top-left":return Object(h.b)(qe(),Ge,Ue("top",n,t),He("top",n,t));case"top-right":return Object(h.b)(ze(),Ge,Ue("top",n,t),He("top",n,t));case"bottom":return Object(h.b)(Fe(),Ge,Ue("bottom-centered",n,t),He("bottom",n,t));case"bottom-left":return Object(h.b)(Le(),Ge,Ue("bottom",n,t),He("bottom",n,t));case"bottom-right":return Object(h.b)(We(),Ge,Ue("bottom",n,t),He("bottom",n,t));default:return""}},Ge="\n    position: fixed;\n    z-index: 100000;\n",Ue=function(e,n,t){var r=e.endsWith("centered")?[Re(!0),Ie(!0)]:[De(!0),Me(!0)],c=Object(m.a)(r,2),a=c[0],o=c[1],i=e.startsWith("top")?[a,o]:[o,a],s=Object(m.a)(i,2),l=s[0],d=s[1];return Object(h.b)(Pe(),n?l:d,t,n?"ease-out":"ease-in")},He=function(e,n,t){var r="top"===e?[De(),Me()]:[Me(),De()],c=Object(m.a)(r,2),a=c[0],o=c[1];return Object(h.b)(Te(),(function(e){return e.theme.breakpoints.down("sm")}),"top"===e?"top: 0;":"","bottom"===e?"translateY(-100%)":"none",n?a:o,t,n?"ease-out":"ease-in")},Ve=function(){return null},Xe=function(e){var n=e.name,t=e.children,r=Object(i.useContext)(ve).AlertManager,c=Object(i.useCallback)((function(){return r.hide(n)}),[n,r]);return Object(i.cloneElement)(t,{onClick:c})};function Ye(){var e=Object(W.a)(["\n  ","\n  border-bottom: "," 5px solid;\n"]);return Ye=function(){return e},e}function Qe(){var e=Object(W.a)(["\n  background: #444;\n  border-bottom: #28a745 5px solid;\n  height: 76px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return Qe=function(){return e},e}function Ke(){var e=Object(W.a)(["\n          box-sizing: border-box;\n          border-radius: 4px;\n          background-color: #333;\n          color: #eee;\n          padding: 15px 20px;\n          width: fit-content;\n          display: inline-block;\n          cursor: ",";\n          ","\n          ","\n          ","\n          ","\n        "]);return Ke=function(){return e},e}function Je(){var e=Object(W.a)(["\n          ","\n          ","\n          ","\n        "]);return Je=function(){return e},e}function $e(){var e=Object(W.a)(["\n      animation: "," ","s ",";\n      opacity: ",";\n    "]);return $e=function(){return e},e}function Ze(){var e=Object(W.a)(["\n  ","\n"]);return Ze=function(){return e},e}var en=function(e){var n=e.name,t=e.onClose,r=e.enterAnimation,c=e.exitAnimation,a=e.animationDuration,s=void 0===a?.3:a,d=e.animationTimingFunction,u=void 0===d?function(){return"linear"}:d,j=e.noStyle,b=void 0!==j&&j,O=e.children,x=e.containerCSS,p=e.position,f=e.id,v=e.onClick,g=e.variant,k=Object(i.useContext)(ve),N=k.getByName,y=k.AlertManager,w=N(n),S=w.show,E=w.timeout,C=w.data,A=w.permanent,M=Object(i.useState)(!1),D=Object(m.a)(M,2),I=D[0],R=D[1],T=Object(i.useState)(null),P=Object(m.a)(T,2),W=P[0],L=P[1],F=Object(i.useRef)(void 0),z=function(){var e=function(){clearTimeout(F.current),R(!1),L(null),null===t||void 0===t||t()};"none"!==c?new Promise((function(e){return setTimeout(e,1e3*s)})).then(e):e()};if(Object(i.useLayoutEffect)((function(){S?(R(!0),C&&L(C),A||(F.current=setTimeout((function(){return y.hide(n)}),E))):I&&z()}),[S]),!I)return null;var q="function"===typeof O?O(W):O,_=Object(o.jsx)(nn,{id:f||n,noStyle:b,animation:S?r||Object(h.d)(Ae()):c||Object(h.d)(Ce()),animationDuration:s,animationTimingFunction:u(S),show:S,containerCSS:x,position:p,onClick:v,role:"alert",variant:g,children:i.Children.map(q,(function(e){return e&&Object(i.isValidElement)(e)&&e.type.name===Ve.name?Object(o.jsx)(Xe,{name:n,children:Object(o.jsx)("span",{children:e.props.children})}):e}))});return p?l.a.createPortal(_,document.querySelector("body")):_},nn=h.c.div(Ze(),(function(e){var n=e.noStyle,t=e.animation,r=e.animationDuration,c=e.show,a=e.containerCSS,o=e.animationTimingFunction,i=e.position,s=e.onClick,l=e.variant,d=Object(h.b)($e(),t,r,o,c?1:0),u=l?"success"===l?tn:rn:"";return n?Object(h.b)(Je(),d,a,Be(i,c,r)):Object(h.b)(Ke(),s?"pointer":"initial",d,u,a,Be(i,c,r))})),tn=Object(h.b)(Qe()),rn=Object(h.b)(Ye(),tn,(function(e){return e.theme.text.colors.error})),cn=function(){return{AlertManager:Object(i.useContext)(ve).AlertManager}},an=t(80),on=t(81),sn=function(e){var n=e.items;return Object(o.jsx)(an.a,{children:n.map((function(e,t){var r=e.title,c=e.linkTo,a=e.onClick;return Object(o.jsx)(on.a,{onClick:a,active:t===n.length-1,children:c?Object(o.jsx)(te,{to:c,noPadding:!0,children:r}):r},r)}))})};function ln(){var e=Object(W.a)(["\n  display: inline-block;\n  position: relative;\n  font-size: 16px;\n  line-height: 24px;\n\n  input {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 36px;\n    height: 20px;\n    opacity: 0;\n    z-index: 0;\n\n    :checked + label:before {\n      background-color: rgba(63, 81, 181, 0.5);\n    }\n\n    :checked + label:after {\n      left: 16px;\n      background-color: cornflowerblue;\n      border-color: cornflowerblue;\n    }\n  }\n\n  label {\n    display: block;\n    padding: 0 0 0 44px;\n    cursor: pointer;\n    color: #fff;\n\n    ::before {\n      content: '';\n      position: absolute;\n      top: 5px;\n      left: 0;\n      width: 36px;\n      height: 14px;\n      background-color: #999;\n      border-radius: 14px;\n      z-index: 1;\n      transition: background-color 0.28s cubic-bezier(0.4, 0, 0.2, 1);\n    }\n\n    ::after {\n      content: '';\n      position: absolute;\n      top: 2px;\n      left: 0;\n      width: 20px;\n      height: 20px;\n      background-color: #fff;\n      border: 1px solid #ededed;\n      border-radius: 14px;\n      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14),\n        0 3px 1px -2px rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n      z-index: 2;\n      transition: all 0.28s cubic-bezier(0.4, 0, 0.2, 1);\n      transition-property: left, background-color, border-color;\n    }\n  }\n"]);return ln=function(){return e},e}var dn=function(e){var n=e.label,t=void 0===n?"":n,r=e.onChange,c=e.checked;return Object(o.jsxs)(un,{children:[Object(o.jsx)("input",{type:"checkbox",id:"".concat(t.split(" ").join("-"),"-check"),checked:c,onChange:function(e){return r(e.target.checked)}}),Object(o.jsx)("label",{htmlFor:"".concat(t.split(" ").join("-"),"-check"),children:t||Object(o.jsx)("span",{children:"\xa0"})})]})},un=h.c.div(ln()),jn=t(94),bn=t(82),hn=t(83),On=t(84),xn=t(85),pn=function(){var e=Object(i.useState)(!1),n=Object(m.a)(e,2),t=n[0],r=n[1],c=function(){t?d():r(!t)},a=Object(i.useState)(null),o=Object(m.a)(a,2),s=o[0],l=o[1],d=function(){r(!1),l(null)};return{isModalOpen:t,data:s,askEditConfirmation:function(e){c(),l(e)},toggleModal:c,reset:d}},mn=function(e){var n=e.isOpen,t=e.toggleModal,r=e.onConfirm,c=e.buttonColor,a=e.confirmationLabel,i=e.title,s=e.body;return Object(o.jsxs)(jn.a,{centered:!0,isOpen:n,toggle:t,children:[Object(o.jsx)(bn.a,{toggle:t,children:i}),s&&Object(o.jsx)(hn.a,{children:s}),Object(o.jsx)(On.a,{children:Object(o.jsx)(xn.a,{color:c,onClick:r,children:a})})]})},fn=function(e,n){var t=Object(i.useRef)(void 0),r=Object(i.useRef)(!0);Object(i.useEffect)((function(){return function(){return clearTimeout(t.current)}}),[]);var c=cn().AlertManager;return Object(i.useCallback)((function(){!1!==r.current?(e.apply(void 0,arguments),r.current=!1,t.current=setTimeout((function(){r.current=!0}),n)):c.show("not-so-fast",{timeout:3e3})}),[e,n])},vn=function(){var e=function(){var e=P().forceUpdate;return{reactive:Object(i.useCallback)((function(n){return function(){var t=n.apply(void 0,arguments);return e(),t}}),[e])}}().reactive,n=E().testModeEnabled,t=Object(i.useMemo)((function(){return new T(n)}),[n]);return Object(i.useMemo)((function(){return{getAll:t.getAll.bind(t),add:e(t.add.bind(t)),update:e(t.update.bind(t))}}),[t,e])},gn=function(){var e=E().testModeEnabled;return Object(i.useCallback)((function(){var n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new R(e,n)}),[e])},kn=Object(i.createContext)({}),Nn=function(e){var n=e.children,t=yn();return Object(o.jsx)(kn.Provider,{value:t,children:n})},yn=function(){var e=Object(i.useState)(!!localStorage.getItem(N)),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(!!localStorage.getItem(y)),a=Object(m.a)(c,2),o=a[0],s=a[1],l=Object(i.useState)(!1),d=Object(m.a)(l,2),u=d[0],j=d[1],b=cn().AlertManager,h=gn();return{isAuth:t,isLoading:u,isAdmin:t&&o,doLogin:function(){var e=Object(p.a)(x.a.mark((function e(n,t){var c,a,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,j(!0),e.next=4,h(!1).post("login",{username:n,password:t});case 4:if(c=e.sent,a=Object(m.a)(c,2),o=a[0],i=a[1],!o){e.next=10;break}throw o;case 10:localStorage.setItem(N,i.accessToken),i.isAdmin?localStorage.setItem(y,"1"):localStorage.removeItem(y),s(i.isAdmin),r(!0),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),401===e.t0.status&&b.show("wrong-login-credentials");case 19:return e.prev=19,j(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[0,16,19,22]])})));return function(n,t){return e.apply(this,arguments)}}(),doLogout:function(){localStorage.removeItem(N),localStorage.removeItem(y),r(!1),s(!1)}}},wn=function(e){var n=e.children;return Object(o.jsx)(ge,{children:Object(o.jsx)(v,{children:Object(o.jsx)(Nn,{children:n})})})},Sn={xs:"0px",sm:"600px",md:"960px",lg:"1150px",xl:"1920px"},En=function(e){var n,t=e.children,r=Object(i.useContext)(f).darkModeEnabled;return Object(o.jsx)(h.a,{theme:(n=r,{darkMode:n,navbarHeight:56,text:{colors:{secondary:"#999",error:"#ff5e5e",green:"#28a745",blue:"#2000d4",black:"#222",white:"#fff",lightgreen:"lightgreen",info:"#007bff",red:"#dc3545"}},breakpoints:{up:function(e){return"@media (min-width: ".concat(Sn[e],")")},down:function(e){return"@media (max-width: ".concat(Sn[e],")")},between:function(e,n){return"@media (min-width: ".concat(Sn[e],") and (max-width: ").concat(Sn[n],")")}}}),children:t})},Cn=t(86),An=t(87),Mn=t(88),Dn=t(89),In=function(){var e=Object(i.useState)(""),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(""),a=Object(m.a)(c,2),s=a[0],l=a[1],d=C(),u=d.doLogin,j=d.isLoading,b=function(){t&&s&&u(t,s)},h=function(e){return"Enter"===e.key&&b()};return j?Object(o.jsx)(he,{fulfill:!0,container:!0}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ie.a,{children:Object(o.jsxs)("title",{children:["TT"," Telef\xf3nica Login"]})}),Object(o.jsx)(en,{name:"wrong-login-credentials",position:"bottom",children:"Usuario o contrase\xf1a incorrectos."}),Object(o.jsx)(Cn.a,{fluid:!0,children:Object(o.jsxs)(F.a,{children:[Object(o.jsx)("h1",{className:"display-5",children:"Iniciar sesi\xf3n"}),Object(o.jsx)("p",{className:"lead",children:"Solicite los datos de ingreso a su superintendente de servicio."})]})}),Object(o.jsxs)(F.a,{children:[Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{for:"username",children:"Usuario"}),Object(o.jsx)(Dn.a,{value:t,onChange:function(e){return r(e.target.value)},onKeyDown:h})]}),Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{for:"password",children:"Contrase\xf1a"}),Object(o.jsx)(Dn.a,{value:s,onChange:function(e){return l(e.target.value)},onKeyDown:h,type:"password"})]}),Object(o.jsx)("div",{className:"d-flex justify-content-center mt-4",children:Object(o.jsx)(xn.a,{color:"success",onClick:b,children:"Ingresar"})})]})]})},Rn=function(e){var n=e.phone,t=Object(i.useState)(0),r=Object(m.a)(t,2),c=r[0],a=r[1];return Object(i.useEffect)((function(){a(0)}),[n]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("a",{style:{textDecoration:"underline"},href:"tel:".concat(n),onClick:function(){return a(c+1)},children:n}),Array(c).fill(null).map((function(e){return Object(o.jsx)("span",{className:"d-block text-success",children:"\xa1Tocado!"})}))]})};function Tn(){var e=Object(W.a)(["\n  .title {\n    display: flex;\n    justify-content: space-between;\n    font-weight: 500;\n\n    span {\n      font-weight: 800;\n    }\n  }\n\n  .inner {\n    display: flex;\n    justify-content: space-between;\n    padding-top: 0.5em;\n  }\n"]);return Tn=function(){return e},e}var Pn=function(e){var n=e.phoneId,t=e.initialNoCallOnWeekends,r=Object(i.useState)(!1),c=Object(m.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(t),d=Object(m.a)(l,2),u=d[0],j=d[1],b=cn().AlertManager,h=gn(),O=function(){var e=Object(p.a)(x.a.mark((function e(t,r){var c,a,o,i,s;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=function(){},a=r,"callOnWeekends"===t&&(c=function(){return j(u)},j(r),a=!r),e.prev=3,e.next=6,h().put("phones/".concat(n,"/options"),Object(k.a)({},t,a));case 6:if(o=e.sent,i=Object(m.a)(o,1),!(s=i[0])){e.next=11;break}throw s;case 11:b.show("phone-option-update-success"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),c(),b.hideAll(),b.show("phone-option-update-failed");case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(en,{name:"phone-option-update-success",position:"top",variant:"success",children:"Opci\xf3n de tel\xe9fono actualizada con \xe9xito."}),Object(o.jsx)(en,{name:"phone-option-update-failed",position:"bottom",variant:"failure",children:"No se pudo actualizar opci\xf3n de tel\xe9fono."}),Object(o.jsxs)(Wn,{children:[Object(o.jsxs)("div",{className:"title",onClick:function(){return s(!a)},children:["Opciones de tel\xe9fono",Object(o.jsx)("span",{children:a?"-":"+"})]}),Object(o.jsx)(_.a,{isOpen:a,children:Object(o.jsxs)("div",{className:"inner",children:[Object(o.jsx)("span",{children:"No llamar los fin de semana:"}),Object(o.jsx)(dn,{label:"",checked:u,onChange:function(e){return O("callOnWeekends",e)}})]})})]})]})},Wn=h.c.div(Tn());function Ln(){var e=Object(W.a)(["\n  margin-bottom: 0;\n  border: none;\n  color: ",";\n  text-decoration: underline;\n  background: none;\n  margin: auto;\n"]);return Ln=function(){return e},e}function Fn(){var e=Object(W.a)(["\n  border-top: 1px solid\n    ",";\n  border-bottom: 1px solid\n    ",";\n  padding: 10px 0;\n  margin-top: 2em;\n  display: flex;\n\n  > div {\n    width: 100%;\n  }\n"]);return Fn=function(){return e},e}function zn(){var e=Object(W.a)(["\n  width: 100%;\n  border-top: none;\n  border-right: none;\n  border-left: none;\n  border-image: initial;\n  border-bottom: 2px solid ",";\n  outline: none;\n  transition: border-bottom-color 0.25s;\n  margin-bottom: 0.5em;\n  border-radius: 5px;\n  padding: 0 10px;\n\n  :focus {\n    border-bottom-color: ",";\n  }\n"]);return zn=function(){return e},e}var qn=function(e){var n,t,a=e.phone,i=e.comments,s=e.handleComments,l=e.openHelpSection,d=e.handlePhoneFeedback,u=E(),j=u.advancedModeEnabled,b=u.configurations,h=b.campaignMode,O=function(e){return!b.hiddenButtons.split(",").includes(e.toString())},x=pn(),p=x.isModalOpen,m=x.data,f=x.askEditConfirmation,v=x.toggleModal,g=x.reset,k=function(e){return function(){j?f(e):d(e)}},N=k(r.ANSWERED),y=k(r.UNANSWERED),C=k(r.NON_EXISTENT),A=k(r.NO_CALL),M=k(r.ANSWERING_MACHINE),D=k(r.POSTPONE),I=k(r.IGNORE),R=Object(o.jsx)("div",{className:"table-responsive d-none d-sm-block",children:Object(o.jsxs)("table",{className:"table table-bordered",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Tel\xe9fono"}),Object(o.jsx)("th",{children:"Otros datos"}),a.comments?Object(o.jsx)("th",{children:"Comentarios"}):null,Object(o.jsx)("th",{children:"\xdaltima fecha que atendi\xf3"}),Object(o.jsx)("th",{children:"\xdaltima fecha que se lo llam\xf3"})]})}),Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:Object(o.jsx)(Rn,{phone:a.phone})}),Object(o.jsx)("td",{children:a.info}),a.comments?Object(o.jsx)("td",{children:a.comments}):null,Object(o.jsx)("td",{children:null!==(n=a.answeredOn)&&void 0!==n?n:"Nunca"}),Object(o.jsx)("td",{children:a.unansweredDate?a.unansweredDate:a.fulfilledOn?Object(o.jsxs)(o.Fragment,{children:["jue, 25 jun 2020"===a.fulfilledOn&&"Antes del ",a.fulfilledOn]}):"Nunca"})]})})]})}),T=Object(o.jsxs)("div",{className:"d-block d-sm-none text-center",children:[Object(o.jsx)("span",{style:{fontWeight:500},children:"Tel\xe9fono:"}),Object(o.jsx)("div",{children:Object(o.jsx)(Rn,{phone:a.phone})}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{style:{fontWeight:500},children:"Otros datos:"}),Object(o.jsx)("div",{children:a.info}),Object(o.jsx)("br",{}),a.comments&&Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{style:{fontWeight:500},children:"Comentarios:"}),Object(o.jsx)("div",{children:a.comments}),Object(o.jsx)("br",{})]}),Object(o.jsx)("span",{style:{fontWeight:500},children:"\xdaltima fecha que atendi\xf3:"}),Object(o.jsx)("div",{children:null!==(t=a.answeredOn)&&void 0!==t?t:"Nunca"}),Object(o.jsx)("br",{}),Object(o.jsx)("span",{style:{fontWeight:500},children:"\xdaltima fecha que se lo llam\xf3:"}),Object(o.jsx)("div",{children:a.unansweredDate?a.unansweredDate:a.fulfilledOn?Object(o.jsxs)(o.Fragment,{children:["jue, 25 jun 2020"===a.fulfilledOn&&"Antes del ",a.fulfilledOn]}):"Nunca"})]}),P=Object(o.jsx)(Bn,{children:Object(o.jsx)(Gn,{onClick:l,children:"\xbfQu\xe9 hace cada bot\xf3n?"})}),W=Object(o.jsx)("div",{className:"row my-4",children:Object(o.jsxs)("div",{className:"col-12",children:[Object(o.jsx)("span",{className:"text-secondary d-inline-block mb-2",children:"Comentarios (opcional):"}),Object(o.jsx)(_n,{autoFocus:!0,placeholder:"Sus comentarios ac\xe1...",type:"text",value:i,onChange:function(e){return s(e.target.value)},readOnly:!j}),a.commentedOn&&Object(o.jsxs)("span",{className:"input-helper text-secondary",children:["Comentado el:"," ",Object(o.jsx)("span",{className:"text-success",children:a.commentedOn})]}),a.answeringMachineDate&&Object(o.jsxs)("span",{className:"d-block input-helper text-secondary",children:["\xdaltimo mensaje en el contestador:"," ",Object(o.jsx)("span",{className:"text-success",children:a.answeringMachineDate})]}),!a.commentedOn&&!a.answeringMachineDate&&Object(o.jsx)("span",{className:"input-helper text-secondary",children:"Ej.: lugar de trabajo, no habla espa\xf1ol, etc."})]})}),L=h?Object(o.jsx)("div",{className:"my-4",children:Object(o.jsx)(xn.a,{color:"success",block:!0,onClick:function(){return d(c.RUSHED)},children:"Siguiente"})}):j?Object(o.jsxs)("div",{className:"my-4 row d-flex justify-content-center",children:[O(r.ANSWERED)&&Object(o.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-success btn-lg w-100 mx-auto mx-md-0 d-block",onClick:N,children:"Atendi\xf3"})}),O(r.UNANSWERED)&&Object(o.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-danger btn-lg w-100 mx-auto mx-md-0 d-block",onClick:y,children:"No en casa"})}),O(r.ANSWERING_MACHINE)&&Object(o.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-primary btn-lg w-100 mx-auto mx-md-0 d-block",onClick:M,children:"Contestador"})}),O(r.POSTPONE)&&Object(o.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-info btn-lg w-100 mx-auto mx-md-0 d-block",onClick:D,children:"Aplazar"})}),O(r.IGNORE)&&Object(o.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-secondary btn-lg w-100 mx-auto mx-md-0 d-block",onClick:I,children:"Ignorar"})}),O(r.NO_CALL)&&Object(o.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-warning btn-lg w-100 mx-auto mx-md-0 d-block",onClick:A,children:"No visitar"})}),O(r.NON_EXISTENT)&&Object(o.jsx)("div",{className:"col-6 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-dark btn-lg w-100 mx-auto mx-md-0 d-block",onClick:C,children:"No existe"})})]}):Object(o.jsxs)("div",{className:"my-4 row d-flex justify-content-center",children:[O(r.ANSWERED)&&Object(o.jsx)("div",{className:"col-6 mb-3 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-success btn-lg mx-auto mx-md-0 d-block w-100",onClick:N,children:"Atendi\xf3"})}),O(r.UNANSWERED)&&Object(o.jsx)("div",{className:"col-6 mb-3 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-danger btn-lg mx-auto mx-md-0 d-block w-100",onClick:y,children:"No en casa"})}),O(r.NO_CALL)&&Object(o.jsx)("div",{className:"col-6 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-warning btn-lg mx-auto mx-md-0 d-block w-100",onClick:A,children:"No visitar"})}),O(r.NON_EXISTENT)&&Object(o.jsx)("div",{className:"col-6 col-md-auto",children:Object(o.jsx)("button",{className:"btn btn-dark btn-lg mx-auto mx-md-0 d-block w-100",onClick:C,children:"No existe"})})]});return Object(o.jsxs)(F.a,{className:"py-4",children:[R,T,W,h&&Object(o.jsx)(Cn.a,{fluid:!0,className:"my-2",children:Object(o.jsxs)(F.a,{children:[Object(o.jsx)("h6",{children:"\xa1Estamos en campa\xf1a!"}),Object(o.jsx)("small",{children:'Durante la campa\xf1a, solo habr\xe1 un bot\xf3n de "siguiente".'})]})}),j&&!h&&Object(o.jsx)(Bn,{children:Object(o.jsx)(Pn,{phoneId:a.id,initialNoCallOnWeekends:a.noWeekends})}),L,j&&!h&&P,null!==m&&Object(o.jsx)(mn,{isOpen:p,toggleModal:v,onConfirm:function(){null!==m&&(d(m),g())},title:"\xbfSeguro?",buttonColor:w[m],confirmationLabel:S[m]})]})},_n=h.c.input(zn(),(function(e){return e.theme.text.colors.secondary}),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:n.text.colors.black})),Bn=h.c.div(Fn(),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:n.text.colors.secondary}),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:n.text.colors.secondary})),Gn=h.c.button(Ln(),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:"#555"}));function Un(){var e=Object(W.a)(["\n  width: 100%;\n"]);return Un=function(){return e},e}function Hn(){var e=Object(W.a)(["\n  display: flex;\n  padding: 20px 0;\n  min-height: calc(100vh - ","px);\n  justify-content: space-evenly;\n  flex-direction: column;\n"]);return Hn=function(){return e},e}var Vn=function(e){var n=e.close,t=E(),c=t.advancedModeEnabled,a=t.configurations,i=function(e){return!a.hiddenButtons.split(",").includes(e.toString())};return Object(o.jsxs)(Xn,{children:[i(r.ANSWERED)&&Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:["\xbfQu\xe9 hace el bot\xf3n de ",Object(o.jsx)("span",{className:"text-success",children:"atendi\xf3"}),"?"]}),Object(o.jsx)("p",{children:"Manda el n\xfamero al final de la cola y registra la fecha en que se atendi\xf3."})]}),i(r.UNANSWERED)&&Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:["\xbfQu\xe9 hace el bot\xf3n de"," ",Object(o.jsx)("span",{className:"text-danger",children:"no en casa"}),"?"]}),Object(o.jsxs)("p",{children:["Guarda el n\xfamero para llamarlo de vuelta ma\xf1ana, hasta un m\xe1ximo de"," ",a.unansweredMaxAttemps," intentos. Luego, si no atendi\xf3, se lo manda al final de la cola."]})]}),c&&Object(o.jsxs)(o.Fragment,{children:[i(r.ANSWERING_MACHINE)&&Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:["\xbfQu\xe9 hace el bot\xf3n de"," ",Object(o.jsx)("span",{className:"text-primary",children:"contestador"}),"?"]}),Object(o.jsxs)("p",{children:["Registra la \xfaltima vez que se le dej\xf3 un mensaje en el contestador al amo de casa.\xa0",a.answeringMachineMaxAttemps>1&&Object(o.jsxs)("span",{children:["Adem\xe1s, congela el n\xfamero durante"," ",a.answeringMachinePostponedDays," d\xedas para darle un m\xe1ximo de"," ",a.answeringMachineMaxAttemps,' oportunidades. Estas oportunidades se computan junto a las que ya se le dio con el bot\xf3n "no en casa" si ha sido el caso.']})]})]}),i(r.POSTPONE)&&Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:["\xbfQu\xe9 hace el bot\xf3n de ",Object(o.jsx)("span",{className:"text-info",children:"aplazar"}),"?"]}),Object(o.jsxs)("p",{children:["Congela el n\xfamero para que se lo llame dentro de"," ",a.postponedButtonDays," ",a.postponedButtonDays>1?"d\xedas":"d\xeda","."]})]}),i(r.IGNORE)&&Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:["\xbfQu\xe9 hace el bot\xf3n de"," ",Object(o.jsx)("span",{className:"text-secondary",children:"ignorar"}),"?"]}),Object(o.jsx)("p",{children:"Manda el n\xfamero directamente al final de la cola."})]})]}),i(r.NO_CALL)&&Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:["\xbfQu\xe9 hace el bot\xf3n de"," ",Object(o.jsx)("span",{className:"text-warning",children:"no visitar"}),"?"]}),Object(o.jsx)("p",{children:"Quita el n\xfamero de la cola. No se lo borra pero tampoco se lo volver\xe1 a llamar."})]}),i(r.NON_EXISTENT)&&Object(o.jsxs)("div",{className:"text-center",children:[Object(o.jsxs)("h6",{children:["\xbfQu\xe9 hace el bot\xf3n de"," ",Object(o.jsx)("span",{className:"text-secondary",children:"no existe"}),"?"]}),Object(o.jsxs)("p",{children:["Suspende el n\xfamero durante ",a.nonExistentPostponedDays," ","d\xedas. Luego vuelve a la cola porque existe la posibilidad de que se haya reactivado."]})]}),Object(o.jsx)("p",{className:"text-center",children:"Nota: en ning\xfan caso se borran los n\xfameros. Si correspondiera (por ej. por estar fuera del territorio), por favor, comunicarse con el siervo de territorios."}),Object(o.jsx)(Yn,{className:"btn btn-secondary",onClick:n,children:"Volver"})]})},Xn=h.c.div(Hn(),(function(e){return e.theme.navbarHeight})),Yn=h.c.button(Un()),Qn=t(90);function Kn(){var e=Object(W.a)(["\n  position: absolute;\n  left: 0px;\n  background: rgb(34, 34, 34);\n  width: 100%;\n  border: 1px solid rgb(102, 102, 102);\n  padding: "," 10px;\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  transition: padding 0.3s, height 0.3s;\n"]);return Kn=function(){return e},e}var Jn=function(e){var n=e.currentPhoneId,t=e.onEditRequest,c=e.PhoneStorage,a=Object(i.useState)(null),s=Object(m.a)(a,2),l=s[0],d=s[1],u=pn(),j=u.isModalOpen,b=u.data,h=u.askEditConfirmation,O=u.toggleModal,x=u.reset,p=E().configurations.campaignMode,f=(null===b||void 0===b?void 0:b.feedbackToConfirm)||null,v=(null===b||void 0===b?void 0:b.storagePhoneToConfirm)||null,g=function(e,n){return h({storagePhoneToConfirm:n,feedbackToConfirm:e})},k=c.getAll().reverse().map((function(e,t){if(e.id===n)return null;var c=function(e){var n=new Date(e),t=new Date;return n.setHours(0,0,0,0)===t.setHours(0,0,0,0)}(e.savedOn),a=null!==e.status?w[e.status]:"",i=c||null!==e.status?null!==e.status?S[e.status]:"Sin respuesta":"Asignado a otro publicador",s=t===l;return Object(o.jsxs)("tr",{style:{position:"relative"},children:[Object(o.jsx)("td",{children:e.phone}),!p&&Object(o.jsx)("td",{children:Object(o.jsx)("span",{className:"text-".concat(a),children:i})}),!p&&Object(o.jsxs)("td",{children:[c&&Object(o.jsx)("button",{className:"btn btn-secondary",onClick:function(){return function(e){return d(l!==e?e:null)}(t)},children:"Editar"}),Object(o.jsxs)($n,{isOpen:s,children:[e.status!==r.ANSWERED&&Object(o.jsx)("button",{className:"btn btn-success btn-sm d-inline-block mr-1 mb-2",onClick:function(){return g(r.ANSWERED,e)},children:"Atendi\xf3"}),e.status!==r.UNANSWERED&&Object(o.jsx)("button",{className:"btn btn-danger btn-sm d-inline-block mr-1 mb-2",onClick:function(){return g(r.UNANSWERED,e)},children:"No en casa"}),e.status!==r.ANSWERING_MACHINE&&Object(o.jsx)("button",{className:"btn btn-primary btn-sm d-inline-block mr-1 mb-2",onClick:function(){return g(r.ANSWERING_MACHINE,e)},children:"Contestador"}),e.status!==r.POSTPONE&&Object(o.jsx)("button",{className:"btn btn-info btn-sm d-inline-block mr-1 mb-2",onClick:function(){return g(r.POSTPONE,e)},children:"Aplazar"}),e.status!==r.IGNORE&&Object(o.jsx)("button",{className:"btn btn-secondary btn-sm d-inline-block mr-1 mb-2",onClick:function(){return g(r.IGNORE,e)},children:"Ignorar"}),e.status!==r.NO_CALL&&Object(o.jsx)("button",{className:"btn btn-warning btn-sm d-inline-block mr-1 mb-2",onClick:function(){return g(r.NO_CALL,e)},children:"No visitar"}),e.status!==r.NON_EXISTENT&&Object(o.jsx)("button",{className:"btn btn-dark btn-sm d-inline-block mr-1 mb-2",onClick:function(){return g(r.NON_EXISTENT,e)},children:"No existe"})]})]})]},e.id)}));return k.filter((function(e){return!!e})).length>0?Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("h6",{className:"container mb-3",children:"N\xfameros anteriores en este dispositivo:"}),Object(o.jsxs)(Qn.a,{responsive:!0,className:"text-center",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Tel\xe9fono"}),!p&&Object(o.jsx)("th",{children:"Estado"}),!p&&Object(o.jsx)("th",{children:"Acciones"})]})}),Object(o.jsx)("tbody",{children:k})]}),null!==f&&Object(o.jsx)(mn,{isOpen:j,toggleModal:O,onConfirm:function(){v&&"number"===typeof f&&(t(v,f),d(null),x())},title:"\xbfSeguro?",buttonColor:w[f],confirmationLabel:S[f]})]}):null},$n=Object(h.c)(_.a)(Kn(),(function(e){return e.isOpen?"20px":"0"})),Zn=function(){var e=Object(i.useState)(null),n=Object(m.a)(e,2),t=n[0],a=n[1],s=Object(i.useState)(!0),l=Object(m.a)(s,2),u=l[0],b=l[1],h=Object(i.useState)(!1),O=Object(m.a)(h,2),f=O[0],v=O[1],g=Object(i.useState)(""),k=Object(m.a)(g,2),N=k[0],y=k[1],w=vn(),S=E().advancedModeEnabled,C=cn().AlertManager,A=gn(),M=Object(i.useCallback)(Object(p.a)(x.a.mark((function e(){var n,t,r,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,b(!0),v(!1),e.next=5,A().get("next");case 5:if(n=e.sent,t=Object(m.a)(n,2),r=t[0],c=t[1],!r){e.next=11;break}throw r;case 11:a(c.phone),y(c.phone.comments),C.show("new-phone-received",{timeout:5e3}),w.add({id:c.phone.id,status:null,phone:c.phone.phone,savedOn:Date.now(),restore:Object(d.a)(Object(d.a)({},c.original),{},{lastStatus:null})}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log({e:e.t0}),v(!0);case 21:return e.prev=21,b(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])}))),[C,w,A]);Object(i.useEffect)((function(){M()}),[M]);var D=function(){var e=Object(p.a)(x.a.mark((function e(n){var a,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,b(!0),e.next=6,A().put("update_phone",{id:t.id,answered:n,comments:N});case 6:if(a=e.sent,o=Object(m.a)(a,1),!(i=o[0])){e.next=11;break}throw i;case 11:M(),w.update(t.id,n===c.RUSHED?r.ANSWERED:n),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),C.hideAll(),C.show("feedback-failed"),b(!1);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(n){return e.apply(this,arguments)}}(),I=function(){var e=Object(p.a)(x.a.mark((function e(n,t){var r,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,A().put("update_phone",{id:n.id,answered:t,restore:n.restore});case 3:if(r=e.sent,c=Object(m.a)(r,1),!(a=c[0])){e.next=8;break}throw a;case 8:w.update(n.id,t),C.show("edit-success"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),C.hideAll(),C.show("feedback-failed");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}(),R=fn(D,5e3),T=fn(I,5e3),P=Object(j.g)(),W=function(){return P.push("/telefonica/help")},L=function(){return P.goBack()},z=function(e){return y(e)};if(f)return Object(o.jsx)(pe,{});if(u||!t)return Object(o.jsx)(he,{fulfill:!0,container:!0});return Object(o.jsx)(F.a,{children:Object(o.jsxs)(j.d,{children:[Object(o.jsx)(j.b,{path:"/telefonica",exact:!0,render:function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ie.a,{children:Object(o.jsxs)("title",{children:["TT"," Telef\xf3nica"]})}),Object(o.jsx)(en,{name:"new-phone-received",position:"top",variant:"success",children:Object(o.jsx)("div",{className:"text-center",children:"\u2728 \xa1Nuevo n\xfamero recibido! \u2728\ud83c\udf89"})}),Object(o.jsx)(en,{name:"feedback-failed",position:"top",variant:"failure",children:Object(o.jsx)("div",{className:"text-center",children:"No se pudo enviar su feedback \ud83d\ude22"})}),Object(o.jsx)(en,{name:"edit-success",position:"bottom",variant:"success",children:Object(o.jsx)("div",{className:"text-center",children:"N\xfamero actualizado."})}),Object(o.jsx)(qn,{phone:t,comments:N,handleComments:z,openHelpSection:W,handlePhoneFeedback:R}),S&&Object(o.jsx)(Jn,{PhoneStorage:w,currentPhoneId:t.id,onEditRequest:T})]})}}),Object(o.jsx)(j.b,{path:"/telefonica/help",exact:!0,component:function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(ie.a,{children:Object(o.jsxs)("title",{children:["TT"," Telef\xf3nica Ayuda"]})}),Object(o.jsx)(Vn,{close:L})]})}})]})})};function et(){var e=Object(W.a)(["\n  margin: 1em 0;\n  background: #343a40 !important;\n  padding: 0 1em;\n  border-radius: 10px;\n\n  > a {\n    display: block;\n  }\n"]);return et=function(){return e},e}var nt=function(){return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(Cn.a,{fluid:!0,children:Object(o.jsx)(F.a,{children:Object(o.jsx)("h1",{className:"display-5",children:"Panel de Administraci\xf3n"})})}),Object(o.jsxs)(F.a,{children:[Object(o.jsx)(tt,{children:Object(o.jsxs)(te,{to:"/admin-panel/statistics",background:"dark",children:[Object(o.jsx)("span",{children:"\ud83d\udcda"})," Estad\xedsticas"]})}),Object(o.jsx)(tt,{children:Object(o.jsxs)(te,{to:"/admin-panel/add-phones",background:"dark",children:[Object(o.jsx)("span",{children:"\u2795"})," Agregar n\xfameros a la base de datos"]})}),Object(o.jsx)(tt,{children:Object(o.jsxs)(te,{to:"/admin-panel/search-and-edit",background:"dark",children:[Object(o.jsx)("span",{children:"\ud83d\udd0e"})," Buscar y editar"]})}),Object(o.jsx)(tt,{children:Object(o.jsxs)(te,{to:"/admin-panel/configurations",background:"dark",children:[Object(o.jsx)("span",{children:"\ud83d\udee0"})," Configuraci\xf3n de la App"]})})]})]})},tt=h.c.div(et()),rt=[{title:"Panel de Administraci\xf3n",linkTo:"/admin-panel"},{title:"Estad\xedsticas"}],ct=function(){var e=Object(i.useState)(null),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(!0),a=Object(m.a)(c,2),s=a[0],l=a[1],d=Object(i.useState)(!1),u=Object(m.a)(d,2),j=u[0],b=u[1],h=gn(),O=Object(i.useCallback)(Object(p.a)(x.a.mark((function e(){var n,t,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),b(!1),e.next=5,h().get("statistics");case 5:if(n=e.sent,t=Object(m.a)(n,2),c=t[0],a=t[1],!c){e.next=11;break}throw c;case 11:r(a),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),console.log({e:e.t0}),b(!0);case 18:return e.prev=18,l(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[0,14,18,21]])}))),[h]);if(Object(i.useEffect)((function(){O()}),[O]),j)return Object(o.jsx)(pe,{});if(s||!t)return Object(o.jsx)(he,{fulfill:!0,container:!0});var f=t.generalData,v=t.perMonthData,g=t.perDayData,k=function(e){return e.toFixed(2)};return Object(o.jsxs)("div",{className:"container pt-3",children:[Object(o.jsx)(sn,{items:rt}),Object(o.jsx)("h4",{className:"mb-4",children:"General"}),Object(o.jsx)("div",{className:"table-responsive",children:Object(o.jsxs)("table",{className:"table table-bordered",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"N\xfameros guardados"}),Object(o.jsx)("th",{children:"No visitar"}),Object(o.jsx)("th",{children:"Inexistentes"})]})}),Object(o.jsx)("tbody",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:f.totalNumbers}),Object(o.jsxs)("td",{children:[f.noCall," (",k(100*f.noCall/f.totalNumbers),"%)"]}),Object(o.jsxs)("td",{children:[f.nonExistent," (",k(100*f.nonExistent/f.totalNumbers),"%)"]})]})})]})}),Object(o.jsx)("hr",{}),Object(o.jsx)("h4",{className:"mb-4",children:"Estad\xedsticas por mes"}),Object(o.jsx)("small",{children:"El TA se calcula haciendo: N\xfameros \xfanicos existentes / N\xfameros totales existentes."}),Object(o.jsx)("div",{className:"table-responsive",children:Object(o.jsxs)("table",{className:"table table-bordered",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Mes"}),Object(o.jsx)("th",{children:"Llamadas"}),Object(o.jsx)("th",{children:"N\xfameros \xfanicos"}),Object(o.jsx)("th",{children:"N\xfameros \xfanicos existentes"}),Object(o.jsx)("th",{children:"Atendieron"}),Object(o.jsx)("th",{children:"Territorio abarcado"})]})}),Object(o.jsx)("tbody",{children:v.months.map((function(e,n){return"07/2020"===e.date?Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.date}),Object(o.jsx)("td",{children:e.total+2088}),Object(o.jsx)("td",{children:e.different+2088}),Object(o.jsx)("td",{children:e.different+2088-e.inexistent}),Object(o.jsxs)("td",{children:[e.answered," (",k(100*e.answered/(e.different+2088-e.inexistent)),"%)"]}),Object(o.jsxs)("td",{children:[k(100*(e.different+2088-e.inexistent)/v.totalValidNumbers),"%"]})]},n):Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.date}),Object(o.jsx)("td",{children:e.total}),Object(o.jsx)("td",{children:e.different}),Object(o.jsx)("td",{children:e.different-e.inexistent}),Object(o.jsxs)("td",{children:[e.answered," (",k(100*e.answered/(e.different-e.inexistent)),"%)"]}),Object(o.jsxs)("td",{children:[k(100*(e.different-e.inexistent)/v.totalValidNumbers),"%"]})]},n)}))})]})}),Object(o.jsx)("hr",{}),Object(o.jsx)("h4",{className:"mb-4",children:"Estad\xedsticas por d\xeda"}),Object(o.jsx)("div",{className:"table-responsive",children:Object(o.jsxs)("table",{className:"table table-bordered",children:[Object(o.jsx)("thead",{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"Fecha"}),Object(o.jsx)("th",{children:"Total de llamadas"}),Object(o.jsx)("th",{children:"N\xfameros \xfanicos"}),Object(o.jsx)("th",{children:"Atendieron"}),Object(o.jsx)("th",{children:"No visitar"}),Object(o.jsx)("th",{children:"N\xfameros inexistentes"}),Object(o.jsx)("th",{children:"Porcentaje de inexistentes"})]})}),Object(o.jsx)("tbody",{children:g.map((function(e,n){var t,r,c;return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:null!==(t=e.date)&&void 0!==t?t:"Nunca llamados"}),Object(o.jsx)("td",{children:e.totalCalls}),Object(o.jsx)("td",{children:e.different}),Object(o.jsx)("td",{children:e.answered}),Object(o.jsx)("td",{children:null!==(r=e.noCall)&&void 0!==r?r:"-"}),Object(o.jsx)("td",{children:null!==(c=e.nonExistent)&&void 0!==c?c:"-"}),Object(o.jsx)("td",{children:e.date?Math.round(100*e.nonExistent/e.different)+"%":"-"})]},n)}))})]})})]})},at=t(91),ot=t(92);function it(){var e=Object(W.a)(["\n  display: flex;\n  justify-content: center;\n\n  > button:not(:nth-of-type(1)) {\n    margin-left: 1em;\n  }\n"]);return it=function(){return e},e}function st(){var e=Object(W.a)(["\n  > span {\n    font-weight: 500;\n  }\n"]);return st=function(){return e},e}function lt(){var e=Object(W.a)(["\n  font-weight: 400;\n  margin-bottom: 0.75em;\n\n  > span {\n    font-size: 0.7em;\n  }\n"]);return lt=function(){return e},e}var dt=h.c.h1(lt()),ut=h.c.p(st()),jt=h.c.div(it()),bt=function(){return parseInt(Math.random().toFixed(1).slice(-1))};function ht(){var e=Object(W.a)(["\n  color: ",";\n\n  ::before {\n    content: '","';\n    margin-right: 0.5em;\n  }\n"]);return ht=function(){return e},e}function Ot(){var e=Object(W.a)(["\n  margin-top: 2em;\n  padding-bottom: 5em;\n\n  div {\n    display: grid;\n    grid-template-columns: 1fr 1fr;\n    grid-gap: 1em;\n\n    span {\n      margin-top: 1em;\n    }\n  }\n"]);return Ot=function(){return e},e}function xt(){var e=Object(W.a)(["\n  width: 100%;\n  height: 400px;\n  padding: 0 1em 0 4em;\n  line-height: 20px;\n  white-space: nowrap;\n  overflow-x: hidden;\n"]);return xt=function(){return e},e}function pt(){var e=Object(W.a)(["\n  position: absolute;\n  display: flex;\n  flex-direction: column;\n  left: 1.5em;\n  margin: 0;\n  padding: 0;\n  padding-top: 1px;\n  line-height: 20px;\n  height: 400px;\n  width: 3em;\n  overflow-y: hidden;\n  border-right: 1px dashed #999;\n\n  li {\n    list-style: none;\n    font-weight: 500;\n    color: #666;\n  }\n"]);return pt=function(){return e},e}var mt=Object(i.forwardRef)((function(e,n){var t=e.lines;return Object(o.jsx)(vt,{ref:n,children:Array(t).fill(1).map((function(e,n){return Object(o.jsxs)("li",{children:[n+1,"-"]},n)}))})})),ft=function(e){var n=e.onNextStep,t=e.handleSetEntrydata,r=Object(i.useState)(""),c=Object(m.a)(r,2),a=c[0],s=c[1],l=Object(i.useState)(""),d=Object(m.a)(l,2),u=d[0],j=d[1],b=Object(i.useRef)(null),h=Object(i.useRef)(null),O=E().testModeEnabled,x=function(e){return function(n){var t=n.target.scrollTop,r="number"===e?null===b||void 0===b?void 0:b.current:null===h||void 0===h?void 0:h.current;r&&r.scroll(0,t)}},p=x("number"),f=x("additional"),v=a.split("\n").length,g=u.split("\n").length;Object(i.useEffect)((function(){if(v!==g){var e=v>g,n=Math.abs(v-g);j(e?function(e){return e+"\n".repeat(n)}:function(e){for(var t=e.split("\n"),r=n;""===t[t.length-1]&&r>0;)t.pop(),r--;return t.join("\n")})}}),[v,g,a]);var k=v===g,N=a.split("\n").some((function(e){return""===e.trim()})),y=!k||N;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(dt,{children:["Paso 1: ",Object(o.jsx)("span",{children:"Ingresar datos"})]}),Object(o.jsxs)(ut,{children:["Ingrese una lista de n\xfameros en la caja de la izquierda."," ",Object(o.jsx)("span",{children:"Separe cada n\xfamero con un nuevo salto de l\xednea (Enter)"}),"."]}),Object(o.jsxs)(ut,{children:["Repita lo mismo en la caja de la derecha con la"," ",Object(o.jsx)("span",{children:"informaci\xf3n adicional"})," -direcci\xf3n, nombre de la persona, etc.- que deba acompa\xf1ar a cada n\xfamero",Object(o.jsx)("span",{children:" que se corresponda en la misma posici\xf3n de ordenamiento"}),"."]}),Object(o.jsxs)(ut,{children:["La informaci\xf3n adicional de la caja de la derecha es"," ",Object(o.jsx)("span",{children:"opcional"}),", puede omitirla. Si desea omitir esa informaci\xf3n solamente para una fila (n\xfamero), deje un espacio en blanco en la posici\xf3n de esa l\xednea."]}),Object(o.jsxs)(ut,{children:["No se preocupe por comenter errores,"," ",Object(o.jsx)("span",{children:"podr\xe1 revisar la informaci\xf3n"})," antes de enviarla"," ",Object(o.jsx)("span",{children:"en el siguiente paso"}),"."]}),Object(o.jsxs)(ut,{children:[Object(o.jsx)("span",{children:"Consejo:"})," puede copiar y pegar una columna entera de excel en cada caja."]}),O&&Object(o.jsx)(xn.a,{color:"info",onClick:function(){if(O){var e=Array(10).fill(1).map((function(e){return function(){var e=Array(8).fill(1).map((function(e){return bt().toString()}));return e.splice(4,0,"-"),e.join("")}()})).join("\n"),n=Array(10).fill(1).map((function(e){return function(){var e=["Alicia Gertrudis","Popeye Elmarino","Gervasio Garcia","Francisco Lopez"],n=e[Math.floor(Math.random()*e.length)],t=["Av. San Mart\xedn","Pozos","San Fernando","El Jaguar"][Math.floor(Math.random()*e.length)],r=Array(3).fill(1).map((function(e){return bt().toString()})).join("");return"".concat(n,", ").concat(t," ").concat(r)}()})).join("\n");s((function(n){return n+e+"\n"})),j((function(e){return e+n+"\n"}))}},children:"Generar datos aleatorios"}),Object(o.jsxs)(at.a,{className:"mt-3",children:[Object(o.jsxs)(ot.a,{xs:12,md:6,style:{position:"relative"},children:[Object(o.jsx)("h5",{children:"Tel\xe9fonos:"}),Object(o.jsx)(mt,{lines:v,ref:b}),Object(o.jsx)(gt,{value:a,onChange:function(e){return s(e.target.value)},onScroll:p,placeholder:"Ej.: (011) 4754-7845"})]}),Object(o.jsxs)(ot.a,{xs:12,md:6,style:{position:"relative"},children:[Object(o.jsx)("h5",{children:"Informaci\xf3n adicional:"}),Object(o.jsx)(mt,{lines:g,ref:h}),Object(o.jsx)(gt,{value:u,onChange:function(e){return j(e.target.value)},onScroll:f,placeholder:"Ej.: Pepe Mujica - Av. Gral Rodr\xedguez 2084"})]})]}),Object(o.jsxs)(kt,{children:[Object(o.jsx)("h4",{children:"Para avanzar al siguiente paso, se debe cumplir con:"}),Object(o.jsxs)("div",{children:[Object(o.jsx)(Nt,{valid:!N,children:"No debe haber filas vac\xedas de n\xfameros"}),Object(o.jsx)(Nt,{valid:k,children:"N\xfameros e informaci\xf3n adicional deben tener la misma cantidad de l\xedneas"})]})]}),Object(o.jsx)(jt,{children:Object(o.jsx)(xn.a,{color:"success",onClick:function(){t(a.split("\n").map((function(e,n){return{number:e,info:u.split("\n")[n]}}))),n()},disabled:y,children:"Siguiente paso"})})]})},vt=h.c.ul(pt()),gt=h.c.textarea(xt()),kt=h.c.div(Ot()),Nt=h.c.span(ht(),(function(e){var n=e.theme;return e.valid?n.text.colors.green:n.text.colors.red}),(function(e){return e.valid?"\u2705":"\u2757"}));function yt(){var e=Object(W.a)(["\n  width: 100%;\n  height: 400px;\n  background: ",";\n  padding: 10px;\n  overflow: auto;\n\n  span {\n    color: ",";\n    display: inline-block;\n    margin-bottom: 0.1em;\n\n    span:not(.separator) {\n      background-color: #999;\n      padding: 2px 10px;\n      border-radius: 3px;\n    }\n\n    .separator {\n      display: inline-block;\n      margin: 0 1em;\n    }\n  }\n"]);return yt=function(){return e},e}var wt=function(e){var n=e.entryData,t=e.onGoBack,r=e.onConfirm;return Object(o.jsxs)(F.a,{children:[Object(o.jsxs)(dt,{children:["Segundo paso: ",Object(o.jsx)("span",{children:"Confirmar"})]}),Object(o.jsx)(ut,{children:"Por favor, revise bien la informaci\xf3n y confirme si es correcta."}),Object(o.jsx)(St,{children:n.map((function(e,n){var t=e.number,r=e.info;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("span",{children:[Object(o.jsx)("span",{children:"N\xfamero:"})," ",t," ",Object(o.jsx)("span",{className:"separator",children:"->"})," ",Object(o.jsx)("span",{children:"Info:"})," ",r]},t+n),Object(o.jsx)("br",{})]})}))}),Object(o.jsxs)(jt,{children:[Object(o.jsx)(xn.a,{color:"info",outline:!0,onClick:t,children:"Volver"}),Object(o.jsx)(xn.a,{color:"success",onClick:r,children:"Confirmar y guardar"})]})]})},St=h.c.p(yt(),(function(e){var n=e.theme;return n.darkMode?"#fff":n.text.colors.black}),(function(e){var n=e.theme;return n.darkMode?n.text.colors.black:"#fff"})),Et=function(e){var n=e.response,t=e.onAddMore,r=e.onBackToAdminPanel;return Object(o.jsxs)(F.a,{children:[Object(o.jsx)(dt,{children:"\xa1Listo! \ud83c\udf1f"}),Object(o.jsxs)("h4",{children:["N\xfameros agregados: ",n.successCount]}),Object(o.jsxs)("h4",{children:["N\xfameros que no se agregaron(*): ",n.failureCount]}),Object(o.jsx)(ut,{className:"mt-3",children:"* Cuando un n\xfamero no se agrega, por lo general se debe a que es duplicado."}),Object(o.jsxs)(jt,{className:"mt-5",children:[Object(o.jsx)(xn.a,{color:"info",onClick:t,children:"Agregar m\xe1s n\xfameros"}),Object(o.jsx)(xn.a,{color:"success",onClick:r,children:"Volver al panel de administrador"})]})]})};function Ct(){var e=Object(W.a)(["\n  background-color: ",";\n"]);return Ct=function(){return e},e}var At=[{title:"Panel de Administraci\xf3n",linkTo:"/admin-panel"},{title:"Agregar N\xfameros"}],Mt=function(){var e=Object(i.useState)(1),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)([]),a=Object(m.a)(c,2),s=a[0],l=a[1],d=Object(i.useState)(!1),u=Object(m.a)(d,2),b=u[0],h=u[1],O=Object(i.useState)(null),f=Object(m.a)(O,2),v=f[0],g=f[1],k=gn(),N=cn().AlertManager,y=Object(j.g)(),w=function(){var e=Object(p.a)(x.a.mark((function e(){var n,t,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,h(!0),e.next=4,k().post("add_numbers",{phones:s});case 4:if(n=e.sent,t=Object(m.a)(n,2),c=t[0],a=t[1],!c){e.next=10;break}throw c;case 10:g(a),r(3),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),N.show("add-phones-error",{timeout:13e3});case 17:return e.prev=17,h(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(){return e.apply(this,arguments)}}();return b?Object(o.jsx)(he,{container:!0,fulfill:!0}):Object(o.jsxs)(F.a,{className:"pt-3 pb-5",children:[Object(o.jsxs)(en,{name:"add-phones-error",position:"bottom",containerCSS:Dt,children:["Hubo un error guardando los nuevos n\xfameros. Por favor, revise los datos e intente de nuevo. Si el problema persiste, contacte al desarrollador para solucionarlo."," "]}),Object(o.jsx)(sn,{items:At}),1===t&&Object(o.jsx)(ft,{onNextStep:function(){return r(t+1)},handleSetEntrydata:function(e){return l(e)}}),2===t&&Object(o.jsx)(wt,{entryData:s,onGoBack:function(){return r(1)},onConfirm:w}),3===t&&v&&Object(o.jsx)(Et,{response:v,onAddMore:function(){r(1),l([]),g(null)},onBackToAdminPanel:function(){y.push("/admin-panel")}})]})},Dt=Object(h.b)(Ct(),(function(e){return e.theme.text.colors.red})),It=t(93),Rt=t(26),Tt=function(e){var n=e.children;return Object(o.jsx)("span",{className:"text-danger",children:n})},Pt=function(e){return e.split("/").reverse().join("-")},Wt=function(e){var n=e.onSearch,t=Object(Rt.a)({mode:"all"}),r=t.register,c=t.handleSubmit,a=t.errors,i=t.reset,s=t.setValue,l=t.getValues,d=t.formState,u=d.isDirty,j=d.isSubmitting,b=d.isValid,h=P().forceUpdate;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("span",{className:"text-secondary d-block mb-3",children:"Todos los campos son opcionales."}),Object(o.jsxs)(It.a,{onSubmit:c((function(e){var t=e.info,r=e.number,c=e.id,a=e.answeredOn,o=e.calledOn,i=e.noWeekends,s=e.noCall,l=e.nonExistent,d={};t&&(d.info=t),r&&(d.number=r),c&&(d.id=c),a&&(d.answeredOn="Nunca"===a?"never":Pt(a)),o&&(d.calledOn="Nunca"===o?"never":Pt(o)),i&&(d.noWeekends=i),s&&(d.noCall=s),l&&(d.nonExistent=l),n(d)})),children:[Object(o.jsxs)(at.a,{children:[Object(o.jsx)(ot.a,{md:"2",children:Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{for:"id",children:"ID"}),Object(o.jsx)(Dn.a,{id:"id",name:"id",innerRef:r,autoComplete:"off"})]})}),Object(o.jsx)(ot.a,{md:"4",children:Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{for:"number",children:"N\xfamero"}),Object(o.jsx)(Dn.a,{id:"number",name:"number",innerRef:r,autoComplete:"off"})]})}),Object(o.jsx)(ot.a,{md:"6",children:Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{for:"info",children:"Informaci\xf3n"}),Object(o.jsx)(Dn.a,{id:"info",name:"info",innerRef:r,autoComplete:"off"})]})})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)(at.a,{children:[Object(o.jsxs)(ot.a,{md:"6",children:[Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{for:"answeredOn",children:"\xdaltima vez atendido el"}),Object(o.jsx)(Dn.a,{id:"answeredOn",name:"answeredOn",innerRef:r({pattern:/^(\d{2}\/\d{2}\/\d{4}|Nunca)$/}),placeholder:"Ej.: 13/04/2020",autoComplete:"off"}),a.answeredOn&&Object(o.jsx)(Tt,{children:"Formato inv\xe1lido, debe ser dia/mes/a\xf1o, 'Nunca' o dejar vac\xedo."})]}),Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",checked:"Nunca"===l("answeredOn"),onChange:function(e){s("answeredOn",e.target.checked?"Nunca":""),h()}}),"Nunca antes atendi\xf3"]})})]}),Object(o.jsxs)(ot.a,{md:"6",children:[Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{for:"calledOn",children:"\xdaltima vez llamado el"}),Object(o.jsx)(Dn.a,{id:"calledOn",name:"calledOn",innerRef:r({pattern:/^(\d{2}\/\d{2}\/\d{4}|Nunca)$/}),placeholder:"Ej.: 13/04/2020",autoComplete:"off"}),a.calledOn&&Object(o.jsx)(Tt,{children:"Formato inv\xe1lido, debe ser dia/mes/a\xf1o, 'Nunca' o dejar vac\xedo."})]}),Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",checked:"Nunca"===l("calledOn"),onChange:function(e){s("calledOn",e.target.checked?"Nunca":""),h()}}),"Nunca antes llamado"]})})]})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)(at.a,{children:[Object(o.jsx)(ot.a,{md:"4",children:Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"noWeekends",innerRef:r}),"No llamar los fines de semana"]})})}),Object(o.jsx)(ot.a,{md:"4",children:Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"noCall",innerRef:r}),"No visitar"]})})}),Object(o.jsx)(ot.a,{md:"4",children:Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"nonExistent",innerRef:r}),"No existente"]})})})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)(at.a,{children:[Object(o.jsx)(ot.a,{md:"6",children:Object(o.jsx)(xn.a,{block:!0,outline:!0,onClick:function(){return i()},children:"Limpiar campos"})}),Object(o.jsx)(ot.a,{md:"6",children:Object(o.jsx)(xn.a,{type:"submit",disabled:!u||!b||j,color:"primary",block:!0,children:"Buscar"})})]})]})]})};function Lt(){var e=Object(W.a)(["\n  white-space: nowrap;\n\n  button:not(:first-of-type) {\n    margin-left: 1em;\n  }\n"]);return Lt=function(){return e},e}function Ft(){var e=Object(W.a)(["\n  white-space: nowrap;\n"]);return Ft=function(){return e},e}function zt(){var e=Object(W.a)(["\n  text-align: center;\n"]);return zt=function(){return e},e}function qt(){var e=Object(W.a)(["\n  text-align: center;\n\n  > tr > th {\n    vertical-align: middle;\n  }\n"]);return qt=function(){return e},e}var _t=function(e){var n=e.entries,t=e.onEditRequest,r=e.onDeleteRequest;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("h3",{children:["Resultados: ",n.length]}),Object(o.jsx)("span",{className:"text-secondary",children:"* Se muestra un m\xe1ximo de 100 n\xfameros por b\xfasqueda."}),Object(o.jsxs)(Qn.a,{striped:!0,responsive:!0,children:[Object(o.jsx)(Bt,{children:Object(o.jsxs)("tr",{children:[Object(o.jsx)("th",{children:"ID"}),Object(o.jsx)("th",{children:"N\xfamero"}),Object(o.jsx)("th",{children:"Info"}),Object(o.jsx)("th",{children:"\xdaltima vez llamado"}),Object(o.jsx)("th",{children:"\xdaltima vez que atendi\xf3"}),Object(o.jsx)("th",{children:"Comentarios"}),Object(o.jsx)("th",{children:"D\xedas pospuesto"}),Object(o.jsx)("th",{children:"Caracter\xedsticas"}),Object(o.jsx)("th",{children:"Acciones"})]})}),Object(o.jsx)(Gt,{children:n.map((function(e){return Object(o.jsxs)("tr",{children:[Object(o.jsx)("td",{children:e.id}),Object(o.jsx)(Ut,{children:e.phone}),Object(o.jsx)("td",{children:e.info}),Object(o.jsx)("td",{children:e.unansweredDate||e.fulfilledOn||"Nunca"}),Object(o.jsx)("td",{children:e.answeredOn||"Nunca"}),Object(o.jsx)("td",{children:e.comments}),Object(o.jsx)("td",{children:e.postponedDays}),Object(o.jsx)("td",{children:[e.noCall&&"No visitar",e.nonExistent&&"No existe",e.noWeekends&&"No llamar los finde"].filter(Boolean).join(", ")}),Object(o.jsxs)(Ht,{children:[Object(o.jsx)(xn.a,{color:"warning",onClick:function(){return t(e)},children:"Editar"}),Object(o.jsx)(xn.a,{color:"danger",onClick:function(){return r(e.id)},children:"Borrar"})]})]},e.id)}))})]})]})},Bt=h.c.thead(qt()),Gt=h.c.tbody(zt()),Ut=h.c.td(Ft()),Ht=h.c.td(Lt()),Vt=function(e){var n,t=e.phone,r=e.onBack,c=e.onUpdated,a=Object(Rt.a)({mode:"all",defaultValues:{phone:t.phone,comments:t.comments,info:null!==(n=t.info)&&void 0!==n?n:"",noCall:t.noCall,nonExistent:t.nonExistent,postponedDays:t.postponedDays,noWeekends:t.noWeekends}}),s=a.register,l=a.handleSubmit,d=a.errors,u=a.formState,j=u.isDirty,b=u.isValid,h=Object(i.useState)(!1),O=Object(m.a)(h,2),f=O[0],v=O[1],g=gn(),k=cn().AlertManager,N=function(){var e=Object(p.a)(x.a.mark((function e(n){var r,a,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,v(!0),e.next=4,g().put("phones/".concat(t.id),n);case 4:if(r=e.sent,a=Object(m.a)(r,2),o=a[0],i=a[1],!o){e.next=10;break}throw o;case 10:c(i.phone),k.show("update-success"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),k.show("update-error");case 17:return e.prev=17,v(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,14,17,20]])})));return function(n){return e.apply(this,arguments)}}();return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(en,{name:"update-success",position:"top",variant:"success",children:"\xa1N\xfamero actualizado con \xe9xito! \u2728"}),Object(o.jsx)(en,{name:"update-error",position:"bottom",variant:"failure",children:"No se pudo actualizar el tel\xe9fono. Por favor, intente de nuevo."}),Object(o.jsxs)(F.a,{className:"pt-4",children:[Object(o.jsx)("h1",{children:"Editar n\xfamero"}),Object(o.jsxs)(It.a,{onSubmit:l(N),children:[Object(o.jsxs)(at.a,{children:[Object(o.jsx)(ot.a,{md:"3",children:Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:"N\xfamero"}),Object(o.jsx)(Dn.a,{name:"phone",innerRef:s})]})}),Object(o.jsx)(ot.a,{md:"6",children:Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:"Info"}),Object(o.jsx)(Dn.a,{name:"info",innerRef:s})]})}),Object(o.jsxs)(ot.a,{md:"3",children:[Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:"D\xedas pospuesto"}),Object(o.jsx)(Dn.a,{type:"number",name:"postponedDays",innerRef:s({validate:function(e){return e>=0}})})]}),d.postponedDays&&Object(o.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(o.jsx)(ot.a,{md:"12",children:Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:"Comentarios"}),Object(o.jsx)(Dn.a,{name:"comments",innerRef:s})]})}),Object(o.jsx)(ot.a,{md:"4",children:Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"noWeekends",innerRef:s}),"No llamar los finde"]})})}),Object(o.jsx)(ot.a,{md:"4",children:Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"noCall",innerRef:s}),"No visitar"]})})}),Object(o.jsx)(ot.a,{md:"4",children:Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"nonExistent",innerRef:s}),"No existente"]})})})]}),Object(o.jsx)("hr",{}),Object(o.jsxs)(at.a,{children:[Object(o.jsx)(ot.a,{md:"6",children:Object(o.jsx)(xn.a,{outline:!0,block:!0,onClick:r,children:"Volver atr\xe1s"})}),Object(o.jsx)(ot.a,{md:"6",children:Object(o.jsx)(xn.a,{type:"submit",block:!0,color:"primary",disabled:!j||!b,children:f?Object(o.jsx)(he,{fulfill:!0}):"Guardar"})})]})]})]})]})},Xt=[{title:"Panel de Administraci\xf3n",linkTo:"/admin-panel"},{title:"Buscar y editar"}],Yt=function(){var e=Object(i.useState)(null),n=Object(m.a)(e,2),t=n[0],r=n[1],c=Object(i.useState)(!1),a=Object(m.a)(c,2),s=a[0],l=a[1],u=Object(i.useState)(null),j=Object(m.a)(u,2),b=j[0],h=j[1],O=Object(i.useState)(!1),f=Object(m.a)(O,2),v=f[0],g=f[1],N=E().testModeEnabled,y=pn(),w=y.isModalOpen,S=y.data,C=y.askEditConfirmation,A=y.toggleModal,M=y.reset;Object(i.useEffect)((function(){r(null),h(null)}),[N]);var D=gn(),I=cn().AlertManager,R=function(){var e=Object(p.a)(x.a.mark((function e(n){var t,c,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),e.next=4,D().get({path:"phones",params:Object.entries(n).map((function(e){var n=Object(m.a)(e,2),t=n[0],r=n[1];return[t,"boolean"!==typeof r?r:r?1:0]})).reduce((function(e,n){var t=Object(m.a)(n,2),r=t[0],c=t[1];return Object(d.a)(Object(d.a)({},e),{},Object(k.a)({},r,c))}),{})});case 4:if(t=e.sent,c=Object(m.a)(t,2),a=c[0],o=c[1],!a){e.next=10;break}throw a;case 10:r(o),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),I.show("search-error");case 16:return e.prev=16,l(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(n){return e.apply(this,arguments)}}(),T=function(){var e=Object(p.a)(x.a.mark((function e(){var n,c,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,g(!0),e.next=4,D().delete("phones/".concat(S));case 4:if(n=e.sent,c=Object(m.a)(n,1),!(a=c[0])){e.next=9;break}throw a;case 9:M(),r(t.filter((function(e){return e.id!==S}))),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),I.show("deletion-error");case 16:return e.prev=16,g(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,13,16,19]])})));return function(){return e.apply(this,arguments)}}();if(null!==b)return Object(o.jsx)(Vt,{phone:b,onBack:function(){return h(null)},onUpdated:function(e){return t&&r(t.map((function(n){return n.id===e.id?e:n})))}});var P=null!==S&&(null===t||void 0===t?void 0:t.find((function(e){return e.id===S})));return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(en,{name:"search-error",position:"top",variant:"failure",children:"No se pudo buscar. Por favor, intente de nuevo."}),Object(o.jsx)(en,{name:"deletion-error",position:"top",variant:"failure",children:"No se pudo eliminar el n\xfamero. Por favor, intente de nuevo."}),Object(o.jsxs)(F.a,{className:"pt-4 mb-5",children:[Object(o.jsx)(sn,{items:Xt}),Object(o.jsx)(Wt,{onSearch:R})]}),Object(o.jsx)(F.a,{fluid:!0,children:s?Object(o.jsx)(he,{}):t&&Object(o.jsx)(_t,{entries:t,onEditRequest:function(e){return h(e)},onDeleteRequest:function(e){return C(e)}})}),null!==S&&P&&Object(o.jsx)(mn,{isOpen:w,toggleModal:A,onConfirm:T,title:"\xbfSeguro que desea eliminar el siguiente n\xfamero?",body:v?Object(o.jsx)(he,{fulfill:!0}):Object(o.jsxs)("div",{children:[Object(o.jsxs)("span",{className:"d-block",children:["ID: ",P.id]}),Object(o.jsxs)("span",{className:"d-block",children:["N\xfamero: ",P.phone]}),Object(o.jsxs)("span",{className:"d-block",children:["Info: ",P.info]})]}),buttonColor:"danger",confirmationLabel:"Eliminar para siempre"})]})};function Qt(){var e=Object(W.a)(["\n  color: ",";\n"]);return Qt=function(){return e},e}var Kt=[{title:"Panel de Administraci\xf3n",linkTo:"/admin-panel"},{title:"Configuraci\xf3n de la App"}],Jt="Modo de campa\xf1a",$t="M\xe1ximo de intentos para no en casa",Zt="M\xe1ximo de intentos para el contestador",er="D\xedas que se pospone un n\xfamero al dejar un mensaje en el contestador",nr='D\xedas que se pospone un n\xfamero al tocar el bot\xf3n "Aplazar"',tr="D\xedas que queda congelado un n\xfamero inexistente",rr=Object.values(r).filter((function(e){return"number"===typeof e})),cr=function(){var e,n=E(),t=n.configurations,r=n.updateConfigs,c=Object(i.useState)(!1),a=Object(m.a)(c,2),s=a[0],l=a[1],u=gn(),j=cn().AlertManager,b=Object(Rt.a)({mode:"all",defaultValues:Object(d.a)({campaignMode:t.campaignMode,unansweredMaxAttemps:t.unansweredMaxAttemps.toString(),answeringMachineMaxAttemps:t.answeringMachineMaxAttemps.toString(),answeringMachinePostponedDays:t.answeringMachinePostponedDays.toString(),postponedButtonDays:t.postponedButtonDays.toString(),nonExistentPostponedDays:t.nonExistentPostponedDays.toString()},rr.reduce((function(e,n){return Object(d.a)(Object(d.a)({},e),{},Object(k.a)({},"button".concat(n,"shown"),!t.hiddenButtons.split(",").includes(n.toString())))}),{}))}),h=b.register,O=b.handleSubmit,f=b.errors,v=b.getValues,g=b.formState,N=g.isDirty,y=g.isValid,w=function(){var e=Object(p.a)(x.a.mark((function e(n){var t,c,a,o,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l(!0),(t={}).campaignMode=n.campaignMode,t.unansweredMaxAttemps=parseInt(n.unansweredMaxAttemps),t.answeringMachineMaxAttemps=parseInt(n.answeringMachineMaxAttemps),t.answeringMachinePostponedDays=parseInt(n.answeringMachinePostponedDays),t.postponedButtonDays=parseInt(n.postponedButtonDays),t.nonExistentPostponedDays=parseInt(n.nonExistentPostponedDays),t.hiddenButtons=Object.entries(n).filter((function(e){var n=Object(m.a)(e,1)[0];return/button\dshown/.test(n)})).reduce((function(e,n){var t=Object(m.a)(n,2),r=t[0];if(!0===t[1])return e;var c=r.match(/button(\d)shown/)[1];return[].concat(Object(A.a)(e),[c])}),[]).join(","),e.next=12,u().put("/configurations",t);case 12:if(c=e.sent,a=Object(m.a)(c,2),o=a[0],i=a[1],!o){e.next=18;break}throw o;case 18:r(i.configs),j.show("update-success"),e.next=25;break;case 22:e.prev=22,e.t0=e.catch(0),j.show("update-error");case 25:return e.prev=25,l(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[0,22,25,28]])})));return function(n){return e.apply(this,arguments)}}(),C=null!==(e=v("campaignMode"))&&void 0!==e?e:t.campaignMode;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(en,{name:"update-success",position:"top",variant:"success",children:"\xa1Configuraciones actualizadas con \xe9xito! \u2728"}),Object(o.jsx)(en,{name:"update-error",position:"bottom",variant:"failure",children:"No se pudo actualizar las configuraciones. Por favor, intente de nuevo."}),Object(o.jsxs)(F.a,{className:"pt-3 mb-5",children:[Object(o.jsx)(sn,{items:Kt}),Object(o.jsx)("hr",{}),Object(o.jsxs)(It.a,{onSubmit:O(w),children:[Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"campaignMode",innerRef:h}),Object(o.jsxs)(ar,{active:C,children:[Jt," ",C?"activado":"desactivado","."]})]})}),Object(o.jsxs)("div",{children:['Cuando el modo campa\xf1a est\xe1 activado, los publicadores ver\xe1n un solo bot\xf3n de "siguiente" en vez de los ',rr.length," que normalemente se usan. Esto sirve para agilizar las llamadas en caso de campa\xf1a."]}),Object(o.jsx)("hr",{}),Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:$t}),Object(o.jsx)(Dn.a,{type:"number",name:"unansweredMaxAttemps",innerRef:h({validate:function(e){return e>=1}})}),f.unansweredMaxAttemps&&Object(o.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:Zt}),Object(o.jsx)(Dn.a,{type:"number",name:"answeringMachineMaxAttemps",innerRef:h({validate:function(e){return e>=1}})}),f.answeringMachineMaxAttemps&&Object(o.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:er}),Object(o.jsx)(Dn.a,{type:"number",name:"answeringMachinePostponedDays",innerRef:h({validate:function(e){return e>=1}})}),f.answeringMachinePostponedDays&&Object(o.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:nr}),Object(o.jsx)(Dn.a,{type:"number",name:"postponedButtonDays",innerRef:h({validate:function(e){return e>=1}})}),f.postponedButtonDays&&Object(o.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(o.jsxs)(An.a,{children:[Object(o.jsx)(Mn.a,{children:tr}),Object(o.jsx)(Dn.a,{type:"number",name:"nonExistentPostponedDays",innerRef:h({validate:function(e){return e>=1}})}),f.nonExistentPostponedDays&&Object(o.jsx)("span",{className:"text-danger",children:"Valor inv\xe1lido"})]}),Object(o.jsx)("hr",{}),Object(o.jsx)("p",{children:"Botones que los publicadores pueden usar:"}),Object(o.jsx)(at.a,{children:rr.map((function(e){return Object(o.jsx)(ot.a,{md:"6",children:Object(o.jsx)(An.a,{check:!0,children:Object(o.jsxs)(Mn.a,{check:!0,children:[Object(o.jsx)(Dn.a,{type:"checkbox",name:"button".concat(e,"shown"),innerRef:h}),S[e]]})})},e)}))}),Object(o.jsx)("hr",{}),Object(o.jsx)(xn.a,{type:"submit",block:!0,color:"primary",disabled:!N||!y||s,children:s?Object(o.jsx)(he,{fulfill:!0}):"Guardar configuraciones"})]})]})]})},ar=h.c.span(Qt(),(function(e){var n=e.active,t=e.theme;return n?t.text.colors.green:t.text.colors.red})),or=(t(69),function(){return null}),ir=function(e){var n=e.component,t=e.condition,r=Object(u.a)(e,["component","condition"]);return Object(o.jsx)(j.b,Object(d.a)(Object(d.a)({},r),{},{component:t?n:or}))},sr=function(){var e=C(),n=e.isAuth,t=e.isAdmin,r=E(),c=r.configsLoading,a=r.configsError,s=r.getConfigs,l=Object(j.h)(),d=Object(j.g)(),u=gn();return Object(i.useLayoutEffect)((function(){n||l.pathname.includes("/login")||d.push("/login"),n&&l.pathname.includes("/login")&&(t?d.push("/admin-panel"):d.push("/telefonica"))}),[n,t,l.pathname,d]),Object(i.useEffect)((function(){n&&s(u)}),[n,u,s]),c?Object(o.jsx)(he,{container:!0,fulfill:!0}):a?Object(o.jsx)(pe,{}):Object(o.jsxs)(j.d,{children:[Object(o.jsx)(j.b,{path:"/login",exact:!0,component:In}),Object(o.jsx)(ir,{path:"/telefonica",component:Zn,condition:n}),Object(o.jsx)(ir,{path:"/admin-panel",exact:!0,component:nt,condition:t}),Object(o.jsx)(ir,{path:"/admin-panel/statistics",exact:!0,component:ct,condition:t}),Object(o.jsx)(ir,{path:"/admin-panel/add-phones",exact:!0,component:Mt,condition:t}),Object(o.jsx)(ir,{path:"/admin-panel/search-and-edit",exact:!0,component:Yt,condition:t}),Object(o.jsx)(ir,{path:"/admin-panel/configurations",exact:!0,component:cr,condition:t}),Object(o.jsx)(j.a,{to:"/login"})]})},lr=function(){return Object(o.jsx)(wn,{children:Object(o.jsx)(En,{children:Object(o.jsx)(b.a,{children:Object(o.jsx)(se,{children:Object(o.jsx)(sr,{})})})})})};l.a.render(Object(o.jsx)(lr,{}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.aa37d6e9.chunk.js.map