{"version":3,"sources":["../node_modules/reactstrap/es/Table.js","features/Telefonica/components/PhoneLink.tsx","features/Telefonica/components/PhoneOptions.tsx","../node_modules/reactstrap/es/Alert.js","features/Telefonica/components/PhoneDetails.tsx","features/Telefonica/components/HelpSection.tsx","features/Telefonica/components/PhonesInStorage.tsx","features/Telefonica/Telefonica.tsx","../node_modules/reactstrap/es/Jumbotron.js"],"names":["propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","PhoneLink","phone","useState","touchedCount","setTouchedCount","useEffect","style","textDecoration","href","onClick","Array","fill","map","_","PhoneOptions","phoneId","initialNoCallOnWeekends","showPhoneOptions","setShowPhoneOptions","noCallOnWeekends","setNoCallOnWeekends","AlertManager","useAlerts","Fetch","useFetch","handleOptionChanged","option","newVal","a","revert","backendValue","put","err","show","hideAll","name","position","variant","PhoneOptionsContainer","Collapse","isOpen","label","checked","onChange","styled","div","ownKeys","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","children","node","closeClassName","closeAriaLabel","color","fade","toggle","transition","shape","Fade","unmountOnExit","Alert","closeClasses","alertTransition","baseClass","timeout","in","role","type","PhoneDetails","comments","handleComments","openHelpSection","handlePhoneFeedback","selfAssigned","isFromAnotherTerritory","useConfig","advancedModeEnabled","configurations","currentTerritory","hiddenButtons","campaignMode","isButtonAllowed","f","split","includes","toString","useConfirmationModal","isModalOpen","feedbackToConfirm","data","askEditConfirmation","toggleModal","reset","handleGeneric","feedback","handleAnswered","Feedback","ANSWERED","handleUnanswered","UNANSWERED","handleNonExistent","NON_EXISTENT","handleNoCall","NO_CALL","handleAnsweringMachine","ANSWERING_MACHINE","handlePostpone","POSTPONE","handleIgnore","IGNORE","DesktopTable","info","answeredOn","unansweredDate","fulfilledOn","MobileTable","fontWeight","helpButton","MiniSection","HelpButton","CommentsSection","Input","placeholder","value","e","commentedOn","answeringMachineDate","ButtonGroup","Button","block","CampaignFeedback","RUSHED","Container","Jumbotron","fluid","id","noWeekends","onConfirm","title","buttonColor","colors","confirmationLabel","labels","input","theme","text","secondary","darkMode","white","black","button","HelpSection","close","isAllowed","unansweredMaxAttemps","answeringMachineMaxAttemps","answeringMachinePostponedDays","postponedButtonDays","nonExistentPostponedDays","navbarHeight","PhonesInStorage","currentPhoneId","onEditRequest","PhoneStorage","collapsed","setCollapsed","storagePhoneToConfirm","onAskEditConfirmation","rows","getAll","reverse","p","phoneIsFromToday","isToday","savedOn","status","statusLabel","isCollapsed","handleCollapsed","CollapseButtons","r","Telefonica","setPhone","isLoading","setIsLoading","error","setError","setComments","usePhoneStorage","paramId","URLSearchParams","window","location","search","get","fetchPhone","useCallback","path","params","newPhone","add","Date","now","restore","original","lastStatus","console","log","active","onFeedback","answered","update","storagePhone","newStatus","sendFeedback","useThrottle","editNumber","history","useHistory","closeHelpSection","goBack","c","message","fulfill","container","exact","render","Helmet","process","territoryId","component"],"mappings":"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","file":"static/js/11.526bc748.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import React, { useEffect, useState } from 'react'\n\ninterface PhoneLinkProps {\n  phone: string\n}\n\nconst PhoneLink: React.FC<PhoneLinkProps> = ({ phone }) => {\n  const [touchedCount, setTouchedCount] = useState<number>(0)\n\n  const addTouched = () => setTouchedCount(touchedCount + 1)\n\n  useEffect(() => {\n    setTouchedCount(0)\n  }, [phone])\n\n  return (\n    <>\n      <a\n        style={{ textDecoration: 'underline' }}\n        href={`tel:${phone}`}\n        onClick={addTouched}\n      >\n        {phone}\n      </a>\n      {Array(touchedCount)\n        .fill(null)\n        .map((_) => (\n          <span className=\"d-block text-success\">¡Tocado!</span>\n        ))}\n    </>\n  )\n}\n\nexport { PhoneLink }\n","import React, { FunctionComponent, useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Collapse } from 'reactstrap'\r\nimport { useFetch } from 'hooks'\r\nimport { Alert, useAlerts, Switch } from 'components'\r\nimport { PhoneOptionsType } from 'types'\r\n\r\ninterface PhoneOptionsProps {\r\n  phoneId: number\r\n  initialNoCallOnWeekends: boolean\r\n}\r\n\r\nconst PhoneOptions: FunctionComponent<PhoneOptionsProps> = ({\r\n  phoneId,\r\n  initialNoCallOnWeekends,\r\n}) => {\r\n  const [showPhoneOptions, setShowPhoneOptions] = useState<boolean>(false)\r\n  const [noCallOnWeekends, setNoCallOnWeekends] = useState<boolean>(\r\n    initialNoCallOnWeekends\r\n  )\r\n\r\n  const { AlertManager } = useAlerts()\r\n\r\n  const Fetch = useFetch()\r\n\r\n  const togglePhoneOptions = () => setShowPhoneOptions(!showPhoneOptions)\r\n\r\n  const handleOptionChanged = async <K extends keyof PhoneOptionsType>(\r\n    option: K,\r\n    newVal: PhoneOptionsType[K]\r\n  ) => {\r\n    let revert: () => void = () => {}\r\n    let backendValue: PhoneOptionsType[K] = newVal\r\n\r\n    if (option === 'callOnWeekends') {\r\n      revert = () => setNoCallOnWeekends(noCallOnWeekends)\r\n      setNoCallOnWeekends(newVal)\r\n      // In the case of callOnWeekends, we are handling the opposite case on the back\r\n      backendValue = !newVal\r\n    }\r\n\r\n    try {\r\n      const [err] = await Fetch().put<Partial<PhoneOptionsType>>(\r\n        `phones/${phoneId}/options`,\r\n        {\r\n          [option]: backendValue,\r\n        }\r\n      )\r\n\r\n      if (err) throw err\r\n\r\n      AlertManager.show('phone-option-update-success')\r\n    } catch {\r\n      revert()\r\n      AlertManager.hideAll()\r\n      AlertManager.show('phone-option-update-failed')\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <Alert\r\n        name=\"phone-option-update-success\"\r\n        position=\"top\"\r\n        variant=\"success\"\r\n      >\r\n        Opción de teléfono actualizada con éxito.\r\n      </Alert>\r\n      <Alert\r\n        name=\"phone-option-update-failed\"\r\n        position=\"bottom\"\r\n        variant=\"failure\"\r\n      >\r\n        No se pudo actualizar opción de teléfono.\r\n      </Alert>\r\n\r\n      <PhoneOptionsContainer>\r\n        <div className=\"title\" onClick={togglePhoneOptions}>\r\n          Opciones de teléfono\r\n          <span>{showPhoneOptions ? '-' : '+'}</span>\r\n        </div>\r\n        <Collapse isOpen={showPhoneOptions}>\r\n          <div className=\"inner\">\r\n            <span>No llamar los fin de semana:</span>\r\n            <Switch\r\n              label=\"\"\r\n              checked={noCallOnWeekends}\r\n              onChange={(checked) =>\r\n                handleOptionChanged('callOnWeekends', checked)\r\n              }\r\n            />\r\n          </div>\r\n        </Collapse>\r\n      </PhoneOptionsContainer>\r\n    </>\r\n  )\r\n}\r\n\r\nconst PhoneOptionsContainer = styled.div`\r\n  .title {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    font-weight: 500;\r\n\r\n    span {\r\n      font-weight: 800;\r\n    }\r\n  }\r\n\r\n  .inner {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    padding-top: 0.5em;\r\n  }\r\n`\r\n\r\nexport { PhoneOptions }\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nimport Fade from './Fade';\nvar propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  closeAriaLabel: PropTypes.string,\n  cssModule: PropTypes.object,\n  color: PropTypes.string,\n  fade: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  toggle: PropTypes.func,\n  tag: tagPropType,\n  transition: PropTypes.shape(Fade.propTypes),\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  color: 'success',\n  isOpen: true,\n  tag: 'div',\n  closeAriaLabel: 'Close',\n  fade: true,\n  transition: _objectSpread(_objectSpread({}, Fade.defaultProps), {}, {\n    unmountOnExit: true\n  })\n};\n\nfunction Alert(props) {\n  var className = props.className,\n      closeClassName = props.closeClassName,\n      closeAriaLabel = props.closeAriaLabel,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      color = props.color,\n      isOpen = props.isOpen,\n      toggle = props.toggle,\n      children = props.children,\n      transition = props.transition,\n      fade = props.fade,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"closeClassName\", \"closeAriaLabel\", \"cssModule\", \"tag\", \"color\", \"isOpen\", \"toggle\", \"children\", \"transition\", \"fade\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'alert', \"alert-\" + color, {\n    'alert-dismissible': toggle\n  }), cssModule);\n  var closeClasses = mapToCssModules(classNames('close', closeClassName), cssModule);\n\n  var alertTransition = _objectSpread(_objectSpread(_objectSpread({}, Fade.defaultProps), transition), {}, {\n    baseClass: fade ? transition.baseClass : '',\n    timeout: fade ? transition.timeout : 0\n  });\n\n  return /*#__PURE__*/React.createElement(Fade, _extends({}, attributes, alertTransition, {\n    tag: Tag,\n    className: classes,\n    in: isOpen,\n    role: \"alert\",\n    innerRef: innerRef\n  }), toggle ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: closeClasses,\n    \"aria-label\": closeAriaLabel,\n    onClick: toggle\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, children);\n}\n\nAlert.propTypes = propTypes;\nAlert.defaultProps = defaultProps;\nexport default Alert;","import React from 'react'\r\nimport { useConfig } from 'hooks'\r\nimport styled from 'styled-components'\r\nimport { CampaignFeedback, Feedback, FeedbackExtended, Phone } from 'types'\r\nimport { ConfirmationModal, useConfirmationModal } from 'components'\r\nimport { PhoneLink } from './PhoneLink'\r\nimport { PhoneOptions } from './PhoneOptions'\r\nimport { colors, labels } from 'consts'\r\nimport {\r\n  Button,\r\n  Container,\r\n  Jumbotron,\r\n  Alert as ReactstrapAlert,\r\n} from 'reactstrap'\r\n\r\ninterface PhoneDetailsProps {\r\n  phone: Phone\r\n  comments: string\r\n  handleComments: (comments: string) => void\r\n  openHelpSection: () => void\r\n  handlePhoneFeedback: (n: FeedbackExtended) => void\r\n  selfAssigned: boolean\r\n  isFromAnotherTerritory: boolean\r\n}\r\n\r\nconst PhoneDetails: React.FC<PhoneDetailsProps> = ({\r\n  phone,\r\n  comments,\r\n  handleComments,\r\n  openHelpSection,\r\n  handlePhoneFeedback,\r\n  selfAssigned,\r\n  isFromAnotherTerritory,\r\n}) => {\r\n  const { advancedModeEnabled, configurations, currentTerritory } = useConfig()\r\n  const { hiddenButtons } = configurations\r\n  const { campaignMode } = currentTerritory\r\n\r\n  const isButtonAllowed = (f: Feedback) =>\r\n    !hiddenButtons.split(',').includes(f.toString())\r\n\r\n  const {\r\n    isModalOpen,\r\n    data: feedbackToConfirm,\r\n    askEditConfirmation,\r\n    toggleModal,\r\n    reset,\r\n  } = useConfirmationModal<Feedback>()\r\n\r\n  const handleGeneric = (feedback: Feedback) => () => {\r\n    if (advancedModeEnabled) askEditConfirmation(feedback)\r\n    else handlePhoneFeedback(feedback)\r\n  }\r\n\r\n  const doConfirm = () => {\r\n    if (feedbackToConfirm === null) return\r\n    handlePhoneFeedback(feedbackToConfirm)\r\n    reset()\r\n  }\r\n\r\n  const handleAnswered = handleGeneric(Feedback.ANSWERED)\r\n  const handleUnanswered = handleGeneric(Feedback.UNANSWERED)\r\n  const handleNonExistent = handleGeneric(Feedback.NON_EXISTENT)\r\n  const handleNoCall = handleGeneric(Feedback.NO_CALL)\r\n  const handleAnsweringMachine = handleGeneric(Feedback.ANSWERING_MACHINE)\r\n  const handlePostpone = handleGeneric(Feedback.POSTPONE)\r\n  const handleIgnore = handleGeneric(Feedback.IGNORE)\r\n  const handleRushed = () => handlePhoneFeedback(CampaignFeedback.RUSHED)\r\n\r\n  const DesktopTable = (\r\n    <div className=\"table-responsive d-none d-sm-block\">\r\n      <table className=\"table table-bordered\">\r\n        <thead>\r\n          <tr>\r\n            <th>Teléfono</th>\r\n            <th>Otros datos</th>\r\n            {phone.comments ? <th>Comentarios</th> : null}\r\n            <th>Última fecha que atendió</th>\r\n            <th>Última fecha que se lo llamó</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          <tr>\r\n            <td>\r\n              <PhoneLink phone={phone.phone} />\r\n            </td>\r\n            <td>{phone.info}</td>\r\n            {phone.comments ? <td>{phone.comments}</td> : null}\r\n            <td>{phone.answeredOn ?? 'Nunca'}</td>\r\n            <td>\r\n              {phone.unansweredDate ? (\r\n                phone.unansweredDate\r\n              ) : phone.fulfilledOn ? (\r\n                <>\r\n                  {phone.fulfilledOn === 'jue, 25 jun 2020' && 'Antes del '}\r\n                  {phone.fulfilledOn}\r\n                </>\r\n              ) : (\r\n                'Nunca'\r\n              )}\r\n            </td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n\r\n  const MobileTable = (\r\n    <div className=\"d-block d-sm-none text-center\">\r\n      <span style={{ fontWeight: 500 }}>Teléfono:</span>\r\n      <div>\r\n        <PhoneLink phone={phone.phone} />\r\n      </div>\r\n      <br />\r\n\r\n      <span style={{ fontWeight: 500 }}>Otros datos:</span>\r\n      <div>{phone.info}</div>\r\n      <br />\r\n\r\n      {phone.comments && (\r\n        <>\r\n          <span style={{ fontWeight: 500 }}>Comentarios:</span>\r\n          <div>{phone.comments}</div>\r\n          <br />\r\n        </>\r\n      )}\r\n\r\n      <span style={{ fontWeight: 500 }}>Última fecha que atendió:</span>\r\n      <div>{phone.answeredOn ?? 'Nunca'}</div>\r\n      <br />\r\n\r\n      <span style={{ fontWeight: 500 }}>Última fecha que se lo llamó:</span>\r\n      <div>\r\n        {phone.unansweredDate ? (\r\n          phone.unansweredDate\r\n        ) : phone.fulfilledOn ? (\r\n          <>\r\n            {phone.fulfilledOn === 'jue, 25 jun 2020' && 'Antes del '}\r\n            {phone.fulfilledOn}\r\n          </>\r\n        ) : (\r\n          'Nunca'\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const helpButton = (\r\n    <MiniSection>\r\n      <HelpButton onClick={openHelpSection}>¿Qué hace cada botón?</HelpButton>\r\n    </MiniSection>\r\n  )\r\n\r\n  const CommentsSection = (\r\n    <div className=\"row my-4\">\r\n      <div className=\"col-12\">\r\n        <span className=\"text-secondary d-inline-block mb-2\">\r\n          Comentarios (opcional):\r\n        </span>\r\n        <Input\r\n          placeholder=\"Su comentario acá...\"\r\n          type=\"text\"\r\n          value={comments}\r\n          onChange={(e) => handleComments(e.target.value)}\r\n        />\r\n\r\n        {phone.commentedOn && (\r\n          <span className=\"input-helper text-secondary\">\r\n            Comentado el:{' '}\r\n            <span className=\"text-success\">{phone.commentedOn}</span>\r\n          </span>\r\n        )}\r\n\r\n        {phone.answeringMachineDate && (\r\n          <span className=\"d-block input-helper text-secondary\">\r\n            Último mensaje en el contestador:{' '}\r\n            <span className=\"text-success\">{phone.answeringMachineDate}</span>\r\n          </span>\r\n        )}\r\n\r\n        {!phone.commentedOn && !phone.answeringMachineDate && (\r\n          <span className=\"input-helper text-secondary\">\r\n            Ej.: lugar de trabajo, no habla español, etc.\r\n          </span>\r\n        )}\r\n      </div>\r\n    </div>\r\n  )\r\n\r\n  const ButtonGroup = campaignMode ? (\r\n    <div className=\"my-4\">\r\n      <Button color=\"success\" block onClick={handleRushed}>\r\n        Siguiente\r\n      </Button>\r\n    </div>\r\n  ) : !advancedModeEnabled ? (\r\n    <div className=\"my-4 row d-flex justify-content-center\">\r\n      {isButtonAllowed(Feedback.ANSWERED) && (\r\n        <div className=\"col-6 mb-3 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-success btn-lg mx-auto mx-md-0 d-block w-100\"\r\n            onClick={handleAnswered}\r\n          >\r\n            Atendió\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.UNANSWERED) && (\r\n        <div className=\"col-6 mb-3 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-danger btn-lg mx-auto mx-md-0 d-block w-100\"\r\n            onClick={handleUnanswered}\r\n          >\r\n            No en casa\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.NO_CALL) && (\r\n        <div className=\"col-6 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-warning btn-lg mx-auto mx-md-0 d-block w-100\"\r\n            onClick={handleNoCall}\r\n          >\r\n            No visitar\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.NON_EXISTENT) && (\r\n        <div className=\"col-6 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-dark btn-lg mx-auto mx-md-0 d-block w-100\"\r\n            onClick={handleNonExistent}\r\n          >\r\n            No existe\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  ) : (\r\n    <div className=\"my-4 row d-flex justify-content-center\">\r\n      {isButtonAllowed(Feedback.ANSWERED) && (\r\n        <div className=\"col-6 mb-2 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-success btn-lg w-100 mx-auto mx-md-0 d-block\"\r\n            onClick={handleAnswered}\r\n          >\r\n            Atendió\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.UNANSWERED) && (\r\n        <div className=\"col-6 mb-2 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-danger btn-lg w-100 mx-auto mx-md-0 d-block\"\r\n            onClick={handleUnanswered}\r\n          >\r\n            No en casa\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.ANSWERING_MACHINE) && (\r\n        <div className=\"col-6 mb-2 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-primary btn-lg w-100 mx-auto mx-md-0 d-block\"\r\n            onClick={handleAnsweringMachine}\r\n          >\r\n            Contestador\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.POSTPONE) && (\r\n        <div className=\"col-6 mb-2 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-info btn-lg w-100 mx-auto mx-md-0 d-block\"\r\n            onClick={handlePostpone}\r\n          >\r\n            Aplazar\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.IGNORE) && (\r\n        <div className=\"col-6 mb-2 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-secondary btn-lg w-100 mx-auto mx-md-0 d-block\"\r\n            onClick={handleIgnore}\r\n          >\r\n            Ignorar\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.NO_CALL) && (\r\n        <div className=\"col-6 mb-2 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-warning btn-lg w-100 mx-auto mx-md-0 d-block\"\r\n            onClick={handleNoCall}\r\n          >\r\n            No visitar\r\n          </button>\r\n        </div>\r\n      )}\r\n      {isButtonAllowed(Feedback.NON_EXISTENT) && (\r\n        <div className=\"col-6 col-md-auto\">\r\n          <button\r\n            className=\"btn btn-dark btn-lg w-100 mx-auto mx-md-0 d-block\"\r\n            onClick={handleNonExistent}\r\n          >\r\n            No existe\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n\r\n  return (\r\n    <Container className=\"py-4\">\r\n      {selfAssigned && (\r\n        <ReactstrapAlert color=\"warning\">\r\n          Usando número autoasignado\r\n        </ReactstrapAlert>\r\n      )}\r\n      {isFromAnotherTerritory && (\r\n        <ReactstrapAlert color=\"danger\">\r\n          ¡El número es de otro territorio!\r\n        </ReactstrapAlert>\r\n      )}\r\n      {DesktopTable}\r\n      {MobileTable}\r\n      {CommentsSection}\r\n      {!!campaignMode && (\r\n        <Jumbotron fluid className=\"my-2\">\r\n          <Container>\r\n            <h6>¡Estamos en campaña!</h6>\r\n            <small>\r\n              Durante la campaña, solo habrá un botón de \"siguiente\".\r\n            </small>\r\n          </Container>\r\n        </Jumbotron>\r\n      )}\r\n      {advancedModeEnabled && !campaignMode && (\r\n        <MiniSection>\r\n          <PhoneOptions\r\n            phoneId={phone.id}\r\n            initialNoCallOnWeekends={phone.noWeekends}\r\n          />\r\n        </MiniSection>\r\n      )}\r\n      {ButtonGroup}\r\n      {advancedModeEnabled && !campaignMode && helpButton}\r\n      {feedbackToConfirm !== null && (\r\n        <ConfirmationModal\r\n          isOpen={isModalOpen}\r\n          toggleModal={toggleModal}\r\n          onConfirm={doConfirm}\r\n          title=\"¿Seguro?\"\r\n          buttonColor={colors[feedbackToConfirm]}\r\n          confirmationLabel={labels[feedbackToConfirm]}\r\n        />\r\n      )}\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Input = styled.input`\r\n  width: 100%;\r\n  border-top: none;\r\n  border-right: none;\r\n  border-left: none;\r\n  border-image: initial;\r\n  border-bottom: 2px solid ${({ theme }) => theme.text.colors.secondary};\r\n  outline: none;\r\n  transition: border-bottom-color 0.25s;\r\n  margin-bottom: 0.5em;\r\n  border-radius: 5px;\r\n  padding: 0 10px;\r\n\r\n  :focus {\r\n    border-bottom-color: ${({ theme }) =>\r\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.black};\r\n  }\r\n`\r\n\r\nconst MiniSection = styled.div`\r\n  border-top: 1px solid\r\n    ${({ theme }) =>\r\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.secondary};\r\n  border-bottom: 1px solid\r\n    ${({ theme }) =>\r\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.secondary};\r\n  padding: 10px 0;\r\n  margin-top: 2em;\r\n  display: flex;\r\n\r\n  > div {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst HelpButton = styled.button`\r\n  margin-bottom: 0;\r\n  border: none;\r\n  color: ${({ theme }) => (theme.darkMode ? theme.text.colors.white : '#555')};\r\n  text-decoration: underline;\r\n  background: none;\r\n  margin: auto;\r\n`\r\n\r\nexport { PhoneDetails }\r\n","import { useConfig } from 'hooks'\r\nimport React from 'react'\r\nimport styled from 'styled-components'\r\nimport { Feedback } from 'types'\r\n\r\ninterface HelpSectionProps {\r\n  close: () => void\r\n}\r\n\r\nconst HelpSection: React.FC<HelpSectionProps> = ({ close }) => {\r\n  const { advancedModeEnabled, configurations } = useConfig()\r\n\r\n  const isAllowed = (f: Feedback) =>\r\n    !configurations.hiddenButtons.split(',').includes(f.toString())\r\n\r\n  return (\r\n    <Container>\r\n      {isAllowed(Feedback.ANSWERED) && (\r\n        <div className=\"text-center\">\r\n          <h6>\r\n            ¿Qué hace el botón de <span className=\"text-success\">atendió</span>?\r\n          </h6>\r\n          <p>\r\n            Manda el número al final de la cola y registra la fecha en que se\r\n            atendió.\r\n          </p>\r\n        </div>\r\n      )}\r\n      {isAllowed(Feedback.UNANSWERED) && (\r\n        <div className=\"text-center\">\r\n          <h6>\r\n            ¿Qué hace el botón de{' '}\r\n            <span className=\"text-danger\">no en casa</span>?\r\n          </h6>\r\n          <p>\r\n            Guarda el número para llamarlo de vuelta mañana, hasta un máximo de{' '}\r\n            {configurations.unansweredMaxAttemps} intentos. Luego, si no\r\n            atendió, se lo manda al final de la cola.\r\n          </p>\r\n        </div>\r\n      )}\r\n      {advancedModeEnabled && (\r\n        <>\r\n          {isAllowed(Feedback.ANSWERING_MACHINE) && (\r\n            <div className=\"text-center\">\r\n              <h6>\r\n                ¿Qué hace el botón de{' '}\r\n                <span className=\"text-primary\">contestador</span>?\r\n              </h6>\r\n              <p>\r\n                Registra la última vez que se le dejó un mensaje en el\r\n                contestador al amo de casa.&nbsp;\r\n                {configurations.answeringMachineMaxAttemps > 1 && (\r\n                  <span>\r\n                    Además, congela el número durante{' '}\r\n                    {configurations.answeringMachinePostponedDays} días para\r\n                    darle un máximo de{' '}\r\n                    {configurations.answeringMachineMaxAttemps} oportunidades.\r\n                    Estas oportunidades se computan junto a las que ya se le dio\r\n                    con el botón \"no en casa\" si ha sido el caso.\r\n                  </span>\r\n                )}\r\n              </p>\r\n            </div>\r\n          )}\r\n          {isAllowed(Feedback.POSTPONE) && (\r\n            <div className=\"text-center\">\r\n              <h6>\r\n                ¿Qué hace el botón de <span className=\"text-info\">aplazar</span>\r\n                ?\r\n              </h6>\r\n              <p>\r\n                Congela el número para que se lo llame dentro de{' '}\r\n                {configurations.postponedButtonDays}{' '}\r\n                {configurations.postponedButtonDays > 1 ? 'días' : 'día'}.\r\n              </p>\r\n            </div>\r\n          )}\r\n          {isAllowed(Feedback.IGNORE) && (\r\n            <div className=\"text-center\">\r\n              <h6>\r\n                ¿Qué hace el botón de{' '}\r\n                <span className=\"text-secondary\">ignorar</span>?\r\n              </h6>\r\n              <p>Manda el número directamente al final de la cola.</p>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n      {isAllowed(Feedback.NO_CALL) && (\r\n        <div className=\"text-center\">\r\n          <h6>\r\n            ¿Qué hace el botón de{' '}\r\n            <span className=\"text-warning\">no visitar</span>?\r\n          </h6>\r\n          <p>\r\n            Quita el número de la cola. No se lo borra pero tampoco se lo\r\n            volverá a llamar.\r\n          </p>\r\n        </div>\r\n      )}\r\n      {isAllowed(Feedback.NON_EXISTENT) && (\r\n        <div className=\"text-center\">\r\n          <h6>\r\n            ¿Qué hace el botón de{' '}\r\n            <span className=\"text-secondary\">no existe</span>?\r\n          </h6>\r\n          <p>\r\n            Suspende el número durante {configurations.nonExistentPostponedDays}{' '}\r\n            días. Luego vuelve a la cola porque existe la posibilidad de que se\r\n            haya reactivado.\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      <p className=\"text-center\">\r\n        Nota: en ningún caso se borran los números. Si correspondiera (por ej.\r\n        por estar fuera del territorio), por favor, comunicarse con el siervo de\r\n        territorios.\r\n      </p>\r\n\r\n      <Button className=\"btn btn-secondary\" onClick={close}>\r\n        Volver\r\n      </Button>\r\n    </Container>\r\n  )\r\n}\r\n\r\nconst Container = styled.div`\r\n  display: flex;\r\n  padding: 20px 0;\r\n  min-height: calc(100vh - ${({ theme }) => theme.navbarHeight}px);\r\n  justify-content: space-evenly;\r\n  flex-direction: column;\r\n`\r\n\r\nconst Button = styled.button`\r\n  width: 100%;\r\n`\r\n\r\nexport { HelpSection }\r\n","import React, { useState } from 'react'\r\nimport { Collapse, Table, Button } from 'reactstrap'\r\nimport styled from 'styled-components'\r\nimport { useConfig, usePhoneStorage } from 'hooks'\r\nimport {\r\n  CampaignFeedback,\r\n  Feedback,\r\n  FeedbackExtended,\r\n  StoragePhone,\r\n} from 'types'\r\nimport { isToday } from 'utils'\r\nimport { colors, labels } from 'consts'\r\nimport { useConfirmationModal, ConfirmationModal } from 'components'\r\n\r\ninterface PhonesInStorageProps {\r\n  currentPhoneId: number\r\n  onEditRequest: (\r\n    storagePhone: StoragePhone,\r\n    newStatus: FeedbackExtended\r\n  ) => void\r\n  PhoneStorage: ReturnType<typeof usePhoneStorage>\r\n}\r\n\r\nconst PhonesInStorage: React.FC<PhonesInStorageProps> = ({\r\n  currentPhoneId,\r\n  onEditRequest,\r\n  PhoneStorage,\r\n}) => {\r\n  const [collapsed, setCollapsed] = useState<number | null>(null)\r\n  const {\r\n    isModalOpen,\r\n    data,\r\n    askEditConfirmation,\r\n    toggleModal,\r\n    reset,\r\n  } = useConfirmationModal<{\r\n    storagePhoneToConfirm: StoragePhone\r\n    feedbackToConfirm: FeedbackExtended\r\n  }>()\r\n\r\n  const {\r\n    configurations: { hiddenButtons },\r\n    currentTerritory: { campaignMode },\r\n  } = useConfig()\r\n\r\n  const isAllowed = (f: FeedbackExtended) =>\r\n    !hiddenButtons.split(',').includes(f.toString()) &&\r\n    !(\r\n      campaignMode &&\r\n      [\r\n        Feedback.UNANSWERED,\r\n        Feedback.ANSWERED,\r\n        Feedback.NON_EXISTENT,\r\n        Feedback.NO_CALL,\r\n        Feedback.ANSWERING_MACHINE,\r\n        Feedback.IGNORE,\r\n        // @ts-ignore\r\n      ].includes(f)\r\n    ) &&\r\n    // @ts-ignore\r\n    !(!campaignMode && [CampaignFeedback.RUSHED].includes(f))\r\n\r\n  const feedbackToConfirm = data?.feedbackToConfirm ?? null\r\n  const storagePhoneToConfirm = data?.storagePhoneToConfirm ?? null\r\n\r\n  const resetStates = () => {\r\n    setCollapsed(null)\r\n    reset()\r\n  }\r\n\r\n  const onAskEditConfirmation = (\r\n    feedbackToConfirm: FeedbackExtended,\r\n    storagePhoneToConfirm: StoragePhone\r\n  ) => askEditConfirmation({ storagePhoneToConfirm, feedbackToConfirm })\r\n\r\n  const handleCollapsed = (i: number) =>\r\n    collapsed !== i ? setCollapsed(i) : setCollapsed(null)\r\n\r\n  const doConfirm = () => {\r\n    if (!storagePhoneToConfirm || typeof feedbackToConfirm !== 'number') return\r\n    onEditRequest(storagePhoneToConfirm, feedbackToConfirm)\r\n    resetStates()\r\n  }\r\n\r\n  const phones = PhoneStorage.getAll()\r\n\r\n  const rows = phones.reverse().map((p, i) => {\r\n    if (p.id === currentPhoneId) return null\r\n\r\n    const phoneIsFromToday = isToday(p.savedOn)\r\n    const color = p.status !== null ? colors[p.status] : ''\r\n\r\n    const statusLabel =\r\n      !phoneIsFromToday && p.status === null\r\n        ? 'Asignado a otro publicador'\r\n        : p.status !== null\r\n        ? labels[p.status]\r\n        : 'Sin respuesta'\r\n\r\n    const isCollapsed = i === collapsed\r\n\r\n    return (\r\n      <tr key={p.id} style={{ position: 'relative' }}>\r\n        <td>{p.phone}</td>\r\n        <td>\r\n          <span className={`text-${color}`}>{statusLabel}</span>\r\n        </td>\r\n        <td>\r\n          {phoneIsFromToday && (\r\n            <Button color=\"secondary\" onClick={() => handleCollapsed(i)}>\r\n              Editar\r\n            </Button>\r\n          )}\r\n          <CollapseButtons isOpen={isCollapsed}>\r\n            {p.status !== CampaignFeedback.RUSHED &&\r\n              isAllowed(CampaignFeedback.RUSHED) && (\r\n                <button\r\n                  className=\"btn btn-success btn-sm d-inline-block mr-1 mb-2\"\r\n                  onClick={() =>\r\n                    onAskEditConfirmation(CampaignFeedback.RUSHED, p)\r\n                  }\r\n                >\r\n                  Completado\r\n                </button>\r\n              )}\r\n            {p.status !== Feedback.ANSWERED && isAllowed(Feedback.ANSWERED) && (\r\n              <button\r\n                className=\"btn btn-success btn-sm d-inline-block mr-1 mb-2\"\r\n                onClick={() => onAskEditConfirmation(Feedback.ANSWERED, p)}\r\n              >\r\n                Atendió\r\n              </button>\r\n            )}\r\n            {p.status !== Feedback.UNANSWERED &&\r\n              isAllowed(Feedback.UNANSWERED) && (\r\n                <button\r\n                  className=\"btn btn-danger btn-sm d-inline-block mr-1 mb-2\"\r\n                  onClick={() => onAskEditConfirmation(Feedback.UNANSWERED, p)}\r\n                >\r\n                  No en casa\r\n                </button>\r\n              )}\r\n            {p.status !== Feedback.ANSWERING_MACHINE &&\r\n              isAllowed(Feedback.ANSWERING_MACHINE) && (\r\n                <button\r\n                  className=\"btn btn-primary btn-sm d-inline-block mr-1 mb-2\"\r\n                  onClick={() =>\r\n                    onAskEditConfirmation(Feedback.ANSWERING_MACHINE, p)\r\n                  }\r\n                >\r\n                  Contestador\r\n                </button>\r\n              )}\r\n            {p.status !== Feedback.POSTPONE && isAllowed(Feedback.POSTPONE) && (\r\n              <button\r\n                className=\"btn btn-info btn-sm d-inline-block mr-1 mb-2\"\r\n                onClick={() => onAskEditConfirmation(Feedback.POSTPONE, p)}\r\n              >\r\n                Aplazar\r\n              </button>\r\n            )}\r\n            {p.status !== Feedback.IGNORE && isAllowed(Feedback.IGNORE) && (\r\n              <button\r\n                className=\"btn btn-secondary btn-sm d-inline-block mr-1 mb-2\"\r\n                onClick={() => onAskEditConfirmation(Feedback.IGNORE, p)}\r\n              >\r\n                Ignorar\r\n              </button>\r\n            )}\r\n            {p.status !== Feedback.NO_CALL && isAllowed(Feedback.NO_CALL) && (\r\n              <button\r\n                className=\"btn btn-warning btn-sm d-inline-block mr-1 mb-2\"\r\n                onClick={() => onAskEditConfirmation(Feedback.NO_CALL, p)}\r\n              >\r\n                No visitar\r\n              </button>\r\n            )}\r\n            {p.status !== Feedback.NON_EXISTENT &&\r\n              isAllowed(Feedback.NON_EXISTENT) && (\r\n                <button\r\n                  className=\"btn btn-dark btn-sm d-inline-block mr-1 mb-2\"\r\n                  onClick={() =>\r\n                    onAskEditConfirmation(Feedback.NON_EXISTENT, p)\r\n                  }\r\n                >\r\n                  No existe\r\n                </button>\r\n              )}\r\n          </CollapseButtons>\r\n        </td>\r\n      </tr>\r\n    )\r\n  })\r\n\r\n  const dataInStorage: boolean = rows.filter((r) => !!r).length > 0\r\n\r\n  if (!dataInStorage) return null\r\n\r\n  return (\r\n    <>\r\n      <h6 className=\"container mb-3\">\r\n        Números anteriores en este dispositivo:\r\n      </h6>\r\n      <Table responsive className=\"text-center\">\r\n        <thead>\r\n          <tr>\r\n            <th>Teléfono</th>\r\n            <th>Estado</th>\r\n            <th>Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>{rows}</tbody>\r\n      </Table>\r\n      {feedbackToConfirm !== null && (\r\n        <ConfirmationModal\r\n          isOpen={isModalOpen}\r\n          toggleModal={toggleModal}\r\n          onConfirm={doConfirm}\r\n          title=\"¿Seguro?\"\r\n          buttonColor={colors[feedbackToConfirm]}\r\n          confirmationLabel={labels[feedbackToConfirm]}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst CollapseButtons = styled(Collapse)`\r\n  position: absolute;\r\n  left: 0px;\r\n  background: rgb(34, 34, 34);\r\n  width: 100%;\r\n  border: 1px solid rgb(102, 102, 102);\r\n  padding: ${({ isOpen }) => (isOpen ? '20px' : '0')} 10px;\r\n  display: flex;\r\n  justify-content: space-evenly;\r\n  flex-wrap: wrap;\r\n  transition: padding 0.3s, height 0.3s;\r\n`\r\n\r\nexport { PhonesInStorage }\r\n","import React, { useCallback, useEffect, useState } from 'react'\r\nimport { Helmet } from 'react-helmet'\r\nimport { Container } from 'reactstrap'\r\nimport { Alert, ErrorDisplay, Spinner, useAlerts } from 'components'\r\nimport { PhoneResponse } from './types'\r\nimport { HelpSection, PhoneDetails, PhonesInStorage } from './components'\r\nimport { Route, Switch, useHistory } from 'react-router'\r\nimport { useConfig, usePhoneStorage, useFetch } from 'hooks'\r\nimport { FeedbackExtended, StoragePhone } from 'types'\r\nimport { useThrottle } from 'hooks/utils'\r\n\r\nconst Telefonica: React.FC = () => {\r\n  const [phone, setPhone] = useState<PhoneResponse['phone'] | null>(null)\r\n  const [isLoading, setIsLoading] = useState<boolean>(true)\r\n  const [error, setError] = useState<boolean>(false)\r\n  const [comments, setComments] = useState<string>('')\r\n\r\n  const PhoneStorage = usePhoneStorage()\r\n\r\n  const { advancedModeEnabled, currentTerritory } = useConfig()\r\n\r\n  const { AlertManager } = useAlerts()\r\n\r\n  const Fetch = useFetch()\r\n\r\n  const paramId = new URLSearchParams(window.location.search).get('id')\r\n\r\n  const fetchPhone = useCallback(async () => {\r\n    try {\r\n      setIsLoading(true)\r\n      setError(false)\r\n      const [err, newPhone] = await Fetch().get<PhoneResponse>(\r\n        paramId\r\n          ? {\r\n              path: 'next',\r\n              params: { id: paramId },\r\n            }\r\n          : 'next'\r\n      )\r\n\r\n      if (err) throw err\r\n\r\n      setPhone(newPhone.phone)\r\n      setComments(newPhone.phone.comments)\r\n      AlertManager.show('new-phone-received', {\r\n        timeout: 2000,\r\n      })\r\n      PhoneStorage.add({\r\n        id: newPhone.phone.id,\r\n        status: null,\r\n        phone: newPhone.phone.phone,\r\n        savedOn: Date.now(),\r\n        restore: {\r\n          ...newPhone.original,\r\n          lastStatus: null,\r\n        },\r\n      })\r\n    } catch (e) {\r\n      console.log({ e })\r\n      setError(true)\r\n    } finally {\r\n      setIsLoading(false)\r\n    }\r\n  }, [AlertManager, PhoneStorage, Fetch, paramId])\r\n\r\n  useEffect(() => {\r\n    currentTerritory.active && fetchPhone()\r\n  }, [fetchPhone, currentTerritory])\r\n\r\n  const onFeedback = async (feedback: FeedbackExtended) => {\r\n    if (!phone) return\r\n\r\n    try {\r\n      setIsLoading(true)\r\n      const [err] = await Fetch().put('update_phone', {\r\n        id: phone.id,\r\n        answered: feedback,\r\n        comments: comments,\r\n      })\r\n\r\n      if (err) throw err\r\n\r\n      fetchPhone()\r\n      PhoneStorage.update(phone.id, feedback)\r\n    } catch {\r\n      AlertManager.hideAll()\r\n      AlertManager.show('feedback-failed')\r\n      setIsLoading(false)\r\n    }\r\n  }\r\n\r\n  const onEditRequest = async (\r\n    storagePhone: StoragePhone,\r\n    newStatus: FeedbackExtended\r\n  ) => {\r\n    try {\r\n      const [err] = await Fetch().put('update_phone', {\r\n        id: storagePhone.id,\r\n        answered: newStatus,\r\n        restore: storagePhone.restore,\r\n      })\r\n\r\n      if (err) throw err\r\n\r\n      PhoneStorage.update(storagePhone.id, newStatus)\r\n      AlertManager.show('edit-success')\r\n    } catch {\r\n      AlertManager.hideAll()\r\n      AlertManager.show('feedback-failed')\r\n    }\r\n  }\r\n\r\n  const sendFeedback = useThrottle(onFeedback, 5000)\r\n  const editNumber = useThrottle(onEditRequest, 5000)\r\n\r\n  const history = useHistory()\r\n\r\n  const openHelpSection = () =>\r\n    history.push(`/${currentTerritory.name}/telefonica/help`)\r\n  const closeHelpSection = () => history.goBack()\r\n\r\n  const handleComments = (c: string) => setComments(c)\r\n\r\n  if (error)\r\n    return (\r\n      <ErrorDisplay message=\"No hay más números disponibles por el día de hoy\" />\r\n    )\r\n\r\n  if (!currentTerritory.active)\r\n    return <ErrorDisplay message=\"Este territorio está desactivado.\" />\r\n\r\n  if (isLoading || !phone) return <Spinner fulfill container />\r\n\r\n  const Main = () => (\r\n    <>\r\n      <Helmet>\r\n        <title>{process.env.REACT_APP_CONG_INITIALS} Telefónica</title>\r\n      </Helmet>\r\n      <Alert name=\"new-phone-received\" position=\"top\" variant=\"success\">\r\n        <div className=\"text-center\">✨ ¡Nuevo número recibido! ✨🎉</div>\r\n      </Alert>\r\n      <Alert name=\"feedback-failed\" position=\"top\" variant=\"failure\">\r\n        <div className=\"text-center\">No se pudo enviar su feedback 😢</div>\r\n      </Alert>\r\n      <Alert name=\"edit-success\" position=\"bottom\" variant=\"success\">\r\n        <div className=\"text-center\">Número actualizado.</div>\r\n      </Alert>\r\n      <PhoneDetails\r\n        phone={phone}\r\n        comments={comments}\r\n        handleComments={handleComments}\r\n        openHelpSection={openHelpSection}\r\n        handlePhoneFeedback={sendFeedback}\r\n        selfAssigned={!!paramId}\r\n        isFromAnotherTerritory={phone.territoryId !== currentTerritory.id}\r\n      />\r\n      {advancedModeEnabled && (\r\n        <PhonesInStorage\r\n          PhoneStorage={PhoneStorage}\r\n          currentPhoneId={phone.id}\r\n          onEditRequest={editNumber}\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n\r\n  const Help = () => (\r\n    <>\r\n      <Helmet>\r\n        <title>{process.env.REACT_APP_CONG_INITIALS} Telefónica Ayuda</title>\r\n      </Helmet>\r\n      <HelpSection close={closeHelpSection} />\r\n    </>\r\n  )\r\n\r\n  return (\r\n    <Container>\r\n      <Switch>\r\n        <Route path=\"/:territory/telefonica\" exact render={Main} />\r\n        <Route path=\"/:territory/telefonica/help\" exact component={Help} />\r\n      </Switch>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport { Telefonica }\r\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Jumbotron = function Jumbotron(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      fluid = props.fluid,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\", \"fluid\"]);\n\n  var classes = mapToCssModules(classNames(className, 'jumbotron', fluid ? 'jumbotron-fluid' : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nJumbotron.propTypes = propTypes;\nJumbotron.defaultProps = defaultProps;\nexport default Jumbotron;"],"sourceRoot":""}