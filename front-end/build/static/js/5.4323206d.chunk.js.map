{"version":3,"sources":["../node_modules/reactstrap/es/Table.js","features/ManageTerritories/ManageTerritories.tsx","../node_modules/timers-browserify/main.js","../node_modules/setimmediate/setImmediate.js","features/ManageTerritories/index.tsx"],"names":["propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","breadcrumbItems","title","linkTo","ManageTerritories","useConfig","territories","currentTerritory","updateTerritories","getConfigs","useState","isCreatingNew","setIsCreatingNew","isDeleting","setIsDeleting","showNewTerritoryForm","setShowNewTerritoryForm","hoveringId","setHoveringId","editingName","setEditingName","newName","setNewName","Fetch","useFetch","AlertManager","useAlerts","useConfirmationModal","isDeleteModalOpen","isModalOpen","idToDelete","data","askDeleteConfirmation","askEditConfirmation","toggleDeleteModal","toggleModal","resetDeleteModal","reset","isCampaignOffModalOpen","idToUpdate","askCampaignOffconfirmation","toggleCampaignOffModal","resetCampaignOffModal","territoryToDelete","find","t","id","territoryToUpdate","buildTerritoryURL","name","window","location","origin","invalidNewName","test","invalidEditingName","useEffect","onCreateNew","a","post","err","territory","concat","show","onDelete","delete","newTerritories","filter","totalNumbers","onUpdate","useCallback","field","Error","newState","put","updatedTerritory","map","timeout","saveEditedName","e","target","undefined","document","addEventListener","removeEventListener","position","variant","items","SpaceBetween","color","onClick","open","isOpen","NewTerritoryForm","StyledInput","placeholder","value","onChange","error","disabled","onMouseEnter","onMouseLeave","style","cursor","setImmediate","ActiveCell","active","LinkTd","href","marginRight","marginLeft","navigator","clipboard","writeText","CampaignCell","campaignMode","completed","display","justifyContent","onConfirm","body","fulfill","buttonColor","confirmationLabel","styled","td","div","Input","theme","css","text","colors","neutral","green","yellow","scope","global","self","apply","Function","prototype","Timeout","clearFn","this","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","clearInterval","close","unref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","require","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","Object","getPrototypeOf","toString","process","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","Math","random","onGlobalMessage","event","source","indexOf","slice","length","attachEvent","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","html","documentElement","script","onreadystatechange","removeChild","appendChild","installReadyStateChangeImplementation","callback","args","Array","i","task","run"],"mappings":"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","file":"static/js/5.4323206d.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import React, { ChangeEvent, useState, useEffect, useCallback } from 'react'\r\nimport { Container, Table, Button, Collapse, Input } from 'reactstrap'\r\nimport {\r\n  Alert,\r\n  Breadcrumb,\r\n  Spinner,\r\n  useAlerts,\r\n  useConfirmationModal,\r\n  ConfirmationModal,\r\n} from 'components'\r\nimport { useConfig, useFetch } from 'hooks'\r\nimport styled, { css } from 'styled-components'\r\nimport { Territory } from 'types'\r\n\r\nconst breadcrumbItems = [\r\n  {\r\n    title: 'Panel de Administración',\r\n    linkTo: '/admin-panel',\r\n  },\r\n  {\r\n    title: 'Gestionar territorios',\r\n  },\r\n]\r\n\r\nconst ManageTerritories: React.FC = () => {\r\n  const {\r\n    territories,\r\n    currentTerritory,\r\n    updateTerritories,\r\n    getConfigs,\r\n  } = useConfig()\r\n\r\n  const [isCreatingNew, setIsCreatingNew] = useState<boolean>(false)\r\n  const [isDeleting, setIsDeleting] = useState<boolean>(false)\r\n  const [showNewTerritoryForm, setShowNewTerritoryForm] = useState<boolean>(\r\n    false\r\n  )\r\n\r\n  const [hoveringId, setHoveringId] = useState<number>(0)\r\n  const [editingName, setEditingName] = useState<\r\n    { id: number; name: string } | undefined\r\n  >()\r\n\r\n  const toggleNewTerritoryForm = () => setShowNewTerritoryForm((open) => !open)\r\n\r\n  const [newName, setNewName] = useState<string>('')\r\n\r\n  const Fetch = useFetch()\r\n  const { AlertManager } = useAlerts()\r\n  const {\r\n    isModalOpen: isDeleteModalOpen,\r\n    data: idToDelete,\r\n    askEditConfirmation: askDeleteConfirmation,\r\n    toggleModal: toggleDeleteModal,\r\n    reset: resetDeleteModal,\r\n  } = useConfirmationModal<number>()\r\n\r\n  const {\r\n    isModalOpen: isCampaignOffModalOpen,\r\n    data: idToUpdate,\r\n    askEditConfirmation: askCampaignOffconfirmation,\r\n    toggleModal: toggleCampaignOffModal,\r\n    reset: resetCampaignOffModal,\r\n  } = useConfirmationModal<number>()\r\n\r\n  const territoryToDelete =\r\n    !!idToDelete && territories.find((t) => t.id === idToDelete)\r\n  const territoryToUpdate =\r\n    !!idToUpdate && territories.find((t) => t.id === idToUpdate)\r\n\r\n  const buildTerritoryURL = (name: string) =>\r\n    `${window.location.origin}/${name}/`\r\n\r\n  const copyLink = (name: string) => {\r\n    navigator.clipboard.writeText(buildTerritoryURL(name))\r\n    AlertManager.show('copy-success')\r\n  }\r\n\r\n  const invalidNewName = /[^\\w\\d-]/i.test(newName)\r\n  const invalidEditingName = /[^\\w\\d-]/i.test(editingName?.name ?? '')\r\n\r\n  useEffect(() => {\r\n    getConfigs(Fetch)\r\n  }, [Fetch, getConfigs])\r\n\r\n  const onCreateNew = async () => {\r\n    if (invalidNewName) return\r\n\r\n    try {\r\n      setIsCreatingNew(true)\r\n      const [err, { territory }] = await Fetch().post<\r\n        { name: string },\r\n        { territory: Territory }\r\n      >('/territories', {\r\n        name: newName,\r\n      })\r\n\r\n      if (err) throw err\r\n\r\n      updateTerritories(territories.concat(territory))\r\n      AlertManager.show('new-success')\r\n    } catch {\r\n      AlertManager.show('new-fail')\r\n    } finally {\r\n      setIsCreatingNew(false)\r\n    }\r\n  }\r\n\r\n  const onDelete = async () => {\r\n    if (idToDelete === null || !territoryToDelete) return\r\n\r\n    try {\r\n      setIsDeleting(true)\r\n      const [err] = await Fetch().delete(`territories/${idToDelete}`)\r\n\r\n      if (err) throw err\r\n\r\n      const newTerritories = territories.filter((t) => t.id !== idToDelete)\r\n      // Assuming territory at index 0 is always 'base'\r\n      newTerritories[0].totalNumbers += territoryToDelete.totalNumbers\r\n      updateTerritories(newTerritories)\r\n      resetDeleteModal()\r\n      AlertManager.show('delete-success')\r\n    } catch {\r\n      AlertManager.show('delete-fail')\r\n    } finally {\r\n      setIsDeleting(false)\r\n    }\r\n  }\r\n\r\n  const onUpdate = useCallback(\r\n    async (\r\n      id: number,\r\n      field: 'active' | 'campaignMode' | 'name',\r\n      newName?: string\r\n    ) => {\r\n      try {\r\n        const territory = territories.find((t) => t.id === id)!\r\n        if (!territory) throw new Error()\r\n\r\n        const newState = field === 'name' ? newName : !territory[field]\r\n        field === 'campaignMode' &&\r\n          newState === false &&\r\n          resetCampaignOffModal()\r\n\r\n        const [err, { territory: updatedTerritory }] = await Fetch().put<\r\n          Partial<Territory>,\r\n          { territory: Territory }\r\n        >(`territories/${id}`, { [field]: newState })\r\n\r\n        if (err) throw err\r\n\r\n        updateTerritories(\r\n          territories.map((t) => (t.id === id ? updatedTerritory : t))\r\n        )\r\n        resetDeleteModal()\r\n        AlertManager.show('update-success', { timeout: 1500 })\r\n      } catch {\r\n        AlertManager.show('update-fail')\r\n      }\r\n    },\r\n    [\r\n      AlertManager,\r\n      Fetch,\r\n      resetCampaignOffModal,\r\n      resetDeleteModal,\r\n      territories,\r\n      updateTerritories,\r\n    ]\r\n  )\r\n\r\n  useEffect(() => {\r\n    const saveEditedName = (e: any) => {\r\n      if (e.target?.id !== 'editing-input' && editingName) {\r\n        onUpdate(editingName.id, 'name', editingName.name)\r\n        setEditingName(undefined)\r\n      }\r\n    }\r\n    document.addEventListener('click', saveEditedName)\r\n    return () => document.removeEventListener('click', saveEditedName)\r\n  }, [editingName, onUpdate])\r\n\r\n  return (\r\n    <>\r\n      <Alert name=\"copy-success\" position=\"top\" variant=\"success\">\r\n        Enlace copiado al portapapeles\r\n      </Alert>\r\n      <Alert name=\"new-success\" position=\"top\" variant=\"success\">\r\n        ¡Territorio creado!\r\n      </Alert>\r\n      <Alert name=\"new-fail\" position=\"top\" variant=\"failure\">\r\n        No se pudo crear el territorio.\r\n      </Alert>\r\n      <Alert name=\"delete-success\" position=\"top\" variant=\"success\">\r\n        ¡Territorio eliminado!\r\n      </Alert>\r\n      <Alert name=\"delete-fail\" position=\"top\" variant=\"failure\">\r\n        No se pudo eliminar el territorio.\r\n      </Alert>\r\n      <Alert name=\"update-success\" position=\"top\" variant=\"success\">\r\n        Actualizado\r\n      </Alert>\r\n      <Alert name=\"update-fail\" position=\"top\" variant=\"failure\">\r\n        No se pudo actualizar el territorio.\r\n      </Alert>\r\n      <Container className=\"pt-3 mb-5\">\r\n        <Breadcrumb items={breadcrumbItems} />\r\n        <hr />\r\n        <SpaceBetween>\r\n          <h2>Territorios:</h2>\r\n          <Button color=\"success\" onClick={toggleNewTerritoryForm}>\r\n            Nuevo\r\n          </Button>\r\n        </SpaceBetween>\r\n        <Collapse isOpen={showNewTerritoryForm}>\r\n          <NewTerritoryForm>\r\n            {isCreatingNew ? (\r\n              <Spinner />\r\n            ) : (\r\n              <>\r\n                <StyledInput\r\n                  placeholder=\"Nombre (solo se permiten letras, numeros y guiones)\"\r\n                  value={newName}\r\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\r\n                    setNewName(e.target.value)\r\n                  }\r\n                  error={invalidNewName}\r\n                />\r\n                <Button\r\n                  color=\"info\"\r\n                  onClick={onCreateNew}\r\n                  disabled={invalidNewName}\r\n                >\r\n                  Crear\r\n                </Button>\r\n              </>\r\n            )}\r\n          </NewTerritoryForm>\r\n        </Collapse>\r\n        <p>(No se puede eliminar el territorio base ni el actual)</p>\r\n        <Table borderless responsive>\r\n          <thead>\r\n            <tr>\r\n              <th>Nombre</th>\r\n              <th>Estado</th>\r\n              <th>Enlace</th>\r\n              <th>En campaña</th>\r\n              <th>Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {territories.map((territory) => (\r\n              <tr key={territory.id}>\r\n                <td\r\n                  onMouseEnter={() => setHoveringId(territory.id)}\r\n                  onMouseLeave={() => setHoveringId(0)}\r\n                >\r\n                  {editingName?.id === territory.id ? (\r\n                    <StyledInput\r\n                      id=\"editing-input\"\r\n                      value={editingName.name}\r\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\r\n                        setEditingName({ ...editingName, name: e.target.value })\r\n                      }\r\n                      error={invalidEditingName}\r\n                    />\r\n                  ) : (\r\n                    <>\r\n                      {territory.name}\r\n                      {hoveringId !== territory.id ? (\r\n                        ` (${territory.totalNumbers})`\r\n                      ) : (\r\n                        <>\r\n                          {' '}\r\n                          <span\r\n                            style={{ cursor: 'pointer' }}\r\n                            onClick={() =>\r\n                              setImmediate(() =>\r\n                                setEditingName({\r\n                                  id: territory.id,\r\n                                  name: territory.name,\r\n                                })\r\n                              )\r\n                            }\r\n                          >\r\n                            💱\r\n                          </span>\r\n                        </>\r\n                      )}\r\n                    </>\r\n                  )}\r\n                </td>\r\n                <ActiveCell active={territory.active}>\r\n                  {territory.active ? 'Habilitado' : 'Deshabilitado'}\r\n                </ActiveCell>\r\n                <LinkTd>\r\n                  <a href={buildTerritoryURL(territory.name)} target=\"_new\">\r\n                    {buildTerritoryURL(territory.name)}\r\n                  </a>\r\n                  <Button\r\n                    color=\"secondary\"\r\n                    size=\"sm\"\r\n                    style={{ marginRight: '.5em', marginLeft: '.5em' }}\r\n                    onClick={() => copyLink(territory.name)}\r\n                  >\r\n                    Copiar\r\n                  </Button>\r\n                </LinkTd>\r\n                <CampaignCell\r\n                  active={!!territory.campaignMode}\r\n                  completed={territory.completed === 100}\r\n                >\r\n                  {territory.campaignMode\r\n                    ? `Activa (${territory.completed}% completado)`\r\n                    : 'No'}\r\n                </CampaignCell>\r\n                <td style={{ display: 'flex', justifyContent: 'center' }}>\r\n                  <Button\r\n                    color={territory.active ? 'warning' : 'success'}\r\n                    size=\"sm\"\r\n                    onClick={() => onUpdate(territory.id, 'active')}\r\n                  >\r\n                    {territory.active ? 'Deshabilitar' : 'Habilitar'}\r\n                  </Button>\r\n                  <Button\r\n                    color={territory.campaignMode ? 'secondary' : 'info'}\r\n                    size=\"sm\"\r\n                    style={{ marginLeft: '.5em' }}\r\n                    onClick={\r\n                      territory.campaignMode\r\n                        ? () => askCampaignOffconfirmation(territory.id)\r\n                        : () => onUpdate(territory.id, 'campaignMode')\r\n                    }\r\n                  >\r\n                    {territory.campaignMode ? 'Desactivar' : 'Activar'} campaña\r\n                  </Button>\r\n                  <Button\r\n                    style={{ marginLeft: '.5em' }}\r\n                    color=\"danger \"\r\n                    size=\"sm\"\r\n                    onClick={() => askDeleteConfirmation(territory.id)}\r\n                    disabled={\r\n                      territory.id === currentTerritory.id || territory.id === 1\r\n                    }\r\n                  >\r\n                    Eliminar\r\n                  </Button>\r\n                </td>\r\n              </tr>\r\n            ))}\r\n          </tbody>\r\n        </Table>\r\n      </Container>\r\n      {idToDelete !== null && territoryToDelete && (\r\n        <ConfirmationModal\r\n          isOpen={isDeleteModalOpen}\r\n          toggleModal={toggleDeleteModal}\r\n          onConfirm={onDelete}\r\n          title=\"¡Advertencia!\"\r\n          body={\r\n            isDeleting ? (\r\n              <Spinner fulfill />\r\n            ) : (\r\n              <div>\r\n                <p>\r\n                  Al borrar un territorio, todos los números que tenga asignado\r\n                  actualmente no serán borrados, sino que serán movidos al\r\n                  territorio base.\r\n                </p>\r\n                <p>¿Seguro que desea eliminar el siguiente territorio?</p>\r\n                <span className=\"d-block\">\r\n                  Nombre: {territoryToDelete.name}\r\n                </span>\r\n              </div>\r\n            )\r\n          }\r\n          buttonColor=\"danger\"\r\n          confirmationLabel=\"Eliminar\"\r\n        />\r\n      )}\r\n      {idToUpdate !== null && territoryToUpdate && (\r\n        <ConfirmationModal\r\n          isOpen={isCampaignOffModalOpen}\r\n          toggleModal={toggleCampaignOffModal}\r\n          onConfirm={() => onUpdate(idToUpdate, 'campaignMode')}\r\n          title=\"¡Advertencia!\"\r\n          body={\r\n            <div>\r\n              <p>\r\n                Al desactivar la campaña de este territorio, la campaña se\r\n                reinicirá a cero y se perderá todo el progreso actual.\r\n              </p>\r\n              <p>\r\n                ¿Seguro que desea desactivar la campaña del siguiente\r\n                territorio?\r\n              </p>\r\n              <span className=\"d-block\">Nombre: {territoryToUpdate.name}</span>\r\n            </div>\r\n          }\r\n          buttonColor=\"danger\"\r\n          confirmationLabel=\"Desactivar\"\r\n        />\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nconst LinkTd = styled.td`\r\n  text-overflow: ellipsis;\r\n  overflow: hidden;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n\r\n  > span {\r\n    max-width: 300px;\r\n    text-overflow: ellipsis;\r\n    overflow: hidden;\r\n  }\r\n`\r\n\r\nconst SpaceBetween = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n`\r\n\r\nconst NewTerritoryForm = styled.div`\r\n  display: flex;\r\n  margin: 1em 0;\r\n  justify-content: center;\r\n\r\n  button {\r\n    margin-left: 0.5em;\r\n  }\r\n`\r\n\r\nconst StyledInput = styled(Input)<{ error?: boolean }>`\r\n  ${({ error, theme }) =>\r\n    error &&\r\n    css`\r\n      background-color: ${theme.text.colors.error} !important;\r\n    `}\r\n`\r\n\r\nconst ActiveCell = styled.td<{ active: boolean; neutral?: boolean }>`\r\n  color: ${({ active, theme, neutral }) =>\r\n    active ? theme.text.colors.green : neutral ? '' : theme.text.colors.error};\r\n`\r\n\r\nconst CampaignCell = styled.td<{ active: boolean; completed: boolean }>`\r\n  color: ${({ active, theme, completed }) =>\r\n    !active\r\n      ? ''\r\n      : completed\r\n      ? theme.text.colors.green\r\n      : theme.text.colors.yellow};\r\n`\r\n\r\nexport { ManageTerritories }\r\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","export { ManageTerritories as default } from './ManageTerritories'\r\n"],"sourceRoot":""}