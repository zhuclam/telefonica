{"version":3,"sources":["../node_modules/reactstrap/es/Table.js","features/Telefonica/components/PhoneLink.tsx","features/Telefonica/components/PhoneOptions.tsx","../node_modules/reactstrap/es/Alert.js","features/Telefonica/components/PhoneDetails.tsx","features/Telefonica/components/HelpSection.tsx","features/Telefonica/components/PhonesInStorage.tsx","features/Telefonica/Telefonica.tsx","../node_modules/reactstrap/es/Jumbotron.js"],"names":["propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","PhoneLink","phone","useState","touchedCount","setTouchedCount","useEffect","style","textDecoration","href","onClick","Array","fill","map","_","PhoneOptions","phoneId","initialNoCallOnWeekends","initiallyOpen","onNoCall","showPhoneOptions","setShowPhoneOptions","noCallOnWeekends","setNoCallOnWeekends","AlertManager","useAlerts","Fetch","useFetch","handleOptionChanged","option","newVal","a","revert","backendValue","put","err","show","hideAll","name","position","variant","PhoneOptionsContainer","Title","Collapse","isOpen","Inner","id","checked","onChange","styled","div","theme","text","colors","darkMode","ownKeys","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","children","node","closeClassName","closeAriaLabel","color","fade","toggle","transition","shape","Fade","unmountOnExit","Alert","closeClasses","alertTransition","baseClass","timeout","in","role","type","PhoneDetails","comments","handleComments","openHelpSection","handlePhoneFeedback","selfAssigned","isFromAnotherTerritory","useConfig","advancedModeEnabled","configurations","currentTerritory","hiddenButtons","campaignMode","isButtonAllowed","f","split","includes","toString","useConfirmationModal","isModalOpen","feedbackToConfirm","data","askEditConfirmation","toggleModal","reset","handleGeneric","feedback","handleAnswered","Feedback","ANSWERED","handleUnanswered","UNANSWERED","handleNonExistent","NON_EXISTENT","handleNoCall","NO_CALL","handleAnsweringMachine","ANSWERING_MACHINE","handlePostpone","POSTPONE","handleIgnore","IGNORE","DesktopTable","info","answeredOn","unansweredDate","fulfilledOn","MobileTable","fontWeight","helpButton","MiniSection","HelpButton","CommentsSection","Input","placeholder","value","e","commentedOn","answeringMachineDate","ButtonGroup","Button","block","CampaignFeedback","RUSHED","Container","noWeekends","Jumbotron","fluid","onConfirm","title","buttonColor","confirmationLabel","labels","input","secondary","white","black","button","HelpSection","close","isAllowed","unansweredMaxAttemps","answeringMachineMaxAttemps","answeringMachinePostponedDays","postponedButtonDays","nonExistentPostponedDays","navbarHeight","PhonesInStorage","currentPhoneId","onEditRequest","PhoneStorage","collapsed","setCollapsed","storagePhoneToConfirm","onAskEditConfirmation","rows","getAll","reverse","p","phoneIsFromToday","isToday","savedOn","status","statusLabel","isCollapsed","handleCollapsed","CollapseButtons","r","Telefonica","setPhone","isLoading","setIsLoading","error","setError","setComments","usePhoneStorage","CONG_INITIALS","paramId","URLSearchParams","window","location","search","get","fetchPhone","useCallback","path","params","newPhone","add","Date","now","restore","original","lastStatus","console","log","active","onFeedback","answered","update","storagePhone","newStatus","sendFeedback","useThrottle","editNumber","history","useHistory","closeHelpSection","goBack","c","message","fulfill","container","exact","render","Helmet","territoryId","component"],"mappings":"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","file":"static/js/11.0f0205e3.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import React, { useEffect, useState } from 'react'\n\ninterface PhoneLinkProps {\n  phone: string\n}\n\nconst PhoneLink: React.FC<PhoneLinkProps> = ({ phone }) => {\n  const [touchedCount, setTouchedCount] = useState<number>(0)\n\n  const addTouched = () => setTouchedCount(touchedCount + 1)\n\n  useEffect(() => {\n    setTouchedCount(0)\n  }, [phone])\n\n  return (\n    <>\n      <a\n        style={{ textDecoration: 'underline' }}\n        href={`tel:${phone}`}\n        onClick={addTouched}\n      >\n        {phone}\n      </a>\n      {Array(touchedCount)\n        .fill(null)\n        .map((_) => (\n          <span className=\"d-block text-success\">¡Tocado!</span>\n        ))}\n    </>\n  )\n}\n\nexport { PhoneLink }\n","import React, { FunctionComponent, useState } from 'react'\nimport styled from 'styled'\nimport { Collapse } from 'reactstrap'\nimport { useFetch } from 'hooks'\nimport { Alert, useAlerts, Switch } from 'components'\nimport { PhoneOptionsType } from 'types'\n\ninterface PhoneOptionsProps {\n  phoneId: number\n  initialNoCallOnWeekends: boolean\n  initiallyOpen: boolean\n  onNoCall: false | (() => void)\n}\n\nconst PhoneOptions: FunctionComponent<PhoneOptionsProps> = ({\n  phoneId,\n  initialNoCallOnWeekends,\n  initiallyOpen,\n  onNoCall,\n}) => {\n  const [showPhoneOptions, setShowPhoneOptions] =\n    useState<boolean>(initiallyOpen)\n  const [noCallOnWeekends, setNoCallOnWeekends] = useState<boolean>(\n    initialNoCallOnWeekends\n  )\n\n  const { AlertManager } = useAlerts()\n\n  const Fetch = useFetch()\n\n  const togglePhoneOptions = () => setShowPhoneOptions(!showPhoneOptions)\n\n  const handleOptionChanged = async <K extends keyof PhoneOptionsType>(\n    option: K,\n    newVal: PhoneOptionsType[K]\n  ) => {\n    let revert: () => void = () => {}\n    let backendValue: PhoneOptionsType[K] = newVal\n\n    if (option === 'callOnWeekends') {\n      revert = () => setNoCallOnWeekends(noCallOnWeekends)\n      setNoCallOnWeekends(newVal)\n      // In the case of callOnWeekends, we are handling the opposite case on the back\n      backendValue = !newVal\n    }\n\n    try {\n      const [err] = await Fetch().put<Partial<PhoneOptionsType>>(\n        `phones/${phoneId}/options`,\n        {\n          [option]: backendValue,\n        }\n      )\n\n      if (err) throw err\n\n      AlertManager.show('phone-option-update-success')\n    } catch {\n      revert()\n      AlertManager.hideAll()\n      AlertManager.show('phone-option-update-failed')\n    }\n  }\n\n  return (\n    <>\n      <Alert\n        name=\"phone-option-update-success\"\n        position=\"top\"\n        variant=\"success\"\n      >\n        Opción de teléfono actualizada con éxito.\n      </Alert>\n      <Alert\n        name=\"phone-option-update-failed\"\n        position=\"bottom\"\n        variant=\"failure\"\n      >\n        No se pudo actualizar opción de teléfono.\n      </Alert>\n\n      <PhoneOptionsContainer>\n        <Title onClick={togglePhoneOptions}>\n          Opciones de teléfono\n          <span>{showPhoneOptions ? '-' : '+'}</span>\n        </Title>\n        <Collapse isOpen={showPhoneOptions}>\n          <Inner>\n            <span>No llamar los fin de semana:</span>\n            <Switch\n              id=\"no-weekends\"\n              checked={noCallOnWeekends}\n              onChange={(checked) =>\n                handleOptionChanged('callOnWeekends', checked)\n              }\n            />\n          </Inner>\n          {onNoCall && (\n            <Inner>\n              <span>No visitar:</span>\n              <Switch id=\"no-call\" checked={false} onChange={onNoCall} />\n            </Inner>\n          )}\n        </Collapse>\n      </PhoneOptionsContainer>\n    </>\n  )\n}\n\nconst PhoneOptionsContainer = styled.div``\n\nconst Inner = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-top: 0.5em;\n`\n\nconst Title = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-weight: 500;\n  color: ${({ theme }) =>\n    theme.text.colors[theme.darkMode ? 'lightgreen' : 'green']};\n\n  span {\n    font-weight: 800;\n  }\n`\n\nexport { PhoneOptions }\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nimport Fade from './Fade';\nvar propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  closeAriaLabel: PropTypes.string,\n  cssModule: PropTypes.object,\n  color: PropTypes.string,\n  fade: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  toggle: PropTypes.func,\n  tag: tagPropType,\n  transition: PropTypes.shape(Fade.propTypes),\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  color: 'success',\n  isOpen: true,\n  tag: 'div',\n  closeAriaLabel: 'Close',\n  fade: true,\n  transition: _objectSpread(_objectSpread({}, Fade.defaultProps), {}, {\n    unmountOnExit: true\n  })\n};\n\nfunction Alert(props) {\n  var className = props.className,\n      closeClassName = props.closeClassName,\n      closeAriaLabel = props.closeAriaLabel,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      color = props.color,\n      isOpen = props.isOpen,\n      toggle = props.toggle,\n      children = props.children,\n      transition = props.transition,\n      fade = props.fade,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"closeClassName\", \"closeAriaLabel\", \"cssModule\", \"tag\", \"color\", \"isOpen\", \"toggle\", \"children\", \"transition\", \"fade\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'alert', \"alert-\" + color, {\n    'alert-dismissible': toggle\n  }), cssModule);\n  var closeClasses = mapToCssModules(classNames('close', closeClassName), cssModule);\n\n  var alertTransition = _objectSpread(_objectSpread(_objectSpread({}, Fade.defaultProps), transition), {}, {\n    baseClass: fade ? transition.baseClass : '',\n    timeout: fade ? transition.timeout : 0\n  });\n\n  return /*#__PURE__*/React.createElement(Fade, _extends({}, attributes, alertTransition, {\n    tag: Tag,\n    className: classes,\n    in: isOpen,\n    role: \"alert\",\n    innerRef: innerRef\n  }), toggle ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: closeClasses,\n    \"aria-label\": closeAriaLabel,\n    onClick: toggle\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, children);\n}\n\nAlert.propTypes = propTypes;\nAlert.defaultProps = defaultProps;\nexport default Alert;","import React from 'react'\nimport { useConfig } from 'hooks'\nimport styled from 'styled'\nimport { CampaignFeedback, Feedback, FeedbackExtended, Phone } from 'types'\nimport { ConfirmationModal, useConfirmationModal } from 'components'\nimport { PhoneLink } from './PhoneLink'\nimport { PhoneOptions } from './PhoneOptions'\nimport { colors, labels } from 'consts'\nimport {\n  Button,\n  Container,\n  Jumbotron,\n  Alert as ReactstrapAlert,\n} from 'reactstrap'\n\ninterface PhoneDetailsProps {\n  phone: Phone\n  comments: string\n  handleComments: (comments: string) => void\n  openHelpSection: () => void\n  handlePhoneFeedback: (n: FeedbackExtended) => void\n  selfAssigned: boolean\n  isFromAnotherTerritory: boolean\n}\n\nconst PhoneDetails: React.FC<PhoneDetailsProps> = ({\n  phone,\n  comments,\n  handleComments,\n  openHelpSection,\n  handlePhoneFeedback,\n  selfAssigned,\n  isFromAnotherTerritory,\n}) => {\n  const { advancedModeEnabled, configurations, currentTerritory } = useConfig()\n  const { hiddenButtons } = configurations\n  const { campaignMode } = currentTerritory\n\n  const isButtonAllowed = (f: Feedback) =>\n    !hiddenButtons.split(',').includes(f.toString())\n\n  const {\n    isModalOpen,\n    data: feedbackToConfirm,\n    askEditConfirmation,\n    toggleModal,\n    reset,\n  } = useConfirmationModal<Feedback>()\n\n  const handleGeneric = (feedback: Feedback) => () => {\n    if (advancedModeEnabled) askEditConfirmation(feedback)\n    else handlePhoneFeedback(feedback)\n  }\n\n  const doConfirm = () => {\n    if (feedbackToConfirm === null) return\n    handlePhoneFeedback(feedbackToConfirm)\n    reset()\n  }\n\n  const handleAnswered = handleGeneric(Feedback.ANSWERED)\n  const handleUnanswered = handleGeneric(Feedback.UNANSWERED)\n  const handleNonExistent = handleGeneric(Feedback.NON_EXISTENT)\n  const handleNoCall = handleGeneric(Feedback.NO_CALL)\n  const handleAnsweringMachine = handleGeneric(Feedback.ANSWERING_MACHINE)\n  const handlePostpone = handleGeneric(Feedback.POSTPONE)\n  const handleIgnore = handleGeneric(Feedback.IGNORE)\n  const handleRushed = () => handlePhoneFeedback(CampaignFeedback.RUSHED)\n\n  const DesktopTable = (\n    <div className=\"table-responsive d-none d-sm-block\">\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th>Teléfono</th>\n            <th>Otros datos</th>\n            {phone.comments ? <th>Comentarios</th> : null}\n            <th>Última fecha que atendió</th>\n            <th>Última fecha que se lo llamó</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              <PhoneLink phone={phone.phone} />\n            </td>\n            <td>{phone.info}</td>\n            {phone.comments ? <td>{phone.comments}</td> : null}\n            <td>{phone.answeredOn ?? 'Nunca'}</td>\n            <td>\n              {phone.unansweredDate ? (\n                phone.unansweredDate\n              ) : phone.fulfilledOn ? (\n                <>\n                  {phone.fulfilledOn === 'jue, 25 jun 2020' && 'Antes del '}\n                  {phone.fulfilledOn}\n                </>\n              ) : (\n                'Nunca'\n              )}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n\n  const MobileTable = (\n    <div className=\"d-block d-sm-none text-center\">\n      <span style={{ fontWeight: 500 }}>Teléfono:</span>\n      <div>\n        <PhoneLink phone={phone.phone} />\n      </div>\n      <br />\n\n      <span style={{ fontWeight: 500 }}>Otros datos:</span>\n      <div>{phone.info}</div>\n      <br />\n\n      {phone.comments && (\n        <>\n          <span style={{ fontWeight: 500 }}>Comentarios:</span>\n          <div>{phone.comments}</div>\n          <br />\n        </>\n      )}\n\n      <span style={{ fontWeight: 500 }}>Última fecha que atendió:</span>\n      <div>{phone.answeredOn ?? 'Nunca'}</div>\n      <br />\n\n      <span style={{ fontWeight: 500 }}>Última fecha que se lo llamó:</span>\n      <div>\n        {phone.unansweredDate ? (\n          phone.unansweredDate\n        ) : phone.fulfilledOn ? (\n          <>\n            {phone.fulfilledOn === 'jue, 25 jun 2020' && 'Antes del '}\n            {phone.fulfilledOn}\n          </>\n        ) : (\n          'Nunca'\n        )}\n      </div>\n    </div>\n  )\n\n  const helpButton = (\n    <MiniSection>\n      <HelpButton onClick={openHelpSection}>¿Qué hace cada botón?</HelpButton>\n    </MiniSection>\n  )\n\n  const CommentsSection = (\n    <div className=\"row my-4\">\n      <div className=\"col-12\">\n        <span className=\"text-secondary d-inline-block mb-2\">\n          Comentarios (opcional):\n        </span>\n        <Input\n          placeholder=\"Su comentario acá...\"\n          type=\"text\"\n          value={comments}\n          onChange={(e) => handleComments(e.target.value)}\n        />\n\n        {phone.commentedOn && (\n          <span className=\"input-helper text-secondary\">\n            Comentado el:{' '}\n            <span className=\"text-success\">{phone.commentedOn}</span>\n          </span>\n        )}\n\n        {phone.answeringMachineDate && (\n          <span className=\"d-block input-helper text-secondary\">\n            Último mensaje en el contestador:{' '}\n            <span className=\"text-success\">{phone.answeringMachineDate}</span>\n          </span>\n        )}\n\n        {!phone.commentedOn && !phone.answeringMachineDate && (\n          <span className=\"input-helper text-secondary\">\n            Ej.: lugar de trabajo, no habla español, etc.\n          </span>\n        )}\n      </div>\n    </div>\n  )\n\n  const ButtonGroup = campaignMode ? (\n    <div className=\"my-4\">\n      <Button color=\"success\" block onClick={handleRushed}>\n        Siguiente\n      </Button>\n    </div>\n  ) : !advancedModeEnabled ? (\n    <div className=\"my-4 row d-flex justify-content-center\">\n      {isButtonAllowed(Feedback.ANSWERED) && (\n        <div className=\"col-6 mb-3 col-md-auto\">\n          <button\n            className=\"btn btn-success btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleAnswered}\n          >\n            Atendió\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.UNANSWERED) && (\n        <div className=\"col-6 mb-3 col-md-auto\">\n          <button\n            className=\"btn btn-danger btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleUnanswered}\n          >\n            No en casa\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NO_CALL) && (\n        <div className=\"col-6 col-md-auto\">\n          <button\n            className=\"btn btn-warning btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleNoCall}\n          >\n            No visitar\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NON_EXISTENT) && (\n        <div className=\"col-6 col-md-auto\">\n          <button\n            className=\"btn btn-dark btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleNonExistent}\n          >\n            No existe\n          </button>\n        </div>\n      )}\n    </div>\n  ) : (\n    <div className=\"my-4 row d-flex justify-content-center\">\n      {isButtonAllowed(Feedback.ANSWERED) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <button\n            className=\"btn btn-success btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleAnswered}\n          >\n            Atendió\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.UNANSWERED) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <button\n            className=\"btn btn-danger btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleUnanswered}\n          >\n            No en casa\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.ANSWERING_MACHINE) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <button\n            className=\"btn btn-primary btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleAnsweringMachine}\n          >\n            Contestador\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.POSTPONE) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <button\n            className=\"btn btn-info btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handlePostpone}\n          >\n            Aplazar\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.IGNORE) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <button\n            className=\"btn btn-secondary btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleIgnore}\n          >\n            Ignorar\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NO_CALL) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <button\n            className=\"btn btn-warning btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleNoCall}\n          >\n            No visitar\n          </button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NON_EXISTENT) && (\n        <div className=\"col-6 col-md-auto\">\n          <button\n            className=\"btn btn-dark btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleNonExistent}\n          >\n            No existe\n          </button>\n        </div>\n      )}\n    </div>\n  )\n\n  return (\n    <Container className=\"py-4\">\n      {selfAssigned && (\n        <ReactstrapAlert color=\"warning\">\n          Usando número autoasignado\n        </ReactstrapAlert>\n      )}\n      {isFromAnotherTerritory && (\n        <ReactstrapAlert color=\"danger\">\n          ¡El número es de otro territorio!\n        </ReactstrapAlert>\n      )}\n      {DesktopTable}\n      {MobileTable}\n      {CommentsSection}\n      {!!advancedModeEnabled && (\n        <MiniSection>\n          <PhoneOptions\n            phoneId={phone.id}\n            initialNoCallOnWeekends={phone.noWeekends}\n            initiallyOpen={false}\n            onNoCall={!!campaignMode && handleNoCall}\n          />\n        </MiniSection>\n      )}\n      {!!campaignMode && (\n        <Jumbotron fluid className=\"my-2\">\n          <Container>\n            <h6>¡Estamos en campaña!</h6>\n            <small>\n              Durante la campaña, solo habrá un botón de \"siguiente\".\n            </small>\n          </Container>\n        </Jumbotron>\n      )}\n      {ButtonGroup}\n      {advancedModeEnabled && !campaignMode && helpButton}\n      {feedbackToConfirm !== null && (\n        <ConfirmationModal\n          isOpen={isModalOpen}\n          toggleModal={toggleModal}\n          onConfirm={doConfirm}\n          title=\"¿Seguro?\"\n          buttonColor={colors[feedbackToConfirm]}\n          confirmationLabel={labels[feedbackToConfirm]}\n        />\n      )}\n    </Container>\n  )\n}\n\nconst Input = styled.input`\n  width: 100%;\n  border-top: none;\n  border-right: none;\n  border-left: none;\n  border-image: initial;\n  border-bottom: 2px solid ${({ theme }) => theme.text.colors.secondary};\n  outline: none;\n  transition: border-bottom-color 0.25s;\n  margin-bottom: 0.5em;\n  border-radius: 5px;\n  padding: 0 10px;\n\n  :focus {\n    border-bottom-color: ${({ theme }) =>\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.black};\n  }\n`\n\nconst MiniSection = styled.div`\n  border-top: 1px solid\n    ${({ theme }) =>\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.secondary};\n  border-bottom: 1px solid\n    ${({ theme }) =>\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.secondary};\n  padding: 10px 0;\n  margin-top: 2em;\n  display: flex;\n\n  > div {\n    width: 100%;\n  }\n`\n\nconst HelpButton = styled.button`\n  margin-bottom: 0;\n  border: none;\n  color: ${({ theme }) => (theme.darkMode ? theme.text.colors.white : '#555')};\n  text-decoration: underline;\n  background: none;\n  margin: auto;\n`\n\nexport { PhoneDetails }\n","import { useConfig } from 'hooks'\nimport React from 'react'\nimport styled from 'styled'\nimport { Feedback } from 'types'\n\ninterface HelpSectionProps {\n  close: () => void\n}\n\nconst HelpSection: React.FC<HelpSectionProps> = ({ close }) => {\n  const { advancedModeEnabled, configurations } = useConfig()\n\n  const isAllowed = (f: Feedback) =>\n    !configurations.hiddenButtons.split(',').includes(f.toString())\n\n  return (\n    <Container>\n      {isAllowed(Feedback.ANSWERED) && (\n        <div className=\"text-center\">\n          <h6>\n            ¿Qué hace el botón de <span className=\"text-success\">atendió</span>?\n          </h6>\n          <p>\n            Manda el número al final de la cola y registra la fecha en que se\n            atendió.\n          </p>\n        </div>\n      )}\n      {isAllowed(Feedback.UNANSWERED) && (\n        <div className=\"text-center\">\n          <h6>\n            ¿Qué hace el botón de{' '}\n            <span className=\"text-danger\">no en casa</span>?\n          </h6>\n          <p>\n            Guarda el número para llamarlo de vuelta mañana, hasta un máximo de{' '}\n            {configurations.unansweredMaxAttemps} intentos. Luego, si no\n            atendió, se lo manda al final de la cola.\n          </p>\n        </div>\n      )}\n      {advancedModeEnabled && (\n        <>\n          {isAllowed(Feedback.ANSWERING_MACHINE) && (\n            <div className=\"text-center\">\n              <h6>\n                ¿Qué hace el botón de{' '}\n                <span className=\"text-primary\">contestador</span>?\n              </h6>\n              <p>\n                Registra la última vez que se le dejó un mensaje en el\n                contestador al amo de casa.&nbsp;\n                {configurations.answeringMachineMaxAttemps > 1 && (\n                  <span>\n                    Además, congela el número durante{' '}\n                    {configurations.answeringMachinePostponedDays} días para\n                    darle un máximo de{' '}\n                    {configurations.answeringMachineMaxAttemps} oportunidades.\n                    Estas oportunidades se computan junto a las que ya se le dio\n                    con el botón \"no en casa\" si ha sido el caso.\n                  </span>\n                )}\n              </p>\n            </div>\n          )}\n          {isAllowed(Feedback.POSTPONE) && (\n            <div className=\"text-center\">\n              <h6>\n                ¿Qué hace el botón de <span className=\"text-info\">aplazar</span>\n                ?\n              </h6>\n              <p>\n                Congela el número para que se lo llame dentro de{' '}\n                {configurations.postponedButtonDays}{' '}\n                {configurations.postponedButtonDays > 1 ? 'días' : 'día'}.\n              </p>\n            </div>\n          )}\n          {isAllowed(Feedback.IGNORE) && (\n            <div className=\"text-center\">\n              <h6>\n                ¿Qué hace el botón de{' '}\n                <span className=\"text-secondary\">ignorar</span>?\n              </h6>\n              <p>Manda el número directamente al final de la cola.</p>\n            </div>\n          )}\n        </>\n      )}\n      {isAllowed(Feedback.NO_CALL) && (\n        <div className=\"text-center\">\n          <h6>\n            ¿Qué hace el botón de{' '}\n            <span className=\"text-warning\">no visitar</span>?\n          </h6>\n          <p>\n            Quita el número de la cola. No se lo borra pero tampoco se lo\n            volverá a llamar.\n          </p>\n        </div>\n      )}\n      {isAllowed(Feedback.NON_EXISTENT) && (\n        <div className=\"text-center\">\n          <h6>\n            ¿Qué hace el botón de{' '}\n            <span className=\"text-secondary\">no existe</span>?\n          </h6>\n          <p>\n            Suspende el número durante {configurations.nonExistentPostponedDays}{' '}\n            días. Luego vuelve a la cola porque existe la posibilidad de que se\n            haya reactivado.\n          </p>\n        </div>\n      )}\n\n      <p className=\"text-center\">\n        Nota: en ningún caso se borran los números. Si correspondiera (por ej.\n        por estar fuera del territorio), por favor, comunicarse con el siervo de\n        territorios.\n      </p>\n\n      <Button className=\"btn btn-secondary\" onClick={close}>\n        Volver\n      </Button>\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  display: flex;\n  padding: 20px 0;\n  min-height: calc(100vh - ${({ theme }) => theme.navbarHeight}px);\n  justify-content: space-evenly;\n  flex-direction: column;\n`\n\nconst Button = styled.button`\n  width: 100%;\n`\n\nexport { HelpSection }\n","import React, { useState } from 'react'\nimport { Collapse, Table, Button } from 'reactstrap'\nimport styled from 'styled'\nimport { useConfig, usePhoneStorage } from 'hooks'\nimport {\n  CampaignFeedback,\n  Feedback,\n  FeedbackExtended,\n  StoragePhone,\n} from 'types'\nimport { isToday } from 'utils'\nimport { colors, labels } from 'consts'\nimport { useConfirmationModal, ConfirmationModal } from 'components'\n\ninterface PhonesInStorageProps {\n  currentPhoneId: number\n  onEditRequest: (\n    storagePhone: StoragePhone,\n    newStatus: FeedbackExtended\n  ) => void\n  PhoneStorage: ReturnType<typeof usePhoneStorage>\n}\n\nconst PhonesInStorage: React.FC<PhonesInStorageProps> = ({\n  currentPhoneId,\n  onEditRequest,\n  PhoneStorage,\n}) => {\n  const [collapsed, setCollapsed] = useState<number | null>(null)\n  const { isModalOpen, data, askEditConfirmation, toggleModal, reset } =\n    useConfirmationModal<{\n      storagePhoneToConfirm: StoragePhone\n      feedbackToConfirm: FeedbackExtended\n    }>()\n\n  const {\n    configurations: { hiddenButtons },\n    currentTerritory: { campaignMode },\n  } = useConfig()\n\n  const isAllowed = (f: FeedbackExtended) =>\n    !hiddenButtons.split(',').includes(f.toString()) &&\n    !(\n      campaignMode &&\n      [\n        Feedback.UNANSWERED,\n        Feedback.ANSWERED,\n        Feedback.NON_EXISTENT,\n        Feedback.NO_CALL,\n        Feedback.ANSWERING_MACHINE,\n        Feedback.IGNORE,\n        // @ts-ignore\n      ].includes(f)\n    ) &&\n    // @ts-ignore\n    !(!campaignMode && [CampaignFeedback.RUSHED].includes(f))\n\n  const feedbackToConfirm = data?.feedbackToConfirm ?? null\n  const storagePhoneToConfirm = data?.storagePhoneToConfirm ?? null\n\n  const resetStates = () => {\n    setCollapsed(null)\n    reset()\n  }\n\n  const onAskEditConfirmation = (\n    feedbackToConfirm: FeedbackExtended,\n    storagePhoneToConfirm: StoragePhone\n  ) => askEditConfirmation({ storagePhoneToConfirm, feedbackToConfirm })\n\n  const handleCollapsed = (i: number) =>\n    collapsed !== i ? setCollapsed(i) : setCollapsed(null)\n\n  const doConfirm = () => {\n    if (!storagePhoneToConfirm || typeof feedbackToConfirm !== 'number') return\n    onEditRequest(storagePhoneToConfirm, feedbackToConfirm)\n    resetStates()\n  }\n\n  const phones = PhoneStorage.getAll()\n\n  const rows = phones.reverse().map((p, i) => {\n    if (p.id === currentPhoneId) return null\n\n    const phoneIsFromToday = isToday(p.savedOn)\n    const color = p.status !== null ? colors[p.status] : ''\n\n    const statusLabel =\n      !phoneIsFromToday && p.status === null\n        ? 'Asignado a otro publicador'\n        : p.status !== null\n        ? labels[p.status]\n        : 'Sin respuesta'\n\n    const isCollapsed = i === collapsed\n\n    return (\n      <tr key={p.id} style={{ position: 'relative' }}>\n        <td>{p.phone}</td>\n        <td>\n          <span className={`text-${color}`}>{statusLabel}</span>\n        </td>\n        <td>\n          {phoneIsFromToday && (\n            <Button color=\"secondary\" onClick={() => handleCollapsed(i)}>\n              Editar\n            </Button>\n          )}\n          <CollapseButtons isOpen={isCollapsed}>\n            {p.status !== CampaignFeedback.RUSHED &&\n              isAllowed(CampaignFeedback.RUSHED) && (\n                <button\n                  className=\"btn btn-success btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() =>\n                    onAskEditConfirmation(CampaignFeedback.RUSHED, p)\n                  }\n                >\n                  Completado\n                </button>\n              )}\n            {p.status !== Feedback.ANSWERED && isAllowed(Feedback.ANSWERED) && (\n              <button\n                className=\"btn btn-success btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.ANSWERED, p)}\n              >\n                Atendió\n              </button>\n            )}\n            {p.status !== Feedback.UNANSWERED &&\n              isAllowed(Feedback.UNANSWERED) && (\n                <button\n                  className=\"btn btn-danger btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() => onAskEditConfirmation(Feedback.UNANSWERED, p)}\n                >\n                  No en casa\n                </button>\n              )}\n            {p.status !== Feedback.ANSWERING_MACHINE &&\n              isAllowed(Feedback.ANSWERING_MACHINE) && (\n                <button\n                  className=\"btn btn-primary btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() =>\n                    onAskEditConfirmation(Feedback.ANSWERING_MACHINE, p)\n                  }\n                >\n                  Contestador\n                </button>\n              )}\n            {p.status !== Feedback.POSTPONE && isAllowed(Feedback.POSTPONE) && (\n              <button\n                className=\"btn btn-info btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.POSTPONE, p)}\n              >\n                Aplazar\n              </button>\n            )}\n            {p.status !== Feedback.IGNORE && isAllowed(Feedback.IGNORE) && (\n              <button\n                className=\"btn btn-secondary btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.IGNORE, p)}\n              >\n                Ignorar\n              </button>\n            )}\n            {p.status !== Feedback.NO_CALL && isAllowed(Feedback.NO_CALL) && (\n              <button\n                className=\"btn btn-warning btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.NO_CALL, p)}\n              >\n                No visitar\n              </button>\n            )}\n            {p.status !== Feedback.NON_EXISTENT &&\n              isAllowed(Feedback.NON_EXISTENT) && (\n                <button\n                  className=\"btn btn-dark btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() =>\n                    onAskEditConfirmation(Feedback.NON_EXISTENT, p)\n                  }\n                >\n                  No existe\n                </button>\n              )}\n          </CollapseButtons>\n        </td>\n      </tr>\n    )\n  })\n\n  const dataInStorage: boolean = rows.filter((r) => !!r).length > 0\n\n  if (!dataInStorage) return null\n\n  return (\n    <>\n      <h6 className=\"container mb-3\">\n        Números anteriores en este dispositivo:\n      </h6>\n      <Table responsive className=\"text-center\">\n        <thead>\n          <tr>\n            <th>Teléfono</th>\n            <th>Estado</th>\n            <th>Acciones</th>\n          </tr>\n        </thead>\n        <tbody>{rows}</tbody>\n      </Table>\n      {feedbackToConfirm !== null && (\n        <ConfirmationModal\n          isOpen={isModalOpen}\n          toggleModal={toggleModal}\n          onConfirm={doConfirm}\n          title=\"¿Seguro?\"\n          buttonColor={colors[feedbackToConfirm]}\n          confirmationLabel={labels[feedbackToConfirm]}\n        />\n      )}\n    </>\n  )\n}\n\nconst CollapseButtons = styled(Collapse)`\n  position: absolute;\n  left: 0px;\n  background: rgb(34, 34, 34);\n  width: 100%;\n  border: 1px solid rgb(102, 102, 102);\n  padding: ${({ isOpen }) => (isOpen ? '20px' : '0')} 10px;\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  transition: padding 0.3s, height 0.3s;\n  z-index: 1;\n`\n\nexport { PhonesInStorage }\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Helmet } from 'react-helmet'\nimport { Container } from 'reactstrap'\nimport { Alert, ErrorDisplay, Spinner, useAlerts } from 'components'\nimport { PhoneResponse } from './types'\nimport { HelpSection, PhoneDetails, PhonesInStorage } from './components'\nimport { Route, Switch, useHistory } from 'react-router'\nimport { useConfig, usePhoneStorage, useFetch } from 'hooks'\nimport { FeedbackExtended, StoragePhone } from 'types'\nimport { useThrottle } from 'hooks/utils'\n\nconst Telefonica: React.FC = () => {\n  const [phone, setPhone] = useState<PhoneResponse['phone'] | null>(null)\n  const [isLoading, setIsLoading] = useState<boolean>(true)\n  const [error, setError] = useState<boolean>(false)\n  const [comments, setComments] = useState<string>('')\n\n  const PhoneStorage = usePhoneStorage()\n\n  const { CONG_INITIALS, advancedModeEnabled, currentTerritory } = useConfig()\n\n  const { AlertManager } = useAlerts()\n\n  const Fetch = useFetch()\n\n  const paramId = new URLSearchParams(window.location.search).get('id')\n\n  const fetchPhone = useCallback(async () => {\n    try {\n      setIsLoading(true)\n      setError(false)\n      const [err, newPhone] = await Fetch().get<PhoneResponse>(\n        paramId\n          ? {\n              path: 'next',\n              params: { id: paramId },\n            }\n          : 'next'\n      )\n\n      if (err) throw err\n\n      setPhone(newPhone.phone)\n      setComments(newPhone.phone.comments)\n      AlertManager.show('new-phone-received', {\n        timeout: 2000,\n      })\n      PhoneStorage.add({\n        id: newPhone.phone.id,\n        status: null,\n        phone: newPhone.phone.phone,\n        savedOn: Date.now(),\n        restore: {\n          ...newPhone.original,\n          lastStatus: null,\n        },\n      })\n    } catch (e) {\n      console.log({ e })\n      setError(true)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [AlertManager, PhoneStorage, Fetch, paramId])\n\n  useEffect(() => {\n    currentTerritory.active && fetchPhone()\n  }, [fetchPhone, currentTerritory])\n\n  const onFeedback = async (feedback: FeedbackExtended) => {\n    if (!phone) return\n\n    try {\n      setIsLoading(true)\n      const [err] = await Fetch().put('update_phone', {\n        id: phone.id,\n        answered: feedback,\n        comments: comments,\n      })\n\n      if (err) throw err\n\n      fetchPhone()\n      PhoneStorage.update(phone.id, feedback)\n    } catch {\n      AlertManager.hideAll()\n      AlertManager.show('feedback-failed')\n      setIsLoading(false)\n    }\n  }\n\n  const onEditRequest = async (\n    storagePhone: StoragePhone,\n    newStatus: FeedbackExtended\n  ) => {\n    try {\n      const [err] = await Fetch().put('update_phone', {\n        id: storagePhone.id,\n        answered: newStatus,\n        restore: storagePhone.restore,\n      })\n\n      if (err) throw err\n\n      PhoneStorage.update(storagePhone.id, newStatus)\n      AlertManager.show('edit-success')\n    } catch {\n      AlertManager.hideAll()\n      AlertManager.show('feedback-failed')\n    }\n  }\n\n  const sendFeedback = useThrottle(onFeedback, 5000)\n  const editNumber = useThrottle(onEditRequest, 5000)\n\n  const history = useHistory()\n\n  const openHelpSection = () =>\n    history.push(`/${currentTerritory.name}/telefonica/help`)\n  const closeHelpSection = () => history.goBack()\n\n  const handleComments = (c: string) => setComments(c)\n\n  if (error)\n    return (\n      <ErrorDisplay message=\"No hay más números disponibles por el día de hoy\" />\n    )\n\n  if (!currentTerritory.active)\n    return <ErrorDisplay message=\"Este territorio está desactivado.\" />\n\n  if (isLoading || !phone) return <Spinner fulfill container />\n\n  const Main = () => (\n    <>\n      <Helmet>\n        <title>{CONG_INITIALS} Telefónica</title>\n      </Helmet>\n      <Alert name=\"new-phone-received\" position=\"top\" variant=\"success\">\n        <div className=\"text-center\">✨ ¡Nuevo número recibido! ✨🎉</div>\n      </Alert>\n      <Alert name=\"feedback-failed\" position=\"top\" variant=\"failure\">\n        <div className=\"text-center\">No se pudo enviar su feedback 😢</div>\n      </Alert>\n      <Alert name=\"edit-success\" position=\"bottom\" variant=\"success\">\n        <div className=\"text-center\">Número actualizado.</div>\n      </Alert>\n      <PhoneDetails\n        phone={phone}\n        comments={comments}\n        handleComments={handleComments}\n        openHelpSection={openHelpSection}\n        handlePhoneFeedback={sendFeedback}\n        selfAssigned={!!paramId}\n        isFromAnotherTerritory={phone.territoryId !== currentTerritory.id}\n      />\n      {advancedModeEnabled && (\n        <PhonesInStorage\n          PhoneStorage={PhoneStorage}\n          currentPhoneId={phone.id}\n          onEditRequest={editNumber}\n        />\n      )}\n    </>\n  )\n\n  const Help = () => <HelpSection close={closeHelpSection} />\n\n  return (\n    <Container>\n      <Switch>\n        <Route path=\"/:territory/telefonica\" exact render={Main} />\n        <Route path=\"/:territory/telefonica/help\" exact component={Help} />\n      </Switch>\n    </Container>\n  )\n}\n\nexport { Telefonica }\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Jumbotron = function Jumbotron(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      fluid = props.fluid,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\", \"fluid\"]);\n\n  var classes = mapToCssModules(classNames(className, 'jumbotron', fluid ? 'jumbotron-fluid' : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nJumbotron.propTypes = propTypes;\nJumbotron.defaultProps = defaultProps;\nexport default Jumbotron;"],"sourceRoot":""}