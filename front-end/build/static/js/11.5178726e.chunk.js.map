{"version":3,"sources":["../node_modules/reactstrap/es/Table.js","features/Telefonica/components/PhoneLink.tsx","features/Telefonica/components/PhoneOptions.tsx","../node_modules/reactstrap/es/Alert.js","features/Telefonica/components/PhoneDetails.tsx","features/Telefonica/components/HelpSection.tsx","features/Telefonica/components/PhonesInStorage.tsx","features/Telefonica/Telefonica.tsx","../node_modules/reactstrap/es/Jumbotron.js"],"names":["propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","PhoneLink","phone","useState","touchedCount","setTouchedCount","useEffect","style","textDecoration","href","onClick","Array","fill","map","_","PhoneOptions","phoneId","initialNoCallOnWeekends","initiallyOpen","onNoCall","showPhoneOptions","setShowPhoneOptions","noCallOnWeekends","setNoCallOnWeekends","AlertManager","useAlerts","Fetch","useFetch","useTranslation","shouldTranslate","translations","handleOptionChanged","option","newVal","a","revert","backendValue","put","err","show","hideAll","name","position","variant","PhoneOptionsContainer","Title","Collapse","isOpen","Inner","id","checked","onChange","styled","div","theme","text","colors","darkMode","ownKeys","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","children","node","closeClassName","closeAriaLabel","color","fade","toggle","transition","shape","Fade","unmountOnExit","Alert","closeClasses","alertTransition","baseClass","timeout","in","role","type","PhoneDetails","comments","handleComments","openHelpSection","handlePhoneFeedback","selfAssigned","isFromAnotherTerritory","useConfig","advancedModeEnabled","configurations","currentTerritory","buttonColors","useButtonColor","hiddenButtons","campaignMode","isButtonAllowed","f","split","includes","toString","useConfirmationModal","isModalOpen","feedbackToConfirm","data","askEditConfirmation","toggleModal","reset","handleGeneric","feedback","handleAnswered","Feedback","ANSWERED","handleUnanswered","UNANSWERED","handleNonExistent","NON_EXISTENT","handleNoCall","NO_CALL","handleAnsweringMachine","ANSWERING_MACHINE","handlePostpone","POSTPONE","handleIgnore","IGNORE","NUNCA","DesktopTable","info","answeredOn","unansweredDate","fulfilledOn","MobileTable","fontWeight","helpButton","MiniSection","HelpButton","CommentsSection","Input","placeholder","value","e","commentedOn","answeringMachineDate","ButtonGroup","Button","rushed","block","CampaignFeedback","RUSHED","answered","unanswered","answeringMachine","postponed","ignored","noCall","nonExistent","feedbackToConfirmColor","0","1","2","3","4","5","6","7","Container","noWeekends","Jumbotron","fluid","onConfirm","title","buttonColor","confirmationLabel","labels","input","secondary","white","black","button","HelpSection","close","isAllowed","replace","unansweredMaxAttemps","answeringMachinePostponedDays","answeringMachineMaxAttemps","postponedButtonDays","nonExistentPostponedDays","navbarHeight","PhonesInStorage","currentPhoneId","onEditRequest","PhoneStorage","collapsed","setCollapsed","storagePhoneToConfirm","onAskEditConfirmation","feedbackColor","rows","getAll","reverse","p","phoneIsFromToday","isToday","savedOn","status","statusLabel","isCollapsed","handleCollapsed","CollapseButtons","r","Telefonica","setPhone","isLoading","setIsLoading","error","setError","setComments","usePhoneStorage","CONG_INITIALS","paramId","URLSearchParams","window","location","search","get","fetchPhone","useCallback","path","params","newPhone","add","Date","now","restore","original","lastStatus","console","log","active","onFeedback","update","storagePhone","newStatus","sendFeedback","useThrottle","editNumber","history","useHistory","closeHelpSection","goBack","c","message","fulfill","container","exact","render","Helmet","territoryId","component"],"mappings":"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","file":"static/js/11.5178726e.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import React, { useEffect, useState } from 'react'\n\ninterface PhoneLinkProps {\n  phone: string\n}\n\nconst PhoneLink: React.FC<PhoneLinkProps> = ({ phone }) => {\n  const [touchedCount, setTouchedCount] = useState<number>(0)\n\n  const addTouched = () => setTouchedCount(touchedCount + 1)\n\n  useEffect(() => {\n    setTouchedCount(0)\n  }, [phone])\n\n  return (\n    <>\n      <a\n        style={{ textDecoration: 'underline' }}\n        href={`tel:${phone}`}\n        onClick={addTouched}\n      >\n        {phone}\n      </a>\n      {Array(touchedCount)\n        .fill(null)\n        .map((_) => (\n          <span className=\"d-block text-success\">¡Tocado!</span>\n        ))}\n    </>\n  )\n}\n\nexport { PhoneLink }\n","import React, { FunctionComponent, useState } from 'react'\nimport styled from 'styled'\nimport { Collapse } from 'reactstrap'\nimport { useFetch, useTranslation } from 'hooks'\nimport { Alert, useAlerts, Switch } from 'components'\nimport { PhoneOptionsType } from 'types'\n\ninterface PhoneOptionsProps {\n  phoneId: number\n  initialNoCallOnWeekends: boolean\n  initiallyOpen: boolean\n  onNoCall: false | (() => void)\n}\n\nconst PhoneOptions: FunctionComponent<PhoneOptionsProps> = ({\n  phoneId,\n  initialNoCallOnWeekends,\n  initiallyOpen,\n  onNoCall,\n}) => {\n  const [showPhoneOptions, setShowPhoneOptions] =\n    useState<boolean>(initiallyOpen)\n  const [noCallOnWeekends, setNoCallOnWeekends] = useState<boolean>(\n    initialNoCallOnWeekends\n  )\n\n  const { AlertManager } = useAlerts()\n\n  const Fetch = useFetch()\n  const { shouldTranslate, translations } = useTranslation()\n\n  const togglePhoneOptions = () => setShowPhoneOptions(!showPhoneOptions)\n\n  const handleOptionChanged = async <K extends keyof PhoneOptionsType>(\n    option: K,\n    newVal: PhoneOptionsType[K]\n  ) => {\n    let revert: () => void = () => {}\n    let backendValue: PhoneOptionsType[K] = newVal\n\n    if (option === 'callOnWeekends') {\n      revert = () => setNoCallOnWeekends(noCallOnWeekends)\n      setNoCallOnWeekends(newVal)\n      // In the case of callOnWeekends, we are handling the opposite case on the back\n      backendValue = !newVal\n    }\n\n    try {\n      const [err] = await Fetch().put<Partial<PhoneOptionsType>>(\n        `phones/${phoneId}/options`,\n        {\n          [option]: backendValue,\n        }\n      )\n\n      if (err) throw err\n\n      AlertManager.show('phone-option-update-success')\n    } catch {\n      revert()\n      AlertManager.hideAll()\n      AlertManager.show('phone-option-update-failed')\n    }\n  }\n\n  return (\n    <>\n      <Alert\n        name=\"phone-option-update-success\"\n        position=\"top\"\n        variant=\"success\"\n      >\n        {!shouldTranslate\n          ? 'Opción de teléfono actualizada con éxito.'\n          : translations?.['h1']}\n      </Alert>\n      <Alert\n        name=\"phone-option-update-failed\"\n        position=\"bottom\"\n        variant=\"failure\"\n      >\n        {!shouldTranslate\n          ? 'No se pudo actualizar opción de teléfono.'\n          : translations?.['h2']}\n      </Alert>\n\n      <PhoneOptionsContainer>\n        <Title onClick={togglePhoneOptions}>\n          {!shouldTranslate ? 'Opciones de teléfono' : translations?.['d2']}\n          <span>{showPhoneOptions ? '-' : '+'}</span>\n        </Title>\n        <Collapse isOpen={showPhoneOptions}>\n          <Inner>\n            <span>\n              {!shouldTranslate\n                ? 'No llamar los fin de semana'\n                : translations?.['d3']}\n              :\n            </span>\n            <Switch\n              id=\"no-weekends\"\n              checked={noCallOnWeekends}\n              onChange={(checked) =>\n                handleOptionChanged('callOnWeekends', checked)\n              }\n            />\n          </Inner>\n          {onNoCall && (\n            <Inner>\n              <span>\n                {!shouldTranslate ? 'No visitar' : translations?.['d9']}:\n              </span>\n              <Switch id=\"no-call\" checked={false} onChange={onNoCall} />\n            </Inner>\n          )}\n        </Collapse>\n      </PhoneOptionsContainer>\n    </>\n  )\n}\n\nconst PhoneOptionsContainer = styled.div``\n\nconst Inner = styled.div`\n  display: flex;\n  justify-content: space-between;\n  padding-top: 0.5em;\n`\n\nconst Title = styled.div`\n  display: flex;\n  justify-content: space-between;\n  font-weight: 500;\n  color: ${({ theme }) =>\n    theme.text.colors[theme.darkMode ? 'lightgreen' : 'green']};\n\n  span {\n    font-weight: 800;\n  }\n`\n\nexport { PhoneOptions }\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nimport Fade from './Fade';\nvar propTypes = {\n  children: PropTypes.node,\n  className: PropTypes.string,\n  closeClassName: PropTypes.string,\n  closeAriaLabel: PropTypes.string,\n  cssModule: PropTypes.object,\n  color: PropTypes.string,\n  fade: PropTypes.bool,\n  isOpen: PropTypes.bool,\n  toggle: PropTypes.func,\n  tag: tagPropType,\n  transition: PropTypes.shape(Fade.propTypes),\n  innerRef: PropTypes.oneOfType([PropTypes.object, PropTypes.string, PropTypes.func])\n};\nvar defaultProps = {\n  color: 'success',\n  isOpen: true,\n  tag: 'div',\n  closeAriaLabel: 'Close',\n  fade: true,\n  transition: _objectSpread(_objectSpread({}, Fade.defaultProps), {}, {\n    unmountOnExit: true\n  })\n};\n\nfunction Alert(props) {\n  var className = props.className,\n      closeClassName = props.closeClassName,\n      closeAriaLabel = props.closeAriaLabel,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      color = props.color,\n      isOpen = props.isOpen,\n      toggle = props.toggle,\n      children = props.children,\n      transition = props.transition,\n      fade = props.fade,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"closeClassName\", \"closeAriaLabel\", \"cssModule\", \"tag\", \"color\", \"isOpen\", \"toggle\", \"children\", \"transition\", \"fade\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'alert', \"alert-\" + color, {\n    'alert-dismissible': toggle\n  }), cssModule);\n  var closeClasses = mapToCssModules(classNames('close', closeClassName), cssModule);\n\n  var alertTransition = _objectSpread(_objectSpread(_objectSpread({}, Fade.defaultProps), transition), {}, {\n    baseClass: fade ? transition.baseClass : '',\n    timeout: fade ? transition.timeout : 0\n  });\n\n  return /*#__PURE__*/React.createElement(Fade, _extends({}, attributes, alertTransition, {\n    tag: Tag,\n    className: classes,\n    in: isOpen,\n    role: \"alert\",\n    innerRef: innerRef\n  }), toggle ? /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: closeClasses,\n    \"aria-label\": closeAriaLabel,\n    onClick: toggle\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    \"aria-hidden\": \"true\"\n  }, \"\\xD7\")) : null, children);\n}\n\nAlert.propTypes = propTypes;\nAlert.defaultProps = defaultProps;\nexport default Alert;","import React from 'react'\nimport { useButtonColor, useConfig, useTranslation } from 'hooks'\nimport styled from 'styled'\nimport { CampaignFeedback, Feedback, FeedbackExtended, Phone } from 'types'\nimport { ConfirmationModal, useConfirmationModal } from 'components'\nimport { PhoneLink } from './PhoneLink'\nimport { PhoneOptions } from './PhoneOptions'\nimport { labels } from 'consts'\nimport {\n  Button,\n  Container,\n  Jumbotron,\n  Alert as ReactstrapAlert,\n} from 'reactstrap'\n\ninterface PhoneDetailsProps {\n  phone: Phone\n  comments: string\n  handleComments: (comments: string) => void\n  openHelpSection: () => void\n  handlePhoneFeedback: (n: FeedbackExtended) => void\n  selfAssigned: boolean\n  isFromAnotherTerritory: boolean\n}\n\nconst PhoneDetails: React.FC<PhoneDetailsProps> = ({\n  phone,\n  comments,\n  handleComments,\n  openHelpSection,\n  handlePhoneFeedback,\n  selfAssigned,\n  isFromAnotherTerritory,\n}) => {\n  const { advancedModeEnabled, configurations, currentTerritory } = useConfig()\n  const { buttonColors } = useButtonColor()\n  const { shouldTranslate, translations } = useTranslation()\n  const { hiddenButtons } = configurations\n  const { campaignMode } = currentTerritory\n\n  const isButtonAllowed = (f: Feedback) =>\n    !hiddenButtons.split(',').includes(f.toString())\n\n  const {\n    isModalOpen,\n    data: feedbackToConfirm,\n    askEditConfirmation,\n    toggleModal,\n    reset,\n  } = useConfirmationModal<Feedback>()\n\n  const handleGeneric = (feedback: Feedback) => () => {\n    if (advancedModeEnabled) askEditConfirmation(feedback)\n    else handlePhoneFeedback(feedback)\n  }\n\n  const doConfirm = () => {\n    if (feedbackToConfirm === null) return\n    handlePhoneFeedback(feedbackToConfirm)\n    reset()\n  }\n\n  const handleAnswered = handleGeneric(Feedback.ANSWERED)\n  const handleUnanswered = handleGeneric(Feedback.UNANSWERED)\n  const handleNonExistent = handleGeneric(Feedback.NON_EXISTENT)\n  const handleNoCall = handleGeneric(Feedback.NO_CALL)\n  const handleAnsweringMachine = handleGeneric(Feedback.ANSWERING_MACHINE)\n  const handlePostpone = handleGeneric(Feedback.POSTPONE)\n  const handleIgnore = handleGeneric(Feedback.IGNORE)\n  const handleRushed = () => handlePhoneFeedback(CampaignFeedback.RUSHED)\n\n  const NUNCA = !shouldTranslate ? 'Nunca' : translations?.['g6']\n\n  const DesktopTable = (\n    <div className=\"table-responsive d-none d-sm-block\">\n      <table className=\"table table-bordered\">\n        <thead>\n          <tr>\n            <th>{!shouldTranslate ? 'Teléfono' : translations?.['c4']}</th>\n            <th>{!shouldTranslate ? 'Otros datos' : translations?.['c5']}</th>\n            {phone.comments ? (\n              <th>{!shouldTranslate ? 'Comentarios' : translations?.['g3']}</th>\n            ) : null}\n            <th>\n              {!shouldTranslate\n                ? 'Última fecha que atendió'\n                : translations?.['c6']}\n            </th>\n            <th>\n              {!shouldTranslate\n                ? 'Última fecha que se lo llamó'\n                : translations?.['c7']}\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>\n              <PhoneLink phone={phone.phone} />\n            </td>\n            <td>{phone.info}</td>\n            {phone.comments ? <td>{phone.comments}</td> : null}\n            <td>{phone.answeredOn ?? NUNCA}</td>\n            <td>\n              {phone.unansweredDate ? (\n                phone.unansweredDate\n              ) : phone.fulfilledOn ? (\n                <>\n                  {phone.fulfilledOn === 'jue, 25 jun 2020' && 'Antes del '}\n                  {phone.fulfilledOn}\n                </>\n              ) : (\n                NUNCA\n              )}\n            </td>\n          </tr>\n        </tbody>\n      </table>\n    </div>\n  )\n\n  const MobileTable = (\n    <div className=\"d-block d-sm-none text-center\">\n      <span style={{ fontWeight: 500 }}>\n        {!shouldTranslate ? 'Teléfono' : translations?.['c4']}:\n      </span>\n      <div>\n        <PhoneLink phone={phone.phone} />\n      </div>\n      <br />\n\n      {phone.info && (\n        <>\n          <span style={{ fontWeight: 500 }}>\n            {!shouldTranslate ? 'Otros datos' : translations?.['c5']}:\n          </span>\n          <div>{phone.info}</div>\n          <br />\n        </>\n      )}\n\n      {phone.comments && (\n        <>\n          <span style={{ fontWeight: 500 }}>\n            {!shouldTranslate ? 'Comentarios' : translations?.['g3']}:\n          </span>\n          <div>{phone.comments}</div>\n          <br />\n        </>\n      )}\n\n      <span style={{ fontWeight: 500 }}>\n        {!shouldTranslate ? 'Última fecha que atendió' : translations?.['c6']}:\n      </span>\n      <div>{phone.answeredOn ?? NUNCA}</div>\n      <br />\n\n      <span style={{ fontWeight: 500 }}>\n        {!shouldTranslate\n          ? 'Última fecha que se lo llamó'\n          : translations?.['c7']}\n        :\n      </span>\n      <div>\n        {phone.unansweredDate ? (\n          phone.unansweredDate\n        ) : phone.fulfilledOn ? (\n          <>\n            {phone.fulfilledOn === 'jue, 25 jun 2020' && 'Antes del '}\n            {phone.fulfilledOn}\n          </>\n        ) : (\n          NUNCA\n        )}\n      </div>\n    </div>\n  )\n\n  const helpButton = (\n    <MiniSection>\n      <HelpButton onClick={openHelpSection}>\n        {!shouldTranslate ? '¿Qué hace cada botón?' : translations?.['f1']}\n      </HelpButton>\n    </MiniSection>\n  )\n\n  const CommentsSection = (\n    <div className=\"row my-4\">\n      <div className=\"col-12\">\n        <span className=\"text-secondary d-inline-block mb-2\">\n          {!shouldTranslate ? 'Comentarios (opcional)' : translations?.['c8']}:\n        </span>\n        <Input\n          placeholder={\n            !shouldTranslate ? 'Su comentario acá...' : translations?.['c9']\n          }\n          type=\"text\"\n          value={comments}\n          onChange={(e) => handleComments(e.target.value)}\n        />\n\n        {phone.commentedOn && (\n          <span className=\"input-helper text-secondary\">\n            {!shouldTranslate ? 'Comentado el' : translations?.['g9']}:{' '}\n            <span className=\"text-success\">{phone.commentedOn}</span>\n          </span>\n        )}\n\n        {phone.answeringMachineDate && (\n          <span className=\"d-block input-helper text-secondary\">\n            {!shouldTranslate\n              ? 'Último mensaje en el contestador'\n              : translations?.['g8']}\n            : <span className=\"text-success\">{phone.answeringMachineDate}</span>\n          </span>\n        )}\n\n        {!phone.commentedOn && !phone.answeringMachineDate && (\n          <span className=\"input-helper text-secondary\">\n            {!shouldTranslate ? 'Ej.: lugar de trabajo' : translations?.['d1']}\n          </span>\n        )}\n      </div>\n    </div>\n  )\n\n  const ButtonGroup = campaignMode ? (\n    <div className=\"my-4\">\n      <Button color={buttonColors.rushed} block onClick={handleRushed}>\n        {!shouldTranslate ? 'Siguiente' : translations?.['g7']}\n      </Button>\n    </div>\n  ) : !advancedModeEnabled ? (\n    <div className=\"my-4 row d-flex justify-content-center\">\n      {isButtonAllowed(Feedback.ANSWERED) && (\n        <div className=\"col-6 mb-3 col-md-auto\">\n          <Button\n            color={buttonColors.answered}\n            className=\"btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleAnswered}\n          >\n            {!shouldTranslate ? 'Atendió' : translations?.['d4']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.UNANSWERED) && (\n        <div className=\"col-6 mb-3 col-md-auto\">\n          <Button\n            color={buttonColors.unanswered}\n            className=\"btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleUnanswered}\n          >\n            {!shouldTranslate ? 'No en casa' : translations?.['d5']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NO_CALL) && (\n        <div className=\"col-6 col-md-auto\">\n          <Button\n            color={buttonColors.noCall}\n            className=\"btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleNoCall}\n          >\n            {!shouldTranslate ? 'No visitar' : translations?.['d9']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NON_EXISTENT) && (\n        <div className=\"col-6 col-md-auto\">\n          <Button\n            color={buttonColors.nonExistent}\n            className=\"btn-lg mx-auto mx-md-0 d-block w-100\"\n            onClick={handleNonExistent}\n          >\n            {!shouldTranslate ? 'No existe' : translations?.['e1']}\n          </Button>\n        </div>\n      )}\n    </div>\n  ) : (\n    <div className=\"my-4 row d-flex justify-content-center\">\n      {isButtonAllowed(Feedback.ANSWERED) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <Button\n            color={buttonColors.answered}\n            className=\"btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleAnswered}\n          >\n            {!shouldTranslate ? 'Atendió' : translations?.['d4']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.UNANSWERED) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <Button\n            color={buttonColors.unanswered}\n            className=\"btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleUnanswered}\n          >\n            {!shouldTranslate ? 'No en casa' : translations?.['d5']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.ANSWERING_MACHINE) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <Button\n            color={buttonColors.answeringMachine}\n            className=\"btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleAnsweringMachine}\n          >\n            {!shouldTranslate ? 'Contestador' : translations?.['d6']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.POSTPONE) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <Button\n            color={buttonColors.postponed}\n            className=\"btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handlePostpone}\n          >\n            {!shouldTranslate ? 'Aplazar' : translations?.['d7']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.IGNORE) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <Button\n            color={buttonColors.ignored}\n            className=\"btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleIgnore}\n          >\n            {!shouldTranslate ? 'Ignorar' : translations?.['d8']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NO_CALL) && (\n        <div className=\"col-6 mb-2 col-md-auto\">\n          <Button\n            color={buttonColors.noCall}\n            className=\"btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleNoCall}\n          >\n            {!shouldTranslate ? 'No visitar' : translations?.['d9']}\n          </Button>\n        </div>\n      )}\n      {isButtonAllowed(Feedback.NON_EXISTENT) && (\n        <div className=\"col-6 col-md-auto\">\n          <Button\n            color={buttonColors.nonExistent}\n            className=\"btn-lg w-100 mx-auto mx-md-0 d-block\"\n            onClick={handleNonExistent}\n          >\n            {!shouldTranslate ? 'No existe' : translations?.['e1']}\n          </Button>\n        </div>\n      )}\n    </div>\n  )\n\n  const feedbackToConfirmColor = {\n    0: buttonColors.unanswered,\n    1: buttonColors.answered,\n    2: buttonColors.nonExistent,\n    3: buttonColors.noCall,\n    4: buttonColors.answeringMachine,\n    5: buttonColors.postponed,\n    6: buttonColors.ignored,\n    7: buttonColors.rushed,\n  }\n\n  return (\n    <Container className=\"py-4\">\n      {selfAssigned && (\n        <ReactstrapAlert color=\"warning\">\n          Usando número autoasignado\n        </ReactstrapAlert>\n      )}\n      {isFromAnotherTerritory && (\n        <ReactstrapAlert color=\"danger\">\n          ¡El número es de otro territorio!\n        </ReactstrapAlert>\n      )}\n      {DesktopTable}\n      {MobileTable}\n      {CommentsSection}\n      {!!advancedModeEnabled && (\n        <MiniSection>\n          <PhoneOptions\n            phoneId={phone.id}\n            initialNoCallOnWeekends={phone.noWeekends}\n            initiallyOpen={false}\n            onNoCall={!!campaignMode && handleNoCall}\n          />\n        </MiniSection>\n      )}\n      {!!campaignMode && (\n        <Jumbotron fluid className=\"my-2\">\n          <Container>\n            <h6>\n              {!shouldTranslate ? '¡Estamos en campaña!' : translations?.['h3']}\n            </h6>\n            <small>\n              {!shouldTranslate\n                ? 'Durante la campaña, solo habrá un botón de \"siguiente\".'\n                : translations?.['h4']}\n            </small>\n          </Container>\n        </Jumbotron>\n      )}\n      {ButtonGroup}\n      {advancedModeEnabled && !campaignMode && helpButton}\n      {feedbackToConfirm !== null && (\n        <ConfirmationModal\n          isOpen={isModalOpen}\n          toggleModal={toggleModal}\n          onConfirm={doConfirm}\n          title={!shouldTranslate ? '¿Seguro?' : translations?.['e9']}\n          buttonColor={feedbackToConfirmColor[feedbackToConfirm]}\n          confirmationLabel={\n            labels(shouldTranslate, translations!)[feedbackToConfirm]\n          }\n        />\n      )}\n    </Container>\n  )\n}\n\nconst Input = styled.input`\n  width: 100%;\n  border-top: none;\n  border-right: none;\n  border-left: none;\n  border-image: initial;\n  border-bottom: 2px solid ${({ theme }) => theme.text.colors.secondary};\n  outline: none;\n  transition: border-bottom-color 0.25s;\n  margin-bottom: 0.5em;\n  border-radius: 5px;\n  padding: 0 10px;\n\n  :focus {\n    border-bottom-color: ${({ theme }) =>\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.black};\n  }\n`\n\nconst MiniSection = styled.div`\n  border-top: 1px solid\n    ${({ theme }) =>\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.secondary};\n  border-bottom: 1px solid\n    ${({ theme }) =>\n      theme.darkMode ? theme.text.colors.white : theme.text.colors.secondary};\n  padding: 10px 0;\n  margin-top: 2em;\n  display: flex;\n\n  > div {\n    width: 100%;\n  }\n`\n\nconst HelpButton = styled.button`\n  margin-bottom: 0;\n  border: none;\n  color: ${({ theme }) => (theme.darkMode ? theme.text.colors.white : '#555')};\n  text-decoration: underline;\n  background: none;\n  margin: auto;\n`\n\nexport { PhoneDetails }\n","import { useConfig, useButtonColor, useTranslation } from 'hooks'\nimport React from 'react'\nimport styled from 'styled'\nimport { Feedback } from 'types'\nimport { labels } from 'consts'\n\ninterface HelpSectionProps {\n  close: () => void\n}\n\nconst HelpSection: React.FC<HelpSectionProps> = ({ close }) => {\n  const { advancedModeEnabled, configurations } = useConfig()\n  const { buttonColors } = useButtonColor()\n  const { shouldTranslate, translations } = useTranslation()\n\n  const isAllowed = (f: Feedback) =>\n    !configurations.hiddenButtons.split(',').includes(f.toString())\n\n  return (\n    <Container>\n      {isAllowed(Feedback.ANSWERED) && (\n        <div className=\"text-center\">\n          <h6>\n            {!shouldTranslate ? '¿Qué hace el botón de' : translations?.['f2']}{' '}\n            <span className={`text-${buttonColors.answered}`}>\n              {labels(shouldTranslate, translations!)[Feedback.ANSWERED]}\n            </span>\n            ?\n          </h6>\n          <p>\n            {!shouldTranslate\n              ? 'Manda el número al final de la cola y registra la fecha en que se atendió.'\n              : translations?.['f3']}\n          </p>\n        </div>\n      )}\n      {isAllowed(Feedback.UNANSWERED) && (\n        <div className=\"text-center\">\n          <h6>\n            {!shouldTranslate ? '¿Qué hace el botón de' : translations?.['f2']}{' '}\n            <span className={`text-${buttonColors.unanswered}`}>\n              {labels(shouldTranslate, translations!)[Feedback.UNANSWERED]}\n            </span>\n            ?\n          </h6>\n          <p>\n            {!shouldTranslate ? (\n              <>\n                Guarda el número para llamarlo de vuelta mañana, hasta un máximo\n                de {configurations.unansweredMaxAttemps} intentos. Luego, si no\n                atendió, se lo manda al final de la cola.\n              </>\n            ) : (\n              translations?.['f4'].replace(\n                '3',\n                configurations.unansweredMaxAttemps.toString()\n              )\n            )}\n          </p>\n        </div>\n      )}\n      {advancedModeEnabled && (\n        <>\n          {isAllowed(Feedback.ANSWERING_MACHINE) && (\n            <div className=\"text-center\">\n              <h6>\n                {!shouldTranslate\n                  ? '¿Qué hace el botón de'\n                  : translations?.['f2']}{' '}\n                <span className={`text-${buttonColors.answeringMachine}`}>\n                  {\n                    labels(shouldTranslate, translations!)[\n                      Feedback.ANSWERING_MACHINE\n                    ]\n                  }\n                </span>\n                ?\n              </h6>\n              <p>\n                {!shouldTranslate ? (\n                  <>\n                    Registra la última vez que se le dejó un mensaje en el\n                    contestador al amo de casa.&nbsp;\n                    {configurations.answeringMachineMaxAttemps > 1 && (\n                      <span>\n                        Además, congela el número durante{' '}\n                        {configurations.answeringMachinePostponedDays} días para\n                        darle un máximo de{' '}\n                        {configurations.answeringMachineMaxAttemps}{' '}\n                        oportunidades. Estas oportunidades se computan junto a\n                        las que ya se le dio con el botón \"no en casa\" si ha\n                        sido el caso.\n                      </span>\n                    )}\n                  </>\n                ) : (\n                  translations?.['f5']\n                    .replace(\n                      '10',\n                      configurations.answeringMachinePostponedDays.toString()\n                    )\n                    .replace(\n                      '2',\n                      configurations.answeringMachineMaxAttemps.toString()\n                    )\n                )}\n              </p>\n            </div>\n          )}\n          {isAllowed(Feedback.POSTPONE) && (\n            <div className=\"text-center\">\n              <h6>\n                {!shouldTranslate\n                  ? '¿Qué hace el botón de'\n                  : translations?.['f2']}{' '}\n                <span className={`text-${buttonColors.postponed}`}>\n                  {labels(shouldTranslate, translations!)[Feedback.POSTPONE]}\n                </span>\n                ?\n              </h6>\n              <p>\n                {!shouldTranslate ? (\n                  <>\n                    Congela el número para que se lo llame dentro de{' '}\n                    {configurations.postponedButtonDays}{' '}\n                    {configurations.postponedButtonDays > 1 ? 'días' : 'día'}.\n                  </>\n                ) : (\n                  translations?.['f6'].replace(\n                    '3',\n                    configurations.postponedButtonDays.toString()\n                  )\n                )}\n              </p>\n            </div>\n          )}\n          {isAllowed(Feedback.IGNORE) && (\n            <div className=\"text-center\">\n              <h6>\n                {!shouldTranslate\n                  ? '¿Qué hace el botón de'\n                  : translations?.['f2']}{' '}\n                <span className={`text-${buttonColors.ignored}`}>\n                  {labels(shouldTranslate, translations!)[Feedback.IGNORE]}\n                </span>\n                ?\n              </h6>\n              <p>\n                {!shouldTranslate\n                  ? 'Manda el número directamente al final de la cola.'\n                  : translations?.['f7']}\n              </p>\n            </div>\n          )}\n        </>\n      )}\n      {isAllowed(Feedback.NO_CALL) && (\n        <div className=\"text-center\">\n          <h6>\n            {!shouldTranslate ? '¿Qué hace el botón de' : translations?.['f2']}{' '}\n            <span className={`text-${buttonColors.noCall}`}>\n              {labels(shouldTranslate, translations!)[Feedback.NO_CALL]}\n            </span>\n            ?\n          </h6>\n          <p>\n            {!shouldTranslate\n              ? 'Quita el número de la cola. No se lo borra pero tampoco se lo volverá a llamar.'\n              : translations?.['f8']}\n          </p>\n        </div>\n      )}\n      {isAllowed(Feedback.NON_EXISTENT) && (\n        <div className=\"text-center\">\n          <h6>\n            {!shouldTranslate ? '¿Qué hace el botón de' : translations?.['f2']}{' '}\n            <span className={`text-${buttonColors.nonExistent}`}>\n              {labels(shouldTranslate, translations!)[Feedback.NON_EXISTENT]}\n            </span>\n            ?\n          </h6>\n          <p>\n            {!shouldTranslate ? (\n              <>\n                Suspende el número durante{' '}\n                {configurations.nonExistentPostponedDays} días. Luego vuelve a\n                la cola porque existe la posibilidad de que se haya reactivado.\n              </>\n            ) : (\n              translations?.['f9'].replace(\n                '180',\n                configurations.nonExistentPostponedDays.toString()\n              )\n            )}\n          </p>\n        </div>\n      )}\n\n      <p className=\"text-center\">\n        {!shouldTranslate\n          ? 'Nota: en ningún caso se borran los números. Si correspondiera (por ej. por estar fuera del territorio), por favor, comunicarse con el siervo de territorios.'\n          : translations?.['g1']}\n      </p>\n\n      <Button className=\"btn btn-secondary\" onClick={close}>\n        {!shouldTranslate ? 'Volver' : translations?.['g2']}\n      </Button>\n    </Container>\n  )\n}\n\nconst Container = styled.div`\n  display: flex;\n  padding: 20px 0;\n  min-height: calc(100vh - ${({ theme }) => theme.navbarHeight}px);\n  justify-content: space-evenly;\n  flex-direction: column;\n`\n\nconst Button = styled.button`\n  width: 100%;\n`\n\nexport { HelpSection }\n","import React, { useState } from 'react'\nimport { Collapse, Table, Button } from 'reactstrap'\nimport styled from 'styled'\nimport {\n  useConfig,\n  usePhoneStorage,\n  useButtonColor,\n  useTranslation,\n} from 'hooks'\nimport {\n  CampaignFeedback,\n  Feedback,\n  FeedbackExtended,\n  StoragePhone,\n} from 'types'\nimport { isToday } from 'utils'\nimport { labels } from 'consts'\nimport { useConfirmationModal, ConfirmationModal } from 'components'\n\ninterface PhonesInStorageProps {\n  currentPhoneId: number\n  onEditRequest: (\n    storagePhone: StoragePhone,\n    newStatus: FeedbackExtended\n  ) => void\n  PhoneStorage: ReturnType<typeof usePhoneStorage>\n}\n\nconst PhonesInStorage: React.FC<PhonesInStorageProps> = ({\n  currentPhoneId,\n  onEditRequest,\n  PhoneStorage,\n}) => {\n  const [collapsed, setCollapsed] = useState<number | null>(null)\n  const { isModalOpen, data, askEditConfirmation, toggleModal, reset } =\n    useConfirmationModal<{\n      storagePhoneToConfirm: StoragePhone\n      feedbackToConfirm: FeedbackExtended\n    }>()\n\n  const {\n    configurations: { hiddenButtons },\n    currentTerritory: { campaignMode },\n  } = useConfig()\n  const { buttonColors } = useButtonColor()\n  const { shouldTranslate, translations } = useTranslation()\n\n  const isAllowed = (f: FeedbackExtended) =>\n    !hiddenButtons.split(',').includes(f.toString()) &&\n    !(\n      campaignMode &&\n      [\n        Feedback.UNANSWERED,\n        Feedback.ANSWERED,\n        Feedback.NON_EXISTENT,\n        Feedback.NO_CALL,\n        Feedback.ANSWERING_MACHINE,\n        Feedback.IGNORE,\n        // @ts-ignore\n      ].includes(f)\n    ) &&\n    // @ts-ignore\n    !(!campaignMode && [CampaignFeedback.RUSHED].includes(f))\n\n  const feedbackToConfirm = data?.feedbackToConfirm ?? null\n  const storagePhoneToConfirm = data?.storagePhoneToConfirm ?? null\n\n  const resetStates = () => {\n    setCollapsed(null)\n    reset()\n  }\n\n  const onAskEditConfirmation = (\n    feedbackToConfirm: FeedbackExtended,\n    storagePhoneToConfirm: StoragePhone\n  ) => askEditConfirmation({ storagePhoneToConfirm, feedbackToConfirm })\n\n  const handleCollapsed = (i: number) =>\n    collapsed !== i ? setCollapsed(i) : setCollapsed(null)\n\n  const doConfirm = () => {\n    if (!storagePhoneToConfirm || typeof feedbackToConfirm !== 'number') return\n    onEditRequest(storagePhoneToConfirm, feedbackToConfirm)\n    resetStates()\n  }\n\n  const feedbackColor = {\n    0: buttonColors.unanswered,\n    1: buttonColors.answered,\n    2: buttonColors.nonExistent,\n    3: buttonColors.noCall,\n    4: buttonColors.answeringMachine,\n    5: buttonColors.postponed,\n    6: buttonColors.ignored,\n    7: buttonColors.rushed,\n  }\n\n  const phones = PhoneStorage.getAll()\n\n  const rows = phones.reverse().map((p, i) => {\n    if (p.id === currentPhoneId) return null\n\n    const phoneIsFromToday = isToday(p.savedOn)\n    const color = p.status !== null ? feedbackColor[p.status] : ''\n\n    const statusLabel =\n      !phoneIsFromToday && p.status === null\n        ? !shouldTranslate\n          ? 'Asignado a otro publicador'\n          : translations?.['e5']\n        : p.status !== null\n        ? labels(shouldTranslate, translations!)[p.status]\n        : !shouldTranslate\n        ? 'Pendiente'\n        : translations?.['e6']\n\n    const isCollapsed = i === collapsed\n\n    return (\n      <tr key={p.id} style={{ position: 'relative' }}>\n        <td>{p.phone}</td>\n        <td>\n          <span className={`text-${color}`}>{statusLabel}</span>\n        </td>\n        <td>\n          {phoneIsFromToday && (\n            <Button color=\"secondary\" onClick={() => handleCollapsed(i)}>\n              {!shouldTranslate ? 'Editar' : translations?.['c2']}\n            </Button>\n          )}\n          <CollapseButtons isOpen={isCollapsed}>\n            {p.status !== CampaignFeedback.RUSHED &&\n              isAllowed(CampaignFeedback.RUSHED) && (\n                <Button\n                  color={buttonColors.rushed}\n                  className=\"btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() =>\n                    onAskEditConfirmation(CampaignFeedback.RUSHED, p)\n                  }\n                >\n                  {\n                    labels(shouldTranslate, translations!)[\n                      CampaignFeedback.RUSHED\n                    ]\n                  }\n                </Button>\n              )}\n            {p.status !== Feedback.ANSWERED && isAllowed(Feedback.ANSWERED) && (\n              <Button\n                color={buttonColors.answered}\n                className=\"btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.ANSWERED, p)}\n              >\n                {labels(shouldTranslate, translations!)[Feedback.ANSWERED]}\n              </Button>\n            )}\n            {p.status !== Feedback.UNANSWERED &&\n              isAllowed(Feedback.UNANSWERED) && (\n                <Button\n                  color={buttonColors.unanswered}\n                  className=\"btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() => onAskEditConfirmation(Feedback.UNANSWERED, p)}\n                >\n                  {labels(shouldTranslate, translations!)[Feedback.UNANSWERED]}\n                </Button>\n              )}\n            {p.status !== Feedback.ANSWERING_MACHINE &&\n              isAllowed(Feedback.ANSWERING_MACHINE) && (\n                <Button\n                  color={buttonColors.answeringMachine}\n                  className=\"btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() =>\n                    onAskEditConfirmation(Feedback.ANSWERING_MACHINE, p)\n                  }\n                >\n                  {\n                    labels(shouldTranslate, translations!)[\n                      Feedback.ANSWERING_MACHINE\n                    ]\n                  }\n                </Button>\n              )}\n            {p.status !== Feedback.POSTPONE && isAllowed(Feedback.POSTPONE) && (\n              <Button\n                color={buttonColors.postponed}\n                className=\"btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.POSTPONE, p)}\n              >\n                {labels(shouldTranslate, translations!)[Feedback.POSTPONE]}\n              </Button>\n            )}\n            {p.status !== Feedback.IGNORE && isAllowed(Feedback.IGNORE) && (\n              <Button\n                color={buttonColors.ignored}\n                className=\"btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.IGNORE, p)}\n              >\n                {labels(shouldTranslate, translations!)[Feedback.IGNORE]}\n              </Button>\n            )}\n            {p.status !== Feedback.NO_CALL && isAllowed(Feedback.NO_CALL) && (\n              <Button\n                color={buttonColors.noCall}\n                className=\"btn-sm d-inline-block mr-1 mb-2\"\n                onClick={() => onAskEditConfirmation(Feedback.NO_CALL, p)}\n              >\n                {labels(shouldTranslate, translations!)[Feedback.NO_CALL]}\n              </Button>\n            )}\n            {p.status !== Feedback.NON_EXISTENT &&\n              isAllowed(Feedback.NON_EXISTENT) && (\n                <Button\n                  color={buttonColors.nonExistent}\n                  className=\"btn-sm d-inline-block mr-1 mb-2\"\n                  onClick={() =>\n                    onAskEditConfirmation(Feedback.NON_EXISTENT, p)\n                  }\n                >\n                  {\n                    labels(shouldTranslate, translations!)[\n                      Feedback.NON_EXISTENT\n                    ]\n                  }\n                </Button>\n              )}\n          </CollapseButtons>\n        </td>\n      </tr>\n    )\n  })\n\n  const dataInStorage: boolean = rows.filter((r) => !!r).length > 0\n\n  if (!dataInStorage) return null\n\n  return (\n    <>\n      <h6 className=\"container mb-3\">\n        {!shouldTranslate\n          ? 'Números anteriores en este dispositivo'\n          : translations?.['e2']}\n        :\n      </h6>\n      <Table responsive className=\"text-center\">\n        <thead>\n          <tr>\n            <th>{!shouldTranslate ? 'Teléfono' : translations?.['c4']}</th>\n            <th>{!shouldTranslate ? 'Estado' : translations?.['e3']}</th>\n            <th>{!shouldTranslate ? 'Acciones' : translations?.['e4']}</th>\n          </tr>\n        </thead>\n        <tbody>{rows}</tbody>\n      </Table>\n      {feedbackToConfirm !== null && (\n        <ConfirmationModal\n          isOpen={isModalOpen}\n          toggleModal={toggleModal}\n          onConfirm={doConfirm}\n          title={!shouldTranslate ? '¿Seguro?' : translations?.['e9']}\n          buttonColor={feedbackColor[feedbackToConfirm]}\n          confirmationLabel={\n            labels(shouldTranslate, translations!)[feedbackToConfirm]\n          }\n        />\n      )}\n    </>\n  )\n}\n\nconst CollapseButtons = styled(Collapse)`\n  position: absolute;\n  left: 0px;\n  background: rgb(34, 34, 34);\n  width: 100%;\n  border: 1px solid rgb(102, 102, 102);\n  padding: ${({ isOpen }) => (isOpen ? '20px' : '0')} 10px;\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  transition: padding 0.3s, height 0.3s;\n  z-index: 1;\n`\n\nexport { PhonesInStorage }\n","import React, { useCallback, useEffect, useState } from 'react'\nimport { Helmet } from 'react-helmet'\nimport { Container } from 'reactstrap'\nimport { Alert, ErrorDisplay, Spinner, useAlerts } from 'components'\nimport { PhoneResponse } from './types'\nimport { HelpSection, PhoneDetails, PhonesInStorage } from './components'\nimport { Route, Switch, useHistory } from 'react-router'\nimport { useConfig, usePhoneStorage, useFetch, useTranslation } from 'hooks'\nimport { FeedbackExtended, StoragePhone } from 'types'\nimport { useThrottle } from 'hooks/utils'\n\nconst Telefonica: React.FC = () => {\n  const [phone, setPhone] = useState<PhoneResponse['phone'] | null>(null)\n  const [isLoading, setIsLoading] = useState<boolean>(true)\n  const [error, setError] = useState<boolean>(false)\n  const [comments, setComments] = useState<string>('')\n\n  const PhoneStorage = usePhoneStorage()\n\n  const { CONG_INITIALS, advancedModeEnabled, currentTerritory } = useConfig()\n\n  const { AlertManager } = useAlerts()\n\n  const { shouldTranslate, translations } = useTranslation()\n\n  const Fetch = useFetch()\n\n  const paramId = new URLSearchParams(window.location.search).get('id')\n\n  const fetchPhone = useCallback(async () => {\n    try {\n      setIsLoading(true)\n      setError(false)\n      const [err, newPhone] = await Fetch().get<PhoneResponse>(\n        paramId\n          ? {\n              path: 'next',\n              params: { id: paramId },\n            }\n          : 'next'\n      )\n\n      if (err) throw err\n\n      setPhone(newPhone.phone)\n      setComments(newPhone.phone.comments)\n      AlertManager.show('new-phone-received', {\n        timeout: 2000,\n      })\n      PhoneStorage.add({\n        id: newPhone.phone.id,\n        status: null,\n        phone: newPhone.phone.phone,\n        savedOn: Date.now(),\n        restore: {\n          ...newPhone.original,\n          lastStatus: null,\n        },\n      })\n    } catch (e) {\n      console.log({ e })\n      setError(true)\n    } finally {\n      setIsLoading(false)\n    }\n  }, [AlertManager, PhoneStorage, Fetch, paramId])\n\n  useEffect(() => {\n    currentTerritory.active && fetchPhone()\n  }, [fetchPhone, currentTerritory])\n\n  const onFeedback = async (feedback: FeedbackExtended) => {\n    if (!phone) return\n\n    try {\n      setIsLoading(true)\n      const [err] = await Fetch().put('update_phone', {\n        id: phone.id,\n        answered: feedback,\n        comments: comments,\n      })\n\n      if (err) throw err\n\n      fetchPhone()\n      PhoneStorage.update(phone.id, feedback)\n    } catch {\n      AlertManager.hideAll()\n      AlertManager.show('feedback-failed')\n      setIsLoading(false)\n    }\n  }\n\n  const onEditRequest = async (\n    storagePhone: StoragePhone,\n    newStatus: FeedbackExtended\n  ) => {\n    try {\n      const [err] = await Fetch().put('update_phone', {\n        id: storagePhone.id,\n        answered: newStatus,\n        restore: storagePhone.restore,\n      })\n\n      if (err) throw err\n\n      PhoneStorage.update(storagePhone.id, newStatus)\n      AlertManager.show('edit-success')\n    } catch {\n      AlertManager.hideAll()\n      AlertManager.show('feedback-failed')\n    }\n  }\n\n  const sendFeedback = useThrottle(onFeedback, 5000)\n  const editNumber = useThrottle(onEditRequest, 5000)\n\n  const history = useHistory()\n\n  const openHelpSection = () =>\n    history.push(`/${currentTerritory.name}/telefonica/help`)\n  const closeHelpSection = () => history.goBack()\n\n  const handleComments = (c: string) => setComments(c)\n\n  if (error)\n    return (\n      <ErrorDisplay\n        message={\n          !shouldTranslate\n            ? 'No hay más números disponibles por el día de hoy'\n            : translations?.['b3']\n        }\n      />\n    )\n\n  if (!currentTerritory.active)\n    return (\n      <ErrorDisplay\n        message={\n          !shouldTranslate\n            ? 'Este territorio está desactivado.'\n            : translations?.['c1']\n        }\n      />\n    )\n\n  if (isLoading || !phone) return <Spinner fulfill container />\n\n  const Main = () => (\n    <>\n      <Helmet>\n        <title>{CONG_INITIALS} Telefónica</title>\n      </Helmet>\n      <Alert name=\"new-phone-received\" position=\"top\" variant=\"success\">\n        <div className=\"text-center\">\n          ✨{' '}\n          {!shouldTranslate ? '¡Nuevo número recibido!' : translations?.['b4']}{' '}\n          ✨🎉\n        </div>\n      </Alert>\n      <Alert name=\"feedback-failed\" position=\"top\" variant=\"failure\">\n        <div className=\"text-center\">\n          {!shouldTranslate\n            ? 'No se pudo enviar su feedback'\n            : translations?.['b5']}{' '}\n          😢\n        </div>\n      </Alert>\n      <Alert name=\"edit-success\" position=\"bottom\" variant=\"success\">\n        <div className=\"text-center\">\n          {!shouldTranslate ? 'Número actualizado' : translations?.['b6']}\n        </div>\n      </Alert>\n      <PhoneDetails\n        phone={phone}\n        comments={comments}\n        handleComments={handleComments}\n        openHelpSection={openHelpSection}\n        handlePhoneFeedback={sendFeedback}\n        selfAssigned={!!paramId}\n        isFromAnotherTerritory={phone.territoryId !== currentTerritory.id}\n      />\n      {advancedModeEnabled && (\n        <PhonesInStorage\n          PhoneStorage={PhoneStorage}\n          currentPhoneId={phone.id}\n          onEditRequest={editNumber}\n        />\n      )}\n    </>\n  )\n\n  const Help = () => <HelpSection close={closeHelpSection} />\n\n  return (\n    <Container>\n      <Switch>\n        <Route path=\"/:territory/telefonica\" exact render={Main} />\n        <Route path=\"/:territory/telefonica/help\" exact component={Help} />\n      </Switch>\n    </Container>\n  )\n}\n\nexport { Telefonica }\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  tag: tagPropType,\n  fluid: PropTypes.bool,\n  className: PropTypes.string,\n  cssModule: PropTypes.object\n};\nvar defaultProps = {\n  tag: 'div'\n};\n\nvar Jumbotron = function Jumbotron(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      Tag = props.tag,\n      fluid = props.fluid,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"tag\", \"fluid\"]);\n\n  var classes = mapToCssModules(classNames(className, 'jumbotron', fluid ? 'jumbotron-fluid' : false), cssModule);\n  return /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    className: classes\n  }));\n};\n\nJumbotron.propTypes = propTypes;\nJumbotron.defaultProps = defaultProps;\nexport default Jumbotron;"],"sourceRoot":""}