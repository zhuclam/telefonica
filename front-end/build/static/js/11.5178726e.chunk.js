(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[11],{102:function(e,n,t){"use strict";var c=t(4),o=t(8),a=t(0),s=t.n(a),r=t(1),l=t.n(r),i=t(6),d=t.n(i),b=t(3),u={className:l.a.string,cssModule:l.a.object,size:l.a.string,bordered:l.a.bool,borderless:l.a.bool,striped:l.a.bool,dark:l.a.bool,hover:l.a.bool,responsive:l.a.oneOfType([l.a.bool,l.a.string]),tag:b.o,responsiveTag:b.o,innerRef:l.a.oneOfType([l.a.func,l.a.string,l.a.object])},j=function(e){var n=e.className,t=e.cssModule,a=e.size,r=e.bordered,l=e.borderless,i=e.striped,u=e.dark,j=e.hover,O=e.responsive,h=e.tag,m=e.responsiveTag,x=e.innerRef,p=Object(o.a)(e,["className","cssModule","size","bordered","borderless","striped","dark","hover","responsive","tag","responsiveTag","innerRef"]),v=Object(b.k)(d()(n,"table",!!a&&"table-"+a,!!r&&"table-bordered",!!l&&"table-borderless",!!i&&"table-striped",!!u&&"table-dark",!!j&&"table-hover"),t),f=s.a.createElement(h,Object(c.a)({},p,{ref:x,className:v}));if(O){var N=Object(b.k)(!0===O?"table-responsive":"table-responsive-"+O,t);return s.a.createElement(m,{className:N},f)}return f};j.propTypes=u,j.defaultProps={tag:"table",responsiveTag:"div"},n.a=j},112:function(e,n,t){"use strict";t.r(n),t.d(n,"default",(function(){return be}));var c=t(14),o=t.n(c),a=t(17),s=t(20),r=t(7),l=t(2),i=t(0),d=t.n(i),b=t(47),u=t(82),j=t(22),O=t(5),h=t(12),m=t(9),x=t(18),p=function(e){var n=e.phone,t=Object(i.useState)(0),c=Object(r.a)(t,2),o=c[0],a=c[1];return Object(i.useEffect)((function(){a(0)}),[n]),Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("a",{style:{textDecoration:"underline"},href:"tel:".concat(n),onClick:function(){return a(o+1)},children:n}),Array(o).fill(null).map((function(e){return Object(l.jsx)("span",{className:"d-block text-success",children:"\xa1Tocado!"})}))]})},v=t(15),f=t(84);function N(){var e=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n  font-weight: 500;\n  color: ",";\n\n  span {\n    font-weight: 800;\n  }\n"]);return N=function(){return e},e}function g(){var e=Object(O.a)(["\n  display: flex;\n  justify-content: space-between;\n  padding-top: 0.5em;\n"]);return g=function(){return e},e}function E(){var e=Object(O.a)([""]);return E=function(){return e},e}var k=function(e){var n=e.phoneId,t=e.initialNoCallOnWeekends,c=e.initiallyOpen,a=e.onNoCall,d=Object(i.useState)(c),b=Object(r.a)(d,2),u=b[0],O=b[1],m=Object(i.useState)(t),x=Object(r.a)(m,2),p=x[0],N=x[1],g=Object(j.k)().AlertManager,E=Object(h.d)(),k=Object(h.f)(),S=k.shouldTranslate,A=k.translations,T=function(){var e=Object(s.a)(o.a.mark((function e(t,c){var a,s,l,i,d;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){},s=c,"callOnWeekends"===t&&(a=function(){return N(p)},N(c),s=!c),e.prev=3,e.next=6,E().put("phones/".concat(n,"/options"),Object(v.a)({},t,s));case 6:if(l=e.sent,i=Object(r.a)(l,1),!(d=i[0])){e.next=11;break}throw d;case 11:g.show("phone-option-update-success"),e.next=19;break;case 14:e.prev=14,e.t0=e.catch(3),a(),g.hideAll(),g.show("phone-option-update-failed");case 19:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(n,t){return e.apply(this,arguments)}}();return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j.a,{name:"phone-option-update-success",position:"top",variant:"success",children:S?null===A||void 0===A?void 0:A.h1:"Opci\xf3n de tel\xe9fono actualizada con \xe9xito."}),Object(l.jsx)(j.a,{name:"phone-option-update-failed",position:"bottom",variant:"failure",children:S?null===A||void 0===A?void 0:A.h2:"No se pudo actualizar opci\xf3n de tel\xe9fono."}),Object(l.jsxs)(w,{children:[Object(l.jsxs)(y,{onClick:function(){return O(!u)},children:[S?null===A||void 0===A?void 0:A.d2:"Opciones de tel\xe9fono",Object(l.jsx)("span",{children:u?"-":"+"})]}),Object(l.jsxs)(f.a,{isOpen:u,children:[Object(l.jsxs)(C,{children:[Object(l.jsxs)("span",{children:[S?null===A||void 0===A?void 0:A.d3:"No llamar los fin de semana",":"]}),Object(l.jsx)(j.h,{id:"no-weekends",checked:p,onChange:function(e){return T("callOnWeekends",e)}})]}),a&&Object(l.jsxs)(C,{children:[Object(l.jsxs)("span",{children:[S?null===A||void 0===A?void 0:A.d9:"No visitar",":"]}),Object(l.jsx)(j.h,{id:"no-call",checked:!1,onChange:a})]})]})]})]})},w=m.c.div(E()),C=m.c.div(g()),y=m.c.div(N(),(function(e){var n=e.theme;return n.text.colors[n.darkMode?"lightgreen":"green"]})),S=t(11),A=t(87),T=t(4),M=t(8),R=t(28),D=t(1),I=t.n(D),P=t(6),W=t.n(P),_=t(3),L=t(29);function G(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);n&&(c=c.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,c)}return t}function H(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?G(Object(t),!0).forEach((function(n){Object(R.a)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var U={children:I.a.node,className:I.a.string,closeClassName:I.a.string,closeAriaLabel:I.a.string,cssModule:I.a.object,color:I.a.string,fade:I.a.bool,isOpen:I.a.bool,toggle:I.a.func,tag:_.o,transition:I.a.shape(L.a.propTypes),innerRef:I.a.oneOfType([I.a.object,I.a.string,I.a.func])},F={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:H(H({},L.a.defaultProps),{},{unmountOnExit:!0})};function q(e){var n=e.className,t=e.closeClassName,c=e.closeAriaLabel,o=e.cssModule,a=e.tag,s=e.color,r=e.isOpen,l=e.toggle,i=e.children,b=e.transition,u=e.fade,j=e.innerRef,O=Object(M.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),h=Object(_.k)(W()(n,"alert","alert-"+s,{"alert-dismissible":l}),o),m=Object(_.k)(W()("close",t),o),x=H(H(H({},L.a.defaultProps),b),{},{baseClass:u?b.baseClass:"",timeout:u?b.timeout:0});return d.a.createElement(L.a,Object(T.a)({},O,x,{tag:a,className:h,in:r,role:"alert",innerRef:j}),l?d.a.createElement("button",{type:"button",className:m,"aria-label":c,onClick:l},d.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,i)}q.propTypes=U,q.defaultProps=F;var X=q,z=t(98);function Q(){var e=Object(O.a)(["\n  margin-bottom: 0;\n  border: none;\n  color: ",";\n  text-decoration: underline;\n  background: none;\n  margin: auto;\n"]);return Q=function(){return e},e}function B(){var e=Object(O.a)(["\n  border-top: 1px solid\n    ",";\n  border-bottom: 1px solid\n    ",";\n  padding: 10px 0;\n  margin-top: 2em;\n  display: flex;\n\n  > div {\n    width: 100%;\n  }\n"]);return B=function(){return e},e}function J(){var e=Object(O.a)(["\n  width: 100%;\n  border-top: none;\n  border-right: none;\n  border-left: none;\n  border-image: initial;\n  border-bottom: 2px solid ",";\n  outline: none;\n  transition: border-bottom-color 0.25s;\n  margin-bottom: 0.5em;\n  border-radius: 5px;\n  padding: 0 10px;\n\n  :focus {\n    border-bottom-color: ",";\n  }\n"]);return J=function(){return e},e}var V=function(e){var n,t,c=e.phone,o=e.comments,a=e.handleComments,s=e.openHelpSection,r=e.handlePhoneFeedback,i=e.selfAssigned,d=e.isFromAnotherTerritory,b=Object(h.c)(),O=b.advancedModeEnabled,m=b.configurations,v=b.currentTerritory,f=Object(h.b)().buttonColors,N=Object(h.f)(),g=N.shouldTranslate,E=N.translations,w=m.hiddenButtons,C=v.campaignMode,y=function(e){return!w.split(",").includes(e.toString())},T=Object(j.l)(),M=T.isModalOpen,R=T.data,D=T.askEditConfirmation,I=T.toggleModal,P=T.reset,W=function(e){return function(){O?D(e):r(e)}},_=W(x.b.ANSWERED),L=W(x.b.UNANSWERED),G=W(x.b.NON_EXISTENT),H=W(x.b.NO_CALL),U=W(x.b.ANSWERING_MACHINE),F=W(x.b.POSTPONE),q=W(x.b.IGNORE),Q=g?null===E||void 0===E?void 0:E.g6:"Nunca",B=Object(l.jsx)("div",{className:"table-responsive d-none d-sm-block",children:Object(l.jsxs)("table",{className:"table table-bordered",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:g?null===E||void 0===E?void 0:E.c4:"Tel\xe9fono"}),Object(l.jsx)("th",{children:g?null===E||void 0===E?void 0:E.c5:"Otros datos"}),c.comments?Object(l.jsx)("th",{children:g?null===E||void 0===E?void 0:E.g3:"Comentarios"}):null,Object(l.jsx)("th",{children:g?null===E||void 0===E?void 0:E.c6:"\xdaltima fecha que atendi\xf3"}),Object(l.jsx)("th",{children:g?null===E||void 0===E?void 0:E.c7:"\xdaltima fecha que se lo llam\xf3"})]})}),Object(l.jsx)("tbody",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("td",{children:Object(l.jsx)(p,{phone:c.phone})}),Object(l.jsx)("td",{children:c.info}),c.comments?Object(l.jsx)("td",{children:c.comments}):null,Object(l.jsx)("td",{children:null!==(n=c.answeredOn)&&void 0!==n?n:Q}),Object(l.jsx)("td",{children:c.unansweredDate?c.unansweredDate:c.fulfilledOn?Object(l.jsxs)(l.Fragment,{children:["jue, 25 jun 2020"===c.fulfilledOn&&"Antes del ",c.fulfilledOn]}):Q})]})})]})}),J=Object(l.jsxs)("div",{className:"d-block d-sm-none text-center",children:[Object(l.jsxs)("span",{style:{fontWeight:500},children:[g?null===E||void 0===E?void 0:E.c4:"Tel\xe9fono",":"]}),Object(l.jsx)("div",{children:Object(l.jsx)(p,{phone:c.phone})}),Object(l.jsx)("br",{}),c.info&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("span",{style:{fontWeight:500},children:[g?null===E||void 0===E?void 0:E.c5:"Otros datos",":"]}),Object(l.jsx)("div",{children:c.info}),Object(l.jsx)("br",{})]}),c.comments&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("span",{style:{fontWeight:500},children:[g?null===E||void 0===E?void 0:E.g3:"Comentarios",":"]}),Object(l.jsx)("div",{children:c.comments}),Object(l.jsx)("br",{})]}),Object(l.jsxs)("span",{style:{fontWeight:500},children:[g?null===E||void 0===E?void 0:E.c6:"\xdaltima fecha que atendi\xf3",":"]}),Object(l.jsx)("div",{children:null!==(t=c.answeredOn)&&void 0!==t?t:Q}),Object(l.jsx)("br",{}),Object(l.jsxs)("span",{style:{fontWeight:500},children:[g?null===E||void 0===E?void 0:E.c7:"\xdaltima fecha que se lo llam\xf3",":"]}),Object(l.jsx)("div",{children:c.unansweredDate?c.unansweredDate:c.fulfilledOn?Object(l.jsxs)(l.Fragment,{children:["jue, 25 jun 2020"===c.fulfilledOn&&"Antes del ",c.fulfilledOn]}):Q})]}),V=Object(l.jsx)(Y,{children:Object(l.jsx)(Z,{onClick:s,children:g?null===E||void 0===E?void 0:E.f1:"\xbfQu\xe9 hace cada bot\xf3n?"})}),$=Object(l.jsx)("div",{className:"row my-4",children:Object(l.jsxs)("div",{className:"col-12",children:[Object(l.jsxs)("span",{className:"text-secondary d-inline-block mb-2",children:[g?null===E||void 0===E?void 0:E.c8:"Comentarios (opcional)",":"]}),Object(l.jsx)(K,{placeholder:g?null===E||void 0===E?void 0:E.c9:"Su comentario ac\xe1...",type:"text",value:o,onChange:function(e){return a(e.target.value)}}),c.commentedOn&&Object(l.jsxs)("span",{className:"input-helper text-secondary",children:[g?null===E||void 0===E?void 0:E.g9:"Comentado el",":"," ",Object(l.jsx)("span",{className:"text-success",children:c.commentedOn})]}),c.answeringMachineDate&&Object(l.jsxs)("span",{className:"d-block input-helper text-secondary",children:[g?null===E||void 0===E?void 0:E.g8:"\xdaltimo mensaje en el contestador",": ",Object(l.jsx)("span",{className:"text-success",children:c.answeringMachineDate})]}),!c.commentedOn&&!c.answeringMachineDate&&Object(l.jsx)("span",{className:"input-helper text-secondary",children:g?null===E||void 0===E?void 0:E.d1:"Ej.: lugar de trabajo"})]})}),ee=C?Object(l.jsx)("div",{className:"my-4",children:Object(l.jsx)(A.a,{color:f.rushed,block:!0,onClick:function(){return r(x.a.RUSHED)},children:g?null===E||void 0===E?void 0:E.g7:"Siguiente"})}):O?Object(l.jsxs)("div",{className:"my-4 row d-flex justify-content-center",children:[y(x.b.ANSWERED)&&Object(l.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(l.jsx)(A.a,{color:f.answered,className:"btn-lg w-100 mx-auto mx-md-0 d-block",onClick:_,children:g?null===E||void 0===E?void 0:E.d4:"Atendi\xf3"})}),y(x.b.UNANSWERED)&&Object(l.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(l.jsx)(A.a,{color:f.unanswered,className:"btn-lg w-100 mx-auto mx-md-0 d-block",onClick:L,children:g?null===E||void 0===E?void 0:E.d5:"No en casa"})}),y(x.b.ANSWERING_MACHINE)&&Object(l.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(l.jsx)(A.a,{color:f.answeringMachine,className:"btn-lg w-100 mx-auto mx-md-0 d-block",onClick:U,children:g?null===E||void 0===E?void 0:E.d6:"Contestador"})}),y(x.b.POSTPONE)&&Object(l.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(l.jsx)(A.a,{color:f.postponed,className:"btn-lg w-100 mx-auto mx-md-0 d-block",onClick:F,children:g?null===E||void 0===E?void 0:E.d7:"Aplazar"})}),y(x.b.IGNORE)&&Object(l.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(l.jsx)(A.a,{color:f.ignored,className:"btn-lg w-100 mx-auto mx-md-0 d-block",onClick:q,children:g?null===E||void 0===E?void 0:E.d8:"Ignorar"})}),y(x.b.NO_CALL)&&Object(l.jsx)("div",{className:"col-6 mb-2 col-md-auto",children:Object(l.jsx)(A.a,{color:f.noCall,className:"btn-lg w-100 mx-auto mx-md-0 d-block",onClick:H,children:g?null===E||void 0===E?void 0:E.d9:"No visitar"})}),y(x.b.NON_EXISTENT)&&Object(l.jsx)("div",{className:"col-6 col-md-auto",children:Object(l.jsx)(A.a,{color:f.nonExistent,className:"btn-lg w-100 mx-auto mx-md-0 d-block",onClick:G,children:g?null===E||void 0===E?void 0:E.e1:"No existe"})})]}):Object(l.jsxs)("div",{className:"my-4 row d-flex justify-content-center",children:[y(x.b.ANSWERED)&&Object(l.jsx)("div",{className:"col-6 mb-3 col-md-auto",children:Object(l.jsx)(A.a,{color:f.answered,className:"btn-lg mx-auto mx-md-0 d-block w-100",onClick:_,children:g?null===E||void 0===E?void 0:E.d4:"Atendi\xf3"})}),y(x.b.UNANSWERED)&&Object(l.jsx)("div",{className:"col-6 mb-3 col-md-auto",children:Object(l.jsx)(A.a,{color:f.unanswered,className:"btn-lg mx-auto mx-md-0 d-block w-100",onClick:L,children:g?null===E||void 0===E?void 0:E.d5:"No en casa"})}),y(x.b.NO_CALL)&&Object(l.jsx)("div",{className:"col-6 col-md-auto",children:Object(l.jsx)(A.a,{color:f.noCall,className:"btn-lg mx-auto mx-md-0 d-block w-100",onClick:H,children:g?null===E||void 0===E?void 0:E.d9:"No visitar"})}),y(x.b.NON_EXISTENT)&&Object(l.jsx)("div",{className:"col-6 col-md-auto",children:Object(l.jsx)(A.a,{color:f.nonExistent,className:"btn-lg mx-auto mx-md-0 d-block w-100",onClick:G,children:g?null===E||void 0===E?void 0:E.e1:"No existe"})})]}),ne={0:f.unanswered,1:f.answered,2:f.nonExistent,3:f.noCall,4:f.answeringMachine,5:f.postponed,6:f.ignored,7:f.rushed};return Object(l.jsxs)(u.a,{className:"py-4",children:[i&&Object(l.jsx)(X,{color:"warning",children:"Usando n\xfamero autoasignado"}),d&&Object(l.jsx)(X,{color:"danger",children:"\xa1El n\xfamero es de otro territorio!"}),B,J,$,!!O&&Object(l.jsx)(Y,{children:Object(l.jsx)(k,{phoneId:c.id,initialNoCallOnWeekends:c.noWeekends,initiallyOpen:!1,onNoCall:!!C&&H})}),!!C&&Object(l.jsx)(z.a,{fluid:!0,className:"my-2",children:Object(l.jsxs)(u.a,{children:[Object(l.jsx)("h6",{children:g?null===E||void 0===E?void 0:E.h3:"\xa1Estamos en campa\xf1a!"}),Object(l.jsx)("small",{children:g?null===E||void 0===E?void 0:E.h4:'Durante la campa\xf1a, solo habr\xe1 un bot\xf3n de "siguiente".'})]})}),ee,O&&!C&&V,null!==R&&Object(l.jsx)(j.c,{isOpen:M,toggleModal:I,onConfirm:function(){null!==R&&(r(R),P())},title:g?null===E||void 0===E?void 0:E.e9:"\xbfSeguro?",buttonColor:ne[R],confirmationLabel:Object(S.c)(g,E)[R]})]})},K=m.c.input(J(),(function(e){return e.theme.text.colors.secondary}),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:n.text.colors.black})),Y=m.c.div(B(),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:n.text.colors.secondary}),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:n.text.colors.secondary})),Z=m.c.button(Q(),(function(e){var n=e.theme;return n.darkMode?n.text.colors.white:"#555"}));function $(){var e=Object(O.a)(["\n  width: 100%;\n"]);return $=function(){return e},e}function ee(){var e=Object(O.a)(["\n  display: flex;\n  padding: 20px 0;\n  min-height: calc(100vh - ","px);\n  justify-content: space-evenly;\n  flex-direction: column;\n"]);return ee=function(){return e},e}var ne=function(e){var n=e.close,t=Object(h.c)(),c=t.advancedModeEnabled,o=t.configurations,a=Object(h.b)().buttonColors,s=Object(h.f)(),r=s.shouldTranslate,i=s.translations,d=function(e){return!o.hiddenButtons.split(",").includes(e.toString())};return Object(l.jsxs)(te,{children:[d(x.b.ANSWERED)&&Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsxs)("h6",{children:[r?null===i||void 0===i?void 0:i.f2:"\xbfQu\xe9 hace el bot\xf3n de"," ",Object(l.jsx)("span",{className:"text-".concat(a.answered),children:Object(S.c)(r,i)[x.b.ANSWERED]}),"?"]}),Object(l.jsx)("p",{children:r?null===i||void 0===i?void 0:i.f3:"Manda el n\xfamero al final de la cola y registra la fecha en que se atendi\xf3."})]}),d(x.b.UNANSWERED)&&Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsxs)("h6",{children:[r?null===i||void 0===i?void 0:i.f2:"\xbfQu\xe9 hace el bot\xf3n de"," ",Object(l.jsx)("span",{className:"text-".concat(a.unanswered),children:Object(S.c)(r,i)[x.b.UNANSWERED]}),"?"]}),Object(l.jsx)("p",{children:r?null===i||void 0===i?void 0:i.f4.replace("3",o.unansweredMaxAttemps.toString()):Object(l.jsxs)(l.Fragment,{children:["Guarda el n\xfamero para llamarlo de vuelta ma\xf1ana, hasta un m\xe1ximo de ",o.unansweredMaxAttemps," intentos. Luego, si no atendi\xf3, se lo manda al final de la cola."]})})]}),c&&Object(l.jsxs)(l.Fragment,{children:[d(x.b.ANSWERING_MACHINE)&&Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsxs)("h6",{children:[r?null===i||void 0===i?void 0:i.f2:"\xbfQu\xe9 hace el bot\xf3n de"," ",Object(l.jsx)("span",{className:"text-".concat(a.answeringMachine),children:Object(S.c)(r,i)[x.b.ANSWERING_MACHINE]}),"?"]}),Object(l.jsx)("p",{children:r?null===i||void 0===i?void 0:i.f5.replace("10",o.answeringMachinePostponedDays.toString()).replace("2",o.answeringMachineMaxAttemps.toString()):Object(l.jsxs)(l.Fragment,{children:["Registra la \xfaltima vez que se le dej\xf3 un mensaje en el contestador al amo de casa.\xa0",o.answeringMachineMaxAttemps>1&&Object(l.jsxs)("span",{children:["Adem\xe1s, congela el n\xfamero durante"," ",o.answeringMachinePostponedDays," d\xedas para darle un m\xe1ximo de"," ",o.answeringMachineMaxAttemps," ",'oportunidades. Estas oportunidades se computan junto a las que ya se le dio con el bot\xf3n "no en casa" si ha sido el caso.']})]})})]}),d(x.b.POSTPONE)&&Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsxs)("h6",{children:[r?null===i||void 0===i?void 0:i.f2:"\xbfQu\xe9 hace el bot\xf3n de"," ",Object(l.jsx)("span",{className:"text-".concat(a.postponed),children:Object(S.c)(r,i)[x.b.POSTPONE]}),"?"]}),Object(l.jsx)("p",{children:r?null===i||void 0===i?void 0:i.f6.replace("3",o.postponedButtonDays.toString()):Object(l.jsxs)(l.Fragment,{children:["Congela el n\xfamero para que se lo llame dentro de"," ",o.postponedButtonDays," ",o.postponedButtonDays>1?"d\xedas":"d\xeda","."]})})]}),d(x.b.IGNORE)&&Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsxs)("h6",{children:[r?null===i||void 0===i?void 0:i.f2:"\xbfQu\xe9 hace el bot\xf3n de"," ",Object(l.jsx)("span",{className:"text-".concat(a.ignored),children:Object(S.c)(r,i)[x.b.IGNORE]}),"?"]}),Object(l.jsx)("p",{children:r?null===i||void 0===i?void 0:i.f7:"Manda el n\xfamero directamente al final de la cola."})]})]}),d(x.b.NO_CALL)&&Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsxs)("h6",{children:[r?null===i||void 0===i?void 0:i.f2:"\xbfQu\xe9 hace el bot\xf3n de"," ",Object(l.jsx)("span",{className:"text-".concat(a.noCall),children:Object(S.c)(r,i)[x.b.NO_CALL]}),"?"]}),Object(l.jsx)("p",{children:r?null===i||void 0===i?void 0:i.f8:"Quita el n\xfamero de la cola. No se lo borra pero tampoco se lo volver\xe1 a llamar."})]}),d(x.b.NON_EXISTENT)&&Object(l.jsxs)("div",{className:"text-center",children:[Object(l.jsxs)("h6",{children:[r?null===i||void 0===i?void 0:i.f2:"\xbfQu\xe9 hace el bot\xf3n de"," ",Object(l.jsx)("span",{className:"text-".concat(a.nonExistent),children:Object(S.c)(r,i)[x.b.NON_EXISTENT]}),"?"]}),Object(l.jsx)("p",{children:r?null===i||void 0===i?void 0:i.f9.replace("180",o.nonExistentPostponedDays.toString()):Object(l.jsxs)(l.Fragment,{children:["Suspende el n\xfamero durante"," ",o.nonExistentPostponedDays," d\xedas. Luego vuelve a la cola porque existe la posibilidad de que se haya reactivado."]})})]}),Object(l.jsx)("p",{className:"text-center",children:r?null===i||void 0===i?void 0:i.g1:"Nota: en ning\xfan caso se borran los n\xfameros. Si correspondiera (por ej. por estar fuera del territorio), por favor, comunicarse con el siervo de territorios."}),Object(l.jsx)(ce,{className:"btn btn-secondary",onClick:n,children:r?null===i||void 0===i?void 0:i.g2:"Volver"})]})},te=m.c.div(ee(),(function(e){return e.theme.navbarHeight})),ce=m.c.button($()),oe=t(102),ae=t(52);function se(){var e=Object(O.a)(["\n  position: absolute;\n  left: 0px;\n  background: rgb(34, 34, 34);\n  width: 100%;\n  border: 1px solid rgb(102, 102, 102);\n  padding: "," 10px;\n  display: flex;\n  justify-content: space-evenly;\n  flex-wrap: wrap;\n  transition: padding 0.3s, height 0.3s;\n  z-index: 1;\n"]);return se=function(){return e},e}var re=function(e){var n,t,c=e.currentPhoneId,o=e.onEditRequest,a=e.PhoneStorage,s=Object(i.useState)(null),d=Object(r.a)(s,2),b=d[0],u=d[1],O=Object(j.l)(),m=O.isModalOpen,p=O.data,v=O.askEditConfirmation,f=O.toggleModal,N=O.reset,g=Object(h.c)(),E=g.configurations.hiddenButtons,k=g.currentTerritory.campaignMode,w=Object(h.b)().buttonColors,C=Object(h.f)(),y=C.shouldTranslate,T=C.translations,M=function(e){return!E.split(",").includes(e.toString())&&!(k&&[x.b.UNANSWERED,x.b.ANSWERED,x.b.NON_EXISTENT,x.b.NO_CALL,x.b.ANSWERING_MACHINE,x.b.IGNORE].includes(e))&&!(!k&&[x.a.RUSHED].includes(e))},R=null!==(n=null===p||void 0===p?void 0:p.feedbackToConfirm)&&void 0!==n?n:null,D=null!==(t=null===p||void 0===p?void 0:p.storagePhoneToConfirm)&&void 0!==t?t:null,I=function(e,n){return v({storagePhoneToConfirm:n,feedbackToConfirm:e})},P={0:w.unanswered,1:w.answered,2:w.nonExistent,3:w.noCall,4:w.answeringMachine,5:w.postponed,6:w.ignored,7:w.rushed},W=a.getAll().reverse().map((function(e,n){if(e.id===c)return null;var t=Object(ae.a)(e.savedOn),o=null!==e.status?P[e.status]:"",a=t||null!==e.status?null!==e.status?Object(S.c)(y,T)[e.status]:y?null===T||void 0===T?void 0:T.e6:"Pendiente":y?null===T||void 0===T?void 0:T.e5:"Asignado a otro publicador",s=n===b;return Object(l.jsxs)("tr",{style:{position:"relative"},children:[Object(l.jsx)("td",{children:e.phone}),Object(l.jsx)("td",{children:Object(l.jsx)("span",{className:"text-".concat(o),children:a})}),Object(l.jsxs)("td",{children:[t&&Object(l.jsx)(A.a,{color:"secondary",onClick:function(){return function(e){return u(b!==e?e:null)}(n)},children:y?null===T||void 0===T?void 0:T.c2:"Editar"}),Object(l.jsxs)(le,{isOpen:s,children:[e.status!==x.a.RUSHED&&M(x.a.RUSHED)&&Object(l.jsx)(A.a,{color:w.rushed,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.a.RUSHED,e)},children:Object(S.c)(y,T)[x.a.RUSHED]}),e.status!==x.b.ANSWERED&&M(x.b.ANSWERED)&&Object(l.jsx)(A.a,{color:w.answered,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.b.ANSWERED,e)},children:Object(S.c)(y,T)[x.b.ANSWERED]}),e.status!==x.b.UNANSWERED&&M(x.b.UNANSWERED)&&Object(l.jsx)(A.a,{color:w.unanswered,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.b.UNANSWERED,e)},children:Object(S.c)(y,T)[x.b.UNANSWERED]}),e.status!==x.b.ANSWERING_MACHINE&&M(x.b.ANSWERING_MACHINE)&&Object(l.jsx)(A.a,{color:w.answeringMachine,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.b.ANSWERING_MACHINE,e)},children:Object(S.c)(y,T)[x.b.ANSWERING_MACHINE]}),e.status!==x.b.POSTPONE&&M(x.b.POSTPONE)&&Object(l.jsx)(A.a,{color:w.postponed,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.b.POSTPONE,e)},children:Object(S.c)(y,T)[x.b.POSTPONE]}),e.status!==x.b.IGNORE&&M(x.b.IGNORE)&&Object(l.jsx)(A.a,{color:w.ignored,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.b.IGNORE,e)},children:Object(S.c)(y,T)[x.b.IGNORE]}),e.status!==x.b.NO_CALL&&M(x.b.NO_CALL)&&Object(l.jsx)(A.a,{color:w.noCall,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.b.NO_CALL,e)},children:Object(S.c)(y,T)[x.b.NO_CALL]}),e.status!==x.b.NON_EXISTENT&&M(x.b.NON_EXISTENT)&&Object(l.jsx)(A.a,{color:w.nonExistent,className:"btn-sm d-inline-block mr-1 mb-2",onClick:function(){return I(x.b.NON_EXISTENT,e)},children:Object(S.c)(y,T)[x.b.NON_EXISTENT]})]})]})]},e.id)}));return W.filter((function(e){return!!e})).length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h6",{className:"container mb-3",children:[y?null===T||void 0===T?void 0:T.e2:"N\xfameros anteriores en este dispositivo",":"]}),Object(l.jsxs)(oe.a,{responsive:!0,className:"text-center",children:[Object(l.jsx)("thead",{children:Object(l.jsxs)("tr",{children:[Object(l.jsx)("th",{children:y?null===T||void 0===T?void 0:T.c4:"Tel\xe9fono"}),Object(l.jsx)("th",{children:y?null===T||void 0===T?void 0:T.e3:"Estado"}),Object(l.jsx)("th",{children:y?null===T||void 0===T?void 0:T.e4:"Acciones"})]})}),Object(l.jsx)("tbody",{children:W})]}),null!==R&&Object(l.jsx)(j.c,{isOpen:m,toggleModal:f,onConfirm:function(){D&&"number"===typeof R&&(o(D,R),u(null),N())},title:y?null===T||void 0===T?void 0:T.e9:"\xbfSeguro?",buttonColor:P[R],confirmationLabel:Object(S.c)(y,T)[R]})]}):null},le=Object(m.c)(f.a)(se(),(function(e){return e.isOpen?"20px":"0"})),ie=t(10),de=t(27),be=function(){var e=Object(i.useState)(null),n=Object(r.a)(e,2),t=n[0],c=n[1],d=Object(i.useState)(!0),O=Object(r.a)(d,2),m=O[0],x=O[1],p=Object(i.useState)(!1),v=Object(r.a)(p,2),f=v[0],N=v[1],g=Object(i.useState)(""),E=Object(r.a)(g,2),k=E[0],w=E[1],C=Object(h.e)(),y=Object(h.c)(),S=y.CONG_INITIALS,A=y.advancedModeEnabled,T=y.currentTerritory,M=Object(j.k)().AlertManager,R=Object(h.f)(),D=R.shouldTranslate,I=R.translations,P=Object(h.d)(),W=new URLSearchParams(window.location.search).get("id"),_=Object(i.useCallback)(Object(s.a)(o.a.mark((function e(){var n,t,s,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),N(!1),e.next=5,P().get(W?{path:"next",params:{id:W}}:"next");case 5:if(n=e.sent,t=Object(r.a)(n,2),s=t[0],l=t[1],!s){e.next=11;break}throw s;case 11:c(l.phone),w(l.phone.comments),M.show("new-phone-received",{timeout:2e3}),C.add({id:l.phone.id,status:null,phone:l.phone.phone,savedOn:Date.now(),restore:Object(a.a)(Object(a.a)({},l.original),{},{lastStatus:null})}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(0),console.log({e:e.t0}),N(!0);case 21:return e.prev=21,x(!1),e.finish(21);case 24:case"end":return e.stop()}}),e,null,[[0,17,21,24]])}))),[M,C,P,W]);Object(i.useEffect)((function(){T.active&&_()}),[_,T]);var L=function(){var e=Object(s.a)(o.a.mark((function e(n){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,x(!0),e.next=6,P().put("update_phone",{id:t.id,answered:n,comments:k});case 6:if(c=e.sent,a=Object(r.a)(c,1),!(s=a[0])){e.next=11;break}throw s;case 11:_(),C.update(t.id,n),e.next=20;break;case 15:e.prev=15,e.t0=e.catch(2),M.hideAll(),M.show("feedback-failed"),x(!1);case 20:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(n){return e.apply(this,arguments)}}(),G=function(){var e=Object(s.a)(o.a.mark((function e(n,t){var c,a,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P().put("update_phone",{id:n.id,answered:t,restore:n.restore});case 3:if(c=e.sent,a=Object(r.a)(c,1),!(s=a[0])){e.next=8;break}throw s;case 8:C.update(n.id,t),M.show("edit-success"),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),M.hideAll(),M.show("feedback-failed");case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(n,t){return e.apply(this,arguments)}}(),H=Object(de.e)(L,5e3),U=Object(de.e)(G,5e3),F=Object(ie.g)(),q=function(){return F.push("/".concat(T.name,"/telefonica/help"))},X=function(){return F.goBack()},z=function(e){return w(e)};if(f)return Object(l.jsx)(j.d,{message:D?null===I||void 0===I?void 0:I.b3:"No hay m\xe1s n\xfameros disponibles por el d\xeda de hoy"});if(!T.active)return Object(l.jsx)(j.d,{message:D?null===I||void 0===I?void 0:I.c1:"Este territorio est\xe1 desactivado."});if(m||!t)return Object(l.jsx)(j.g,{fulfill:!0,container:!0});return Object(l.jsx)(u.a,{children:Object(l.jsxs)(ie.d,{children:[Object(l.jsx)(ie.b,{path:"/:territory/telefonica",exact:!0,render:function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(b.a,{children:Object(l.jsxs)("title",{children:[S," Telef\xf3nica"]})}),Object(l.jsx)(j.a,{name:"new-phone-received",position:"top",variant:"success",children:Object(l.jsxs)("div",{className:"text-center",children:["\u2728"," ",D?null===I||void 0===I?void 0:I.b4:"\xa1Nuevo n\xfamero recibido!"," ","\u2728\ud83c\udf89"]})}),Object(l.jsx)(j.a,{name:"feedback-failed",position:"top",variant:"failure",children:Object(l.jsxs)("div",{className:"text-center",children:[D?null===I||void 0===I?void 0:I.b5:"No se pudo enviar su feedback"," ","\ud83d\ude22"]})}),Object(l.jsx)(j.a,{name:"edit-success",position:"bottom",variant:"success",children:Object(l.jsx)("div",{className:"text-center",children:D?null===I||void 0===I?void 0:I.b6:"N\xfamero actualizado"})}),Object(l.jsx)(V,{phone:t,comments:k,handleComments:z,openHelpSection:q,handlePhoneFeedback:H,selfAssigned:!!W,isFromAnotherTerritory:t.territoryId!==T.id}),A&&Object(l.jsx)(re,{PhoneStorage:C,currentPhoneId:t.id,onEditRequest:U})]})}}),Object(l.jsx)(ie.b,{path:"/:territory/telefonica/help",exact:!0,component:function(){return Object(l.jsx)(ne,{close:X})}})]})})}},98:function(e,n,t){"use strict";var c=t(4),o=t(8),a=t(0),s=t.n(a),r=t(1),l=t.n(r),i=t(6),d=t.n(i),b=t(3),u={tag:b.o,fluid:l.a.bool,className:l.a.string,cssModule:l.a.object},j=function(e){var n=e.className,t=e.cssModule,a=e.tag,r=e.fluid,l=Object(o.a)(e,["className","cssModule","tag","fluid"]),i=Object(b.k)(d()(n,"jumbotron",!!r&&"jumbotron-fluid"),t);return s.a.createElement(a,Object(c.a)({},l,{className:i}))};j.propTypes=u,j.defaultProps={tag:"div"},n.a=j}}]);
//# sourceMappingURL=11.5178726e.chunk.js.map