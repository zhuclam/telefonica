{"version":3,"sources":["../node_modules/reactstrap/es/Table.js","features/ManageTerritories/ManageTerritories.tsx","../node_modules/timers-browserify/main.js","../node_modules/setimmediate/setImmediate.js","features/ManageTerritories/index.tsx"],"names":["propTypes","className","PropTypes","string","cssModule","object","size","bordered","bool","borderless","striped","dark","hover","responsive","oneOfType","tag","tagPropType","responsiveTag","innerRef","func","Table","props","Tag","ResponsiveTag","attributes","_objectWithoutPropertiesLoose","classes","mapToCssModules","classNames","table","React","createElement","_extends","ref","responsiveClassName","defaultProps","breadcrumbItems","title","linkTo","ManageTerritories","useConfig","territories","currentTerritory","updateTerritories","getConfigs","useState","isCreatingNew","setIsCreatingNew","isDeleting","setIsDeleting","showNewTerritoryForm","setShowNewTerritoryForm","hoveringId","setHoveringId","editingName","setEditingName","newName","setNewName","Fetch","useFetch","AlertManager","useAlerts","useConfirmationModal","isDeleteModalOpen","isModalOpen","idToDelete","data","askDeleteConfirmation","askEditConfirmation","toggleDeleteModal","toggleModal","resetDeleteModal","reset","isCampaignOffModalOpen","idToUpdate","askCampaignOffconfirmation","toggleCampaignOffModal","resetCampaignOffModal","territoryToDelete","find","t","id","territoryToUpdate","buildTerritoryURL","name","window","location","origin","invalidEditingName","length","useEffect","onCreateNew","a","encodedNewName","encodeURIComponent","post","err","territory","concat","show","onDelete","delete","newTerritories","filter","totalNumbers","onUpdate","useCallback","field","Error","newState","put","updatedTerritory","map","timeout","saveEditedName","e","target","undefined","document","addEventListener","removeEventListener","position","variant","items","color","onClick","open","isOpen","NewTerritoryForm","StyledInput","placeholder","value","onChange","disabled","onMouseEnter","onMouseLeave","error","style","cursor","setImmediate","ActiveCell","active","LinkTd","href","marginRight","marginLeft","navigator","clipboard","writeText","CampaignCell","campaignMode","completed","toString","checked","public","display","justifyContent","onConfirm","body","fulfill","buttonColor","confirmationLabel","styled","td","div","Input","theme","css","text","colors","neutral","green","yellow","scope","global","self","apply","Function","prototype","Timeout","clearFn","this","_id","_clearFn","exports","setTimeout","call","arguments","clearTimeout","setInterval","clearInterval","close","unref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","_onTimeout","require","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","Object","getPrototypeOf","process","handle","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","messagePrefix","Math","random","onGlobalMessage","event","source","indexOf","slice","attachEvent","installPostMessageImplementation","MessageChannel","channel","port1","port2","installMessageChannelImplementation","html","documentElement","script","onreadystatechange","removeChild","appendChild","installReadyStateChangeImplementation","callback","args","Array","i","task","run"],"mappings":"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","file":"static/js/5.be6aeb86.chunk.js","sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport { mapToCssModules, tagPropType } from './utils';\nvar propTypes = {\n  className: PropTypes.string,\n  cssModule: PropTypes.object,\n  size: PropTypes.string,\n  bordered: PropTypes.bool,\n  borderless: PropTypes.bool,\n  striped: PropTypes.bool,\n  dark: PropTypes.bool,\n  hover: PropTypes.bool,\n  responsive: PropTypes.oneOfType([PropTypes.bool, PropTypes.string]),\n  tag: tagPropType,\n  responsiveTag: tagPropType,\n  innerRef: PropTypes.oneOfType([PropTypes.func, PropTypes.string, PropTypes.object])\n};\nvar defaultProps = {\n  tag: 'table',\n  responsiveTag: 'div'\n};\n\nvar Table = function Table(props) {\n  var className = props.className,\n      cssModule = props.cssModule,\n      size = props.size,\n      bordered = props.bordered,\n      borderless = props.borderless,\n      striped = props.striped,\n      dark = props.dark,\n      hover = props.hover,\n      responsive = props.responsive,\n      Tag = props.tag,\n      ResponsiveTag = props.responsiveTag,\n      innerRef = props.innerRef,\n      attributes = _objectWithoutPropertiesLoose(props, [\"className\", \"cssModule\", \"size\", \"bordered\", \"borderless\", \"striped\", \"dark\", \"hover\", \"responsive\", \"tag\", \"responsiveTag\", \"innerRef\"]);\n\n  var classes = mapToCssModules(classNames(className, 'table', size ? 'table-' + size : false, bordered ? 'table-bordered' : false, borderless ? 'table-borderless' : false, striped ? 'table-striped' : false, dark ? 'table-dark' : false, hover ? 'table-hover' : false), cssModule);\n  var table = /*#__PURE__*/React.createElement(Tag, _extends({}, attributes, {\n    ref: innerRef,\n    className: classes\n  }));\n\n  if (responsive) {\n    var responsiveClassName = mapToCssModules(responsive === true ? 'table-responsive' : \"table-responsive-\" + responsive, cssModule);\n    return /*#__PURE__*/React.createElement(ResponsiveTag, {\n      className: responsiveClassName\n    }, table);\n  }\n\n  return table;\n};\n\nTable.propTypes = propTypes;\nTable.defaultProps = defaultProps;\nexport default Table;","import React, { ChangeEvent, useState, useEffect, useCallback } from 'react'\nimport { Container, Table, Button, Collapse, Input } from 'reactstrap'\nimport {\n  Alert,\n  Breadcrumb,\n  Spinner,\n  useAlerts,\n  useConfirmationModal,\n  ConfirmationModal,\n  Switch,\n} from 'components'\nimport { useConfig, useFetch } from 'hooks'\nimport styled, { css } from 'styled'\nimport { Territory } from 'types'\n\nconst breadcrumbItems = [\n  {\n    title: 'Panel de Administración',\n    linkTo: '/admin-panel',\n  },\n  {\n    title: 'Gestionar territorios',\n  },\n]\n\nconst ManageTerritories: React.FC = () => {\n  const { territories, currentTerritory, updateTerritories, getConfigs } =\n    useConfig()\n\n  const [isCreatingNew, setIsCreatingNew] = useState<boolean>(false)\n  const [isDeleting, setIsDeleting] = useState<boolean>(false)\n  const [showNewTerritoryForm, setShowNewTerritoryForm] =\n    useState<boolean>(false)\n\n  const [hoveringId, setHoveringId] = useState<number>(0)\n  const [editingName, setEditingName] =\n    useState<{ id: number; name: string } | undefined>()\n\n  const toggleNewTerritoryForm = () => setShowNewTerritoryForm((open) => !open)\n\n  const [newName, setNewName] = useState<string>('')\n\n  const Fetch = useFetch()\n  const { AlertManager } = useAlerts()\n  const {\n    isModalOpen: isDeleteModalOpen,\n    data: idToDelete,\n    askEditConfirmation: askDeleteConfirmation,\n    toggleModal: toggleDeleteModal,\n    reset: resetDeleteModal,\n  } = useConfirmationModal<number>()\n\n  const {\n    isModalOpen: isCampaignOffModalOpen,\n    data: idToUpdate,\n    askEditConfirmation: askCampaignOffconfirmation,\n    toggleModal: toggleCampaignOffModal,\n    reset: resetCampaignOffModal,\n  } = useConfirmationModal<number>()\n\n  const territoryToDelete =\n    !!idToDelete && territories.find((t) => t.id === idToDelete)\n  const territoryToUpdate =\n    !!idToUpdate && territories.find((t) => t.id === idToUpdate)\n\n  const buildTerritoryURL = (name: string) =>\n    `${window.location.origin}/${name}/`\n\n  const copyLink = (name: string) => {\n    navigator.clipboard.writeText(buildTerritoryURL(name))\n    AlertManager.show('copy-success')\n  }\n\n  const invalidEditingName = (editingName?.name ?? '').length === 0\n\n  useEffect(() => {\n    getConfigs(Fetch)\n  }, [Fetch, getConfigs])\n\n  const onCreateNew = async () => {\n    if (newName.length === 0) return\n\n    const encodedNewName = encodeURIComponent(newName)\n\n    try {\n      setIsCreatingNew(true)\n      const [err, { territory }] = await Fetch().post<\n        { name: string },\n        { territory: Territory }\n      >('/territories', {\n        name: encodedNewName,\n      })\n\n      if (err) throw err\n\n      updateTerritories(territories.concat(territory))\n      AlertManager.show('new-success')\n      setNewName('')\n      setShowNewTerritoryForm(false)\n    } catch {\n      AlertManager.show('new-fail')\n    } finally {\n      setIsCreatingNew(false)\n    }\n  }\n\n  const onDelete = async () => {\n    if (idToDelete === null || !territoryToDelete) return\n\n    try {\n      setIsDeleting(true)\n      const [err] = await Fetch().delete(`territories/${idToDelete}`)\n\n      if (err) throw err\n\n      const newTerritories = territories.filter((t) => t.id !== idToDelete)\n      // Assuming territory at index 0 is always 'base'\n      newTerritories[0].totalNumbers += territoryToDelete.totalNumbers\n      updateTerritories(newTerritories)\n      resetDeleteModal()\n      AlertManager.show('delete-success')\n    } catch {\n      AlertManager.show('delete-fail')\n    } finally {\n      setIsDeleting(false)\n    }\n  }\n\n  const onUpdate = useCallback(\n    async (\n      id: number,\n      field: 'active' | 'campaignMode' | 'name' | 'public',\n      newName?: string\n    ) => {\n      try {\n        const territory = territories.find((t) => t.id === id)!\n        if (!territory || (field === 'name' && !newName))\n          throw new Error('onUpdate got wrong data')\n\n        const newState =\n          field === 'name' && newName\n            ? encodeURIComponent(newName)\n            : !territory[field]\n\n        if (field === 'campaignMode' && newState === false)\n          resetCampaignOffModal()\n\n        const [err, { territory: updatedTerritory }] = await Fetch().put<\n          Partial<Territory>,\n          { territory: Territory }\n        >(`territories/${id}`, { [field]: newState })\n\n        if (err) throw err\n\n        updateTerritories(\n          territories.map((t) => (t.id === id ? updatedTerritory : t))\n        )\n        resetDeleteModal()\n        AlertManager.show('update-success', { timeout: 1500 })\n      } catch {\n        AlertManager.show('update-fail')\n      }\n    },\n    [\n      AlertManager,\n      Fetch,\n      resetCampaignOffModal,\n      resetDeleteModal,\n      territories,\n      updateTerritories,\n    ]\n  )\n\n  useEffect(() => {\n    const saveEditedName = (e: any) => {\n      if (e.target?.id !== 'editing-input' && editingName) {\n        onUpdate(editingName.id, 'name', editingName.name)\n        setEditingName(undefined)\n      }\n    }\n    document.addEventListener('click', saveEditedName)\n    return () => document.removeEventListener('click', saveEditedName)\n  }, [editingName, onUpdate])\n\n  return (\n    <>\n      <Alert name=\"copy-success\" position=\"top\" variant=\"success\">\n        Enlace copiado al portapapeles\n      </Alert>\n      <Alert name=\"new-success\" position=\"top\" variant=\"success\">\n        ¡Territorio creado!\n      </Alert>\n      <Alert name=\"new-fail\" position=\"top\" variant=\"failure\">\n        No se pudo crear el territorio.\n      </Alert>\n      <Alert name=\"delete-success\" position=\"top\" variant=\"success\">\n        ¡Territorio eliminado!\n      </Alert>\n      <Alert name=\"delete-fail\" position=\"top\" variant=\"failure\">\n        No se pudo eliminar el territorio.\n      </Alert>\n      <Alert name=\"update-success\" position=\"top\" variant=\"success\">\n        Actualizado\n      </Alert>\n      <Alert name=\"update-fail\" position=\"top\" variant=\"failure\">\n        No se pudo actualizar el territorio.\n      </Alert>\n      <Container className=\"pt-3 mb-5\">\n        <Breadcrumb items={breadcrumbItems} />\n        <hr />\n        <h2 className=\"mb-4\">Territorios</h2>\n        <ul className=\"mb-4\">\n          <li>\n            No se puede eliminar el primer territorio ni el actual seleccionado\n          </li>\n          <li>\n            Los territorios privados solo pueden \"desbloquearse\" con el enlace\n            de territorio, por dispositivo\n          </li>\n        </ul>\n        <Button color=\"success\" onClick={toggleNewTerritoryForm}>\n          Nuevo\n        </Button>\n        <Collapse isOpen={showNewTerritoryForm}>\n          <NewTerritoryForm>\n            {isCreatingNew ? (\n              <Spinner />\n            ) : (\n              <>\n                <StyledInput\n                  placeholder=\"Nombre\"\n                  value={newName}\n                  onChange={(e: ChangeEvent<HTMLInputElement>) =>\n                    setNewName(e.target.value)\n                  }\n                />\n                <Button\n                  color=\"info\"\n                  onClick={onCreateNew}\n                  disabled={newName.length === 0}\n                >\n                  Crear\n                </Button>\n              </>\n            )}\n          </NewTerritoryForm>\n        </Collapse>\n        <Table borderless responsive>\n          <thead>\n            <tr>\n              <th>Nombre</th>\n              <th>Estado</th>\n              <th>Enlace</th>\n              <th>En campaña</th>\n              <th>Público</th>\n              <th>Acciones</th>\n            </tr>\n          </thead>\n          <tbody>\n            {territories.map((territory) => (\n              <tr key={territory.id}>\n                <td\n                  onMouseEnter={() => setHoveringId(territory.id)}\n                  onMouseLeave={() => setHoveringId(0)}\n                >\n                  {editingName?.id === territory.id ? (\n                    <StyledInput\n                      id=\"editing-input\"\n                      value={editingName.name}\n                      onChange={(e: React.ChangeEvent<HTMLInputElement>) =>\n                        setEditingName({ ...editingName, name: e.target.value })\n                      }\n                      error={invalidEditingName}\n                    />\n                  ) : (\n                    <>\n                      {territory.name}\n                      {hoveringId !== territory.id ? (\n                        ` (${territory.totalNumbers})`\n                      ) : (\n                        <>\n                          {' '}\n                          <span\n                            style={{ cursor: 'pointer' }}\n                            onClick={() =>\n                              setImmediate(() =>\n                                setEditingName({\n                                  id: territory.id,\n                                  name: territory.name,\n                                })\n                              )\n                            }\n                          >\n                            ✏️\n                          </span>\n                        </>\n                      )}\n                    </>\n                  )}\n                </td>\n                <ActiveCell active={!!territory.active}>\n                  {territory.active ? 'Habilitado' : 'Deshabilitado'}\n                </ActiveCell>\n                <LinkTd>\n                  <a href={buildTerritoryURL(territory.name)} target=\"_new\">\n                    {buildTerritoryURL(territory.name)}\n                  </a>\n                  <Button\n                    color=\"secondary\"\n                    size=\"sm\"\n                    style={{ marginRight: '.5em', marginLeft: '.5em' }}\n                    onClick={() => copyLink(territory.name)}\n                  >\n                    Copiar\n                  </Button>\n                </LinkTd>\n                <CampaignCell\n                  active={!!territory.campaignMode}\n                  completed={territory.completed === 100}\n                >\n                  {territory.campaignMode\n                    ? `Activa (${territory.completed}% completado)`\n                    : 'No'}\n                </CampaignCell>\n                <td>\n                  <Switch\n                    id={territory.id.toString()}\n                    checked={!!territory.public}\n                    onChange={() => onUpdate(territory.id, 'public')}\n                  />\n                </td>\n                <td style={{ display: 'flex', justifyContent: 'center' }}>\n                  <Button\n                    color={territory.active ? 'warning' : 'success'}\n                    size=\"sm\"\n                    onClick={() => onUpdate(territory.id, 'active')}\n                  >\n                    {territory.active ? 'Deshabilitar' : 'Habilitar'}\n                  </Button>\n                  <Button\n                    color={territory.campaignMode ? 'secondary' : 'info'}\n                    size=\"sm\"\n                    style={{ marginLeft: '.5em' }}\n                    onClick={\n                      territory.campaignMode\n                        ? () => askCampaignOffconfirmation(territory.id)\n                        : () => onUpdate(territory.id, 'campaignMode')\n                    }\n                  >\n                    {territory.campaignMode ? 'Desactivar' : 'Activar'} campaña\n                  </Button>\n                  <Button\n                    style={{ marginLeft: '.5em' }}\n                    color=\"danger \"\n                    size=\"sm\"\n                    onClick={() => askDeleteConfirmation(territory.id)}\n                    disabled={\n                      territory.id === currentTerritory.id || territory.id === 1\n                    }\n                  >\n                    Eliminar\n                  </Button>\n                </td>\n              </tr>\n            ))}\n          </tbody>\n        </Table>\n      </Container>\n      {idToDelete !== null && territoryToDelete && (\n        <ConfirmationModal\n          isOpen={isDeleteModalOpen}\n          toggleModal={toggleDeleteModal}\n          onConfirm={onDelete}\n          title=\"¡Advertencia!\"\n          body={\n            isDeleting ? (\n              <Spinner fulfill />\n            ) : (\n              <div>\n                <p>\n                  Al borrar un territorio, todos los números que tenga asignado\n                  actualmente no serán borrados, sino que serán movidos al\n                  territorio base.\n                </p>\n                <p>¿Seguro que desea eliminar el siguiente territorio?</p>\n                <span className=\"d-block\">\n                  Nombre: {territoryToDelete.name}\n                </span>\n              </div>\n            )\n          }\n          buttonColor=\"danger\"\n          confirmationLabel=\"Eliminar\"\n        />\n      )}\n      {idToUpdate !== null && territoryToUpdate && (\n        <ConfirmationModal\n          isOpen={isCampaignOffModalOpen}\n          toggleModal={toggleCampaignOffModal}\n          onConfirm={() => onUpdate(idToUpdate, 'campaignMode')}\n          title=\"¡Advertencia!\"\n          body={\n            <div>\n              <p>\n                Al desactivar la campaña de este territorio, la campaña se\n                reinicirá a cero y se perderá todo el progreso actual.\n              </p>\n              <p>\n                ¿Seguro que desea desactivar la campaña del siguiente\n                territorio?\n              </p>\n              <span className=\"d-block\">Nombre: {territoryToUpdate.name}</span>\n            </div>\n          }\n          buttonColor=\"danger\"\n          confirmationLabel=\"Desactivar\"\n        />\n      )}\n    </>\n  )\n}\n\nconst LinkTd = styled.td`\n  text-overflow: ellipsis;\n  overflow: hidden;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  > span {\n    max-width: 300px;\n    text-overflow: ellipsis;\n    overflow: hidden;\n  }\n`\n\nconst NewTerritoryForm = styled.div`\n  display: flex;\n  margin: 1em 0;\n  justify-content: center;\n\n  button {\n    margin-left: 0.5em;\n  }\n`\n\nconst StyledInput = styled(Input)<{ error?: boolean }>`\n  ${({ error, theme }) =>\n    error &&\n    css`\n      background-color: ${theme.text.colors.error} !important;\n    `}\n`\n\nconst ActiveCell = styled.td<{ active: boolean; neutral?: boolean }>`\n  color: ${({ active, theme, neutral }) =>\n    active ? theme.text.colors.green : neutral ? '' : theme.text.colors.error};\n`\n\nconst CampaignCell = styled.td<{ active: boolean; completed: boolean }>`\n  color: ${({ active, theme, completed }) =>\n    !active\n      ? ''\n      : completed\n      ? theme.text.colors.green\n      : theme.text.colors.yellow};\n`\n\nexport { ManageTerritories }\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","export { ManageTerritories as default } from './ManageTerritories'\n"],"sourceRoot":""}